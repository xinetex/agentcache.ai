import"./modulepreload-polyfill-B5Qt9EMX.js";import{r as ct,j as Y,R as qh,c as vy,g as Qh,d as Sy,b as Lh}from"./client-DwJ0wxic.js";import{u as by,d4 as Ey,R as _y,a6 as er,a8 as nr,o as xy,d5 as Kl,cL as Cy,n as Ay,cJ as Ty,r as My,cT as Ry,m as Yh,N as Ny,a0 as Oy,d6 as yf,d as Gh,v as jy,ab as By,a as oe,V as Ve,d1 as zy,d7 as Dy,cY as xo,ak as mf,M as Ki,T as Fi,cZ as wy,P as Uy,av as ky,d2 as Oo,c2 as Hy,b9 as qy,c_ as Qy}from"./extends-EVGp5csO.js";function Ly({onClose:r,onComplete:a}){const[h,l]=ct.useState(1),[d,C]=ct.useState(!1),[_,c]=ct.useState(null),[p,y]=ct.useState({name:"",mission:"Scientific Discovery (Genesis Mission)"}),[m,g]=ct.useState("IL4"),[b,x]=ct.useState({fedramp:!0,hipaa:!1,neutrality:!0}),v=async()=>{if(h===1){if(!p.name.trim()){c("Please enter your Agency Name");return}c(null),l(2)}else h===2?l(3):h===3&&(l(4),await O())},O=async()=>{C(!0),c(null),setTimeout(()=>{C(!1),a&&a({agency:p,security:m,compliance:b})},2e3)},N=A=>{A!=="fedramp"&&x(j=>({...j,[A]:!j[A]}))};return Y.jsx("div",{className:"wizard-overlay-gov",onClick:r,children:Y.jsxs("div",{className:"wizard-modal-gov",onClick:A=>A.stopPropagation(),children:[Y.jsxs("div",{className:"wizard-header-gov",children:[Y.jsxs("div",{className:"wizard-brand",children:[Y.jsx("div",{className:"wizard-icon-gov",children:Y.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:Y.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})})}),Y.jsxs("div",{children:[Y.jsx("h2",{children:"Government Workspace"}),Y.jsx("p",{className:"wizard-subtitle",children:"Secure Onboarding & Provisioning"})]})]}),Y.jsxs("div",{className:"wizard-controls",children:[Y.jsxs("div",{className:"step-indicator",children:[Y.jsx("span",{className:"step-number",children:h}),Y.jsx("span",{className:"step-label",children:h===1?"Profile":h===2?"Security":h===3?"Compliance":"Provision"}),Y.jsx("span",{className:"step-total",children:"/ 4"})]}),Y.jsx("button",{className:"close-btn-gov",onClick:r,children:"âœ•"})]})]}),Y.jsxs("div",{className:"wizard-body-gov",children:[h===1&&Y.jsxs("div",{className:"wizard-step-gov",children:[Y.jsx("div",{className:"step-header",children:Y.jsxs("div",{children:[Y.jsx("h3",{children:"Agency Profile"}),Y.jsx("p",{children:"Establish your secure tenant identity."})]})}),Y.jsxs("div",{className:"gov-input-group",children:[Y.jsx("label",{children:"Agency / Department Name"}),Y.jsx("input",{type:"text",className:"gov-input",placeholder:"e.g. Department of Energy",value:p.name,onChange:A=>y({...p,name:A.target.value})})]}),Y.jsxs("div",{className:"gov-input-group",children:[Y.jsx("label",{children:"Mission Area"}),Y.jsxs("select",{className:"gov-select",value:p.mission,onChange:A=>y({...p,mission:A.target.value}),children:[Y.jsx("option",{children:"Scientific Discovery (Genesis Mission)"}),Y.jsx("option",{children:"National Security"}),Y.jsx("option",{children:"Citizen Services"}),Y.jsx("option",{children:"Healthcare (VA/HHS)"})]})]}),_&&Y.jsx("div",{className:"text-red-400 text-sm mt-2",children:_})]}),h===2&&Y.jsxs("div",{className:"wizard-step-gov",children:[Y.jsxs("div",{className:"step-header",children:[Y.jsx("h3",{children:"Security Impact Level"}),Y.jsx("p",{children:"Select the data classification for this workspace."})]}),Y.jsxs("div",{className:"gov-grid",children:[Y.jsxs("button",{className:`gov-card ${m==="IL2"?"selected":""}`,onClick:()=>g("IL2"),children:[Y.jsx("div",{className:"card-icon",children:"ðŸ›¡ï¸"}),Y.jsxs("div",{className:"card-content",children:[Y.jsxs("div",{className:"card-title-row",children:[Y.jsx("h4",{children:"IL2 (Public)"}),Y.jsx("span",{className:"badge badge-il",children:"Low Impact"})]}),Y.jsx("p",{children:"Non-controlled unclassified information. Standard security controls."})]}),m==="IL2"&&Y.jsx("div",{className:"selection-indicator",children:Y.jsx("div",{className:"selection-dot"})})]}),Y.jsxs("button",{className:`gov-card ${m==="IL4"?"selected":""}`,onClick:()=>g("IL4"),children:[Y.jsx("div",{className:"card-icon",children:"ðŸ”’"}),Y.jsxs("div",{className:"card-content",children:[Y.jsxs("div",{className:"card-title-row",children:[Y.jsx("h4",{children:"IL4 (CUI)"}),Y.jsx("span",{className:"badge badge-il",children:"Moderate"})]}),Y.jsx("p",{children:"Controlled Unclassified Information (PII/PHI). Enhanced privacy controls."})]}),m==="IL4"&&Y.jsx("div",{className:"selection-indicator",children:Y.jsx("div",{className:"selection-dot"})})]}),Y.jsxs("button",{className:`gov-card ${m==="IL5"?"selected":""}`,onClick:()=>g("IL5"),children:[Y.jsx("div",{className:"card-icon",children:"â˜¢ï¸"}),Y.jsxs("div",{className:"card-content",children:[Y.jsxs("div",{className:"card-title-row",children:[Y.jsx("h4",{children:"IL5 (Mission Critical)"}),Y.jsx("span",{className:"badge badge-critical",children:"High Impact"})]}),Y.jsx("p",{children:"National Security Systems (NSS). Highest level of unclassified protection."})]}),m==="IL5"&&Y.jsx("div",{className:"selection-indicator",children:Y.jsx("div",{className:"selection-dot"})})]})]})]}),h===3&&Y.jsxs("div",{className:"wizard-step-gov",children:[Y.jsxs("div",{className:"step-header",children:[Y.jsx("h3",{children:"Compliance Frameworks"}),Y.jsx("p",{children:"Enable automated evidence collection."})]}),Y.jsxs("div",{className:"compliance-list",children:[Y.jsxs("div",{className:"compliance-item checked",children:[Y.jsx("div",{className:"checkbox-custom",children:"âœ“"}),Y.jsxs("div",{children:[Y.jsx("h4",{className:"text-white font-medium",children:"FedRAMP (NIST 800-53)"}),Y.jsx("p",{className:"text-slate-400 text-sm",children:"Mandatory. Automated OSCAL evidence generation enabled."})]})]}),Y.jsxs("div",{className:`compliance-item ${b.hipaa?"checked":""}`,onClick:()=>N("hipaa"),children:[Y.jsx("div",{className:"checkbox-custom",children:b.hipaa&&"âœ“"}),Y.jsxs("div",{children:[Y.jsx("h4",{className:"text-white font-medium",children:"HIPAA / HITECH"}),Y.jsx("p",{className:"text-slate-400 text-sm",children:"Required for VA/HHS health data processing."})]})]}),Y.jsxs("div",{className:`compliance-item ${b.neutrality?"checked":""}`,onClick:()=>N("neutrality"),children:[Y.jsx("div",{className:"checkbox-custom",children:b.neutrality&&"âœ“"}),Y.jsxs("div",{children:[Y.jsx("h4",{className:"text-white font-medium",children:"Viewpoint Neutrality Mandate"}),Y.jsx("p",{className:"text-slate-400 text-sm",children:"Enforce objective truth standards (Executive Order 2025)."})]})]})]})]}),h===4&&Y.jsx("div",{className:"wizard-step-gov",children:d?Y.jsxs("div",{className:"loading-state-gov",children:[Y.jsx("div",{className:"spinner-gov"}),Y.jsx("p",{children:"Provisioning Secure Workspace..."}),Y.jsx("span",{className:"loading-subtitle-gov",children:"Configuring Trust Center & OSCAL Controls"})]}):Y.jsxs("div",{className:"text-center py-12",children:[Y.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-500/20 mb-6",children:Y.jsx("svg",{className:"h-8 w-8 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),Y.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Workspace Ready"}),Y.jsx("p",{className:"text-slate-400 mb-8",children:"Your FedRAMP-aligned environment is active."}),Y.jsxs("div",{className:"bg-slate-900/50 p-6 rounded-xl text-left max-w-md mx-auto border border-slate-800",children:[Y.jsxs("div",{className:"flex justify-between mb-2",children:[Y.jsx("span",{className:"text-slate-500",children:"Agency"}),Y.jsx("span",{className:"text-white font-medium",children:p.name})]}),Y.jsxs("div",{className:"flex justify-between mb-2",children:[Y.jsx("span",{className:"text-slate-500",children:"Impact Level"}),Y.jsx("span",{className:"text-blue-400 font-mono",children:m})]}),Y.jsxs("div",{className:"flex justify-between",children:[Y.jsx("span",{className:"text-slate-500",children:"Compliance"}),Y.jsx("span",{className:"text-green-400",children:"FedRAMP Active"})]})]})]})})]}),Y.jsxs("div",{className:"wizard-footer-gov",children:[Y.jsxs("div",{className:"footer-hint",children:[Y.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:Y.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})}),Y.jsx("span",{children:"All actions logged to immutable audit trail."})]}),Y.jsxs("div",{className:"footer-actions",children:[h>1&&h<4&&Y.jsx("button",{className:"btn-gov btn-secondary-gov",onClick:()=>l(h-1),children:"Back"}),h<4&&Y.jsx("button",{className:"btn-gov btn-primary-gov",onClick:v,children:Y.jsx("span",{children:h===3?"Provision Workspace":"Next"})}),h===4&&!d&&Y.jsx("button",{className:"btn-gov btn-primary-gov",onClick:r,children:"Enter Workspace"})]})]})]})})}var Fl={exports:{}},xn={};var gf;function Yy(){return gf||(gf=1,xn.ConcurrentRoot=1,xn.ContinuousEventPriority=8,xn.DefaultEventPriority=32,xn.DiscreteEventPriority=2,xn.IdleEventPriority=268435456,xn.LegacyRoot=0,xn.NoEventPriority=0),xn}var vf;function Gy(){return vf||(vf=1,Fl.exports=Yy()),Fl.exports}var ir=Gy();const Sf=r=>{let a;const h=new Set,l=(y,m)=>{const g=typeof y=="function"?y(a):y;if(!Object.is(g,a)){const b=a;a=m??(typeof g!="object"||g===null)?g:Object.assign({},a,g),h.forEach(x=>x(a,b))}},d=()=>a,c={setState:l,getState:d,getInitialState:()=>p,subscribe:y=>(h.add(y),()=>h.delete(y))},p=a=r(l,d,c);return c},Vy=(r=>r?Sf(r):Sf),{useSyncExternalStoreWithSelector:Ky}=by,Fy=r=>r;function Xy(r,a=Fy,h){const l=Ky(r.subscribe,r.getState,r.getInitialState,a,h);return qh.useDebugValue(l),l}const bf=(r,a)=>{const h=Vy(r),l=(d,C=a)=>Xy(h,d,C);return Object.assign(l,h),l},Zy=((r,a)=>r?bf(r,a):bf);var Xl={exports:{}},Zl={exports:{}},Pl={exports:{}},Il={};var Ef;function Py(){return Ef||(Ef=1,(function(r){function a(k,F){var Z=k.length;k.push(F);t:for(;0<Z;){var w=Z-1>>>1,W=k[w];if(0<d(W,F))k[w]=F,k[Z]=W,Z=w;else break t}}function h(k){return k.length===0?null:k[0]}function l(k){if(k.length===0)return null;var F=k[0],Z=k.pop();if(Z!==F){k[0]=Z;t:for(var w=0,W=k.length,nt=W>>>1;w<nt;){var ot=2*(w+1)-1,St=k[ot],dt=ot+1,xt=k[dt];if(0>d(St,Z))dt<W&&0>d(xt,St)?(k[w]=xt,k[dt]=Z,w=dt):(k[w]=St,k[ot]=Z,w=ot);else if(dt<W&&0>d(xt,Z))k[w]=xt,k[dt]=Z,w=dt;else break t}}return F}function d(k,F){var Z=k.sortIndex-F.sortIndex;return Z!==0?Z:k.id-F.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var C=performance;r.unstable_now=function(){return C.now()}}else{var _=Date,c=_.now();r.unstable_now=function(){return _.now()-c}}var p=[],y=[],m=1,g=null,b=3,x=!1,v=!1,O=!1,N=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function R(k){for(var F=h(y);F!==null;){if(F.callback===null)l(y);else if(F.startTime<=k)l(y),F.sortIndex=F.expirationTime,a(p,F);else break;F=h(y)}}function L(k){if(O=!1,R(k),!v)if(h(p)!==null)v=!0,G();else{var F=h(y);F!==null&&at(L,F.startTime-k)}}var X=!1,et=-1,T=5,B=-1;function Q(){return!(r.unstable_now()-B<T)}function U(){if(X){var k=r.unstable_now();B=k;var F=!0;try{t:{v=!1,O&&(O=!1,A(et),et=-1),x=!0;var Z=b;try{e:{for(R(k),g=h(p);g!==null&&!(g.expirationTime>k&&Q());){var w=g.callback;if(typeof w=="function"){g.callback=null,b=g.priorityLevel;var W=w(g.expirationTime<=k);if(k=r.unstable_now(),typeof W=="function"){g.callback=W,R(k),F=!0;break e}g===h(p)&&l(p),R(k)}else l(p);g=h(p)}if(g!==null)F=!0;else{var nt=h(y);nt!==null&&at(L,nt.startTime-k),F=!1}}break t}finally{g=null,b=Z,x=!1}F=void 0}}finally{F?tt():X=!1}}}var tt;if(typeof j=="function")tt=function(){j(U)};else if(typeof MessageChannel<"u"){var pt=new MessageChannel,D=pt.port2;pt.port1.onmessage=U,tt=function(){D.postMessage(null)}}else tt=function(){N(U,0)};function G(){X||(X=!0,tt())}function at(k,F){et=N(function(){k(r.unstable_now())},F)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(k){k.callback=null},r.unstable_continueExecution=function(){v||x||(v=!0,G())},r.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<k?Math.floor(1e3/k):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_getFirstCallbackNode=function(){return h(p)},r.unstable_next=function(k){switch(b){case 1:case 2:case 3:var F=3;break;default:F=b}var Z=b;b=F;try{return k()}finally{b=Z}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(k,F){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var Z=b;b=k;try{return F()}finally{b=Z}},r.unstable_scheduleCallback=function(k,F,Z){var w=r.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?w+Z:w):Z=w,k){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=Z+W,k={id:m++,callback:F,priorityLevel:k,startTime:Z,expirationTime:W,sortIndex:-1},Z>w?(k.sortIndex=Z,a(y,k),h(p)===null&&k===h(y)&&(O?(A(et),et=-1):O=!0,at(L,Z-w))):(k.sortIndex=W,a(p,k),v||x||(v=!0,G())),k},r.unstable_shouldYield=Q,r.unstable_wrapCallback=function(k){var F=b;return function(){var Z=b;b=F;try{return k.apply(this,arguments)}finally{b=Z}}}})(Il)),Il}var _f;function Iy(){return _f||(_f=1,Pl.exports=Py()),Pl.exports}var xf;function Jy(){return xf||(xf=1,(function(r){r.exports=function(a){function h(t,e,n,i){return new wd(t,e,n,i)}function l(){}function d(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function C(t){return t===null||typeof t!="object"?null:(t=Dc&&t[Dc]||t["@@iterator"],typeof t=="function"?t:null)}function _(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Ld?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ti:return"Fragment";case Ai:return"Portal";case hl:return"Profiler";case jc:return"StrictMode";case pl:return"Suspense";case yl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case wn:return(t.displayName||"Context")+".Provider";case Bc:return(t._context.displayName||"Context")+".Consumer";case dl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ml:return e=t.displayName||null,e!==null?e:_(t.type)||"Memo";case Un:e=t._payload,t=t._init;try{return _(t(e))}catch{}}return null}function c(t){if(gl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);gl=e&&e[1]||"",wc=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gl+t+wc}function p(t,e){if(!t||vl)return"";vl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var ft=function(){throw Error()};if(Object.defineProperty(ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ft,[])}catch(Et){var ht=Et}Reflect.construct(t,[],ft)}else{try{ft.call()}catch(Et){ht=Et}t.call(ft.prototype)}}else{try{throw Error()}catch(Et){ht=Et}(ft=t())&&typeof ft.catch=="function"&&ft.catch(function(){})}}catch(Et){if(Et&&ht&&typeof Et.stack=="string")return[Et.stack,ht.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=i.DetermineComponentFrameRoot(),E=u[0],z=u[1];if(E&&z){var K=E.split(`
`),it=z.split(`
`);for(s=i=0;i<K.length&&!K[i].includes("DetermineComponentFrameRoot");)i++;for(;s<it.length&&!it[s].includes("DetermineComponentFrameRoot");)s++;if(i===K.length||s===it.length)for(i=K.length-1,s=it.length-1;1<=i&&0<=s&&K[i]!==it[s];)s--;for(;1<=i&&0<=s;i--,s--)if(K[i]!==it[s]){if(i!==1||s!==1)do if(i--,s--,0>s||K[i]!==it[s]){var lt=`
`+K[i].replace(" at new "," at ");return t.displayName&&lt.includes("<anonymous>")&&(lt=lt.replace("<anonymous>",t.displayName)),lt}while(1<=i&&0<=s);break}}}finally{vl=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?c(n):""}function y(t){switch(t.tag){case 26:case 27:case 5:return c(t.type);case 16:return c("Lazy");case 13:return c("Suspense");case 19:return c("SuspenseList");case 0:case 15:return t=p(t.type,!1),t;case 11:return t=p(t.type.render,!1),t;case 1:return t=p(t.type,!0),t;default:return""}}function m(t){try{var e="";do e+=y(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function g(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function b(t){if(g(t)!==t)throw Error(d(188))}function x(t){var e=t.alternate;if(!e){if(e=g(t),e===null)throw Error(d(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var u=s.alternate;if(u===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===u.child){for(u=s.child;u;){if(u===n)return b(s),t;if(u===i)return b(s),e;u=u.sibling}throw Error(d(188))}if(n.return!==i.return)n=s,i=u;else{for(var E=!1,z=s.child;z;){if(z===n){E=!0,n=s,i=u;break}if(z===i){E=!0,i=s,n=u;break}z=z.sibling}if(!E){for(z=u.child;z;){if(z===n){E=!0,n=u,i=s;break}if(z===i){E=!0,i=u,n=s;break}z=z.sibling}if(!E)throw Error(d(189))}}if(n.alternate!==i)throw Error(d(190))}if(n.tag!==3)throw Error(d(188));return n.stateNode.current===n?t:e}function v(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=v(t),e!==null)return e;t=t.sibling}return null}function O(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(t.tag!==4&&(e=O(t),e!==null))return e;t=t.sibling}return null}function N(t){return{current:t}}function A(t){0>Ri||(t.current=Cl[Ri],Cl[Ri]=null,Ri--)}function j(t,e){Ri++,Cl[Ri]=t.current,t.current=e}function R(t){return t>>>=0,t===0?32:31-(ny(t)/iy|0)|0}function L(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function X(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,s=t.suspendedLanes,u=t.pingedLanes,E=t.warmLanes;t=t.finishedLanes!==0;var z=n&134217727;return z!==0?(n=z&~s,n!==0?i=L(n):(u&=z,u!==0?i=L(u):t||(E=z&~E,E!==0&&(i=L(E))))):(z=n&~s,z!==0?i=L(z):u!==0?i=L(u):t||(E=n&~E,E!==0&&(i=L(E)))),i===0?0:e!==0&&e!==i&&(e&s)===0&&(s=i&-i,E=e&-e,s>=E||s===32&&(E&4194176)!==0)?e:i}function et(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function T(t,e){switch(t){case 1:case 2:case 4:case 8:return e+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function B(){var t=ls;return ls<<=1,(ls&4194176)===0&&(ls=128),t}function Q(){var t=os;return os<<=1,(os&62914560)===0&&(os=4194304),t}function U(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function tt(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function pt(t,e,n,i,s,u){var E=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var z=t.entanglements,K=t.expirationTimes,it=t.hiddenUpdates;for(n=E&~n;0<n;){var lt=31-Oe(n),ft=1<<lt;z[lt]=0,K[lt]=-1;var ht=it[lt];if(ht!==null)for(it[lt]=null,lt=0;lt<ht.length;lt++){var Et=ht[lt];Et!==null&&(Et.lane&=-536870913)}n&=~ft}i!==0&&D(t,i,0),u!==0&&s===0&&t.tag!==0&&(t.suspendedLanes|=u&~(E&~e))}function D(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-Oe(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&4194218}function G(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Oe(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}function at(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function k(t){if(je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(ga,t,void 0,(t.current.flags&128)===128)}catch{}}function F(t){if(typeof oy=="function"&&uy(t),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(ga,t)}catch{}}function Z(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}function w(t,e){if(typeof t=="object"&&t!==null){var n=of.get(t);return n!==void 0?n:(e={value:t,source:e,stack:m(e)},of.set(t,e),e)}return{value:t,source:e,stack:m(e)}}function W(t,e){Oi[ji++]=fs,Oi[ji++]=cs,cs=t,fs=e}function nt(t,e,n){He[qe++]=gn,He[qe++]=vn,He[qe++]=ri,ri=t;var i=gn;t=vn;var s=32-Oe(i)-1;i&=~(1<<s),n+=1;var u=32-Oe(e)+s;if(30<u){var E=s-s%5;u=(i&(1<<E)-1).toString(32),i>>=E,s-=E,gn=1<<32-Oe(e)+s|n<<s|i,vn=u+t}else gn=1<<u|n<<s|i,vn=t}function ot(t){t.return!==null&&(W(t,1),nt(t,1,0))}function St(t){for(;t===cs;)cs=Oi[--ji],Oi[ji]=null,fs=Oi[--ji],Oi[ji]=null;for(;t===ri;)ri=He[--qe],He[qe]=null,vn=He[--qe],He[qe]=null,gn=He[--qe],He[qe]=null}function dt(t,e){j(Hn,e),j(va,t),j(ee,null),t=Vd(e),A(ee),j(ee,t)}function xt(){A(ee),A(va),A(Hn)}function It(t){t.memoizedState!==null&&j(hs,t);var e=ee.current,n=Kd(e,t.type);e!==n&&(j(va,t),j(ee,n))}function ln(t){va.current===t&&(A(ee),A(va)),hs.current===t&&(A(hs),mn?si._currentValue=Mi:si._currentValue2=Mi)}function ie(t){var e=Error(d(418,""));throw ce(w(e,t)),Ml}function An(t,e){if(!Ue)throw Error(d(175));Hp(t.stateNode,t.type,t.memoizedProps,e,t)||ie(t)}function Zn(t){for(ye=t.return;ye;)switch(ye.tag){case 3:case 27:en=!0;return;case 5:case 13:en=!1;return;default:ye=ye.return}}function on(t){if(!Ue||t!==ye)return!1;if(!Nt)return Zn(t),Nt=!0,!1;var e=!1;if(re?t.tag!==3&&t.tag!==27&&(t.tag!==5||Ic(t.type)&&!rs(t.type,t.memoizedProps))&&(e=!0):t.tag!==3&&(t.tag!==5||Ic(t.type)&&!rs(t.type,t.memoizedProps))&&(e=!0),e&&le&&ie(t),Zn(t),t.tag===13){if(!Ue)throw Error(d(316));if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(d(317));le=Lp(t)}else le=ye?Zc(t.stateNode):null;return!0}function Ke(){Ue&&(le=ye=null,Nt=!1)}function ce(t){Ie===null?Ie=[t]:Ie.push(t)}function _e(){for(var t=Bi,e=Rl=Bi=0;e<t;){var n=Qe[e];Qe[e++]=null;var i=Qe[e];Qe[e++]=null;var s=Qe[e];Qe[e++]=null;var u=Qe[e];if(Qe[e++]=null,i!==null&&s!==null){var E=i.pending;E===null?s.next=s:(s.next=E.next,E.next=s),i.pending=s}u!==0&&In(n,s,u)}}function Tn(t,e,n,i){Qe[Bi++]=t,Qe[Bi++]=e,Qe[Bi++]=n,Qe[Bi++]=i,Rl|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function Pn(t,e,n,i){return Tn(t,e,n,i),un(t)}function fe(t,e){return Tn(t,null,null,e),un(t)}function In(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var s=!1,u=t.return;u!==null;)u.childLanes|=n,i=u.alternate,i!==null&&(i.childLanes|=n),u.tag===22&&(t=u.stateNode,t===null||t._visibility&1||(s=!0)),t=u,u=u.return;s&&e!==null&&t.tag===3&&(u=t.stateNode,s=31-Oe(n),u=u.hiddenUpdates,t=u[s],t===null?u[s]=[e]:t.push(e),e.lane=n|536870912)}function un(t){if(50<Ma)throw Ma=0,Vl=null,Error(d(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}function he(t){t!==zi&&t.next===null&&(zi===null?ds=zi=t:zi=zi.next=t),ps=!0,Nl||(Nl=!0,na(de))}function xe(t,e){if(!Ol&&ps){Ol=!0;do for(var n=!1,i=ds;i!==null;){if(t!==0){var s=i.pendingLanes;if(s===0)var u=0;else{var E=i.suspendedLanes,z=i.pingedLanes;u=(1<<31-Oe(42|t)+1)-1,u&=s&~(E&~z),u=u&201326677?u&201326677|1:u?u|2:0}u!==0&&(n=!0,Ce(i,u))}else u=Mt,u=X(i,i===wt?u:0),(u&3)===0||et(i,u)||(n=!0,Ce(i,u));i=i.next}while(n);Ol=!1}}function de(){ps=Nl=!1;var t=0;Di!==0&&($d()&&(t=Di),Di=0);for(var e=Pe(),n=null,i=ds;i!==null;){var s=i.next,u=We(i,e);u===0?(i.next=null,n===null?ds=s:n.next=s,s===null&&(zi=n)):(n=i,(t!==0||(u&3)!==0)&&(ps=!0)),i=s}xe(t)}function We(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,u=t.pendingLanes&-62914561;0<u;){var E=31-Oe(u),z=1<<E,K=s[E];K===-1?((z&n)===0||(z&i)!==0)&&(s[E]=T(z,e)):K<=e&&(t.expiredLanes|=z),u&=~z}if(e=wt,n=Mt,n=X(t,t===e?n:0),i=t.callbackNode,n===0||t===e&&Ut===2||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Al(i),t.callbackNode=null,t.callbackPriority=0;if((n&3)===0||et(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&Al(i),at(n)){case 2:case 8:n=ry;break;case 32:n=Tl;break;case 268435456:n=ly;break;default:n=Tl}return i=$e.bind(null,t),n=us(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&Al(i),t.callbackPriority=2,t.callbackNode=null,2}function $e(t,e){var n=t.callbackNode;if(ni()&&t.callbackNode!==n)return null;var i=Mt;return i=X(t,t===wt?i:0),i===0?null:(cc(t,i,e),We(t,Pe()),t.callbackNode!=null&&t.callbackNode===n?$e.bind(null,t):null)}function Ce(t,e){if(ni())return null;cc(t,e,!0)}function na(t){sp?rp(function(){(Dt&6)!==0?us(lf,t):t()}):us(lf,t)}function S(){return Di===0&&(Di=B()),Di}function o(t,e){if(Sa===null){var n=Sa=[];jl=0,wi=S(),Ui={status:"pending",value:void 0,then:function(i){n.push(i)}}}return jl++,e.then(f,f),e}function f(){if(--jl===0&&Sa!==null){Ui!==null&&(Ui.status="fulfilled");var t=Sa;Sa=null,wi=0,Ui=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function M(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var s=0;s<n.length;s++)(0,n[s])(e)},function(s){for(i.status="rejected",i.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),i}function q(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function I(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function $(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function gt(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,(Dt&2)!==0){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,e=un(t),In(t,null,n),e}return Tn(t,i,e,n),un(t)}function Rt(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194176)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,G(t,n)}}function H(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var E={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};u===null?s=u=E:u=u.next=E,n=n.next}while(n!==null);u===null?s=u=e:u=u.next=e}else s=u=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:u,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function st(){if(Bl){var t=Ui;if(t!==null)throw t}}function ut(t,e,n,i){Bl=!1;var s=t.updateQueue;qn=!1;var u=s.firstBaseUpdate,E=s.lastBaseUpdate,z=s.shared.pending;if(z!==null){s.shared.pending=null;var K=z,it=K.next;K.next=null,E===null?u=it:E.next=it,E=K;var lt=t.alternate;lt!==null&&(lt=lt.updateQueue,z=lt.lastBaseUpdate,z!==E&&(z===null?lt.firstBaseUpdate=it:z.next=it,lt.lastBaseUpdate=K))}if(u!==null){var ft=s.baseState;E=0,lt=it=K=null,z=u;do{var ht=z.lane&-536870913,Et=ht!==z.lane;if(Et?(Mt&ht)===ht:(i&ht)===ht){ht!==0&&ht===wi&&(Bl=!0),lt!==null&&(lt=lt.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});t:{var Ge=t,Ra=z;ht=e;var yi=n;switch(Ra.tag){case 1:if(Ge=Ra.payload,typeof Ge=="function"){ft=Ge.call(yi,ft,ht);break t}ft=Ge;break t;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=Ra.payload,ht=typeof Ge=="function"?Ge.call(yi,ft,ht):Ge,ht==null)break t;ft=fl({},ft,ht);break t;case 2:qn=!0}}ht=z.callback,ht!==null&&(t.flags|=64,Et&&(t.flags|=8192),Et=s.callbacks,Et===null?s.callbacks=[ht]:Et.push(ht))}else Et={lane:ht,tag:z.tag,payload:z.payload,callback:z.callback,next:null},lt===null?(it=lt=Et,K=ft):lt=lt.next=Et,E|=ht;if(z=z.next,z===null){if(z=s.shared.pending,z===null)break;Et=z,z=Et.next,Et.next=null,s.lastBaseUpdate=Et,s.shared.pending=null}}while(!0);lt===null&&(K=ft),s.baseState=K,s.firstBaseUpdate=it,s.lastBaseUpdate=lt,u===null&&(s.shared.lanes=0),Yn|=E,t.lanes=E,t.memoizedState=ft}}function Tt(t,e){if(typeof t!="function")throw Error(d(191,t));t.call(e)}function Gt(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)Tt(n[t],e)}function me(t,e){if(Be(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!cy.call(e,s)||!Be(t[s],e[s]))return!1}return!0}function Fe(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ia(){}function aa(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(ia,ia),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,t===ba?Error(d(483)):t;default:if(typeof e.status=="string")e.then(ia,ia);else{if(t=wt,t!==null&&100<t.shellSuspendCounter)throw Error(d(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var s=e;s.status="fulfilled",s.value=i}},function(i){if(e.status==="pending"){var s=e;s.status="rejected",s.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,t===ba?Error(d(483)):t}throw ki=e,ba}}function we(){if(ki===null)throw Error(d(459));var t=ki;return ki=null,t}function ge(t){var e=Ea;return Ea+=1,Hi===null&&(Hi=[]),aa(Hi,t,e)}function Xe(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function tn(t,e){throw e.$$typeof===Hd?Error(d(525)):(t=Object.prototype.toString.call(e),Error(d(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Mn(t){var e=t._init;return e(t._payload)}function Jn(t){function e(P,V){if(t){var J=P.deletions;J===null?(P.deletions=[V],P.flags|=16):J.push(V)}}function n(P,V){if(!t)return null;for(;V!==null;)e(P,V),V=V.sibling;return null}function i(P){for(var V=new Map;P!==null;)P.key!==null?V.set(P.key,P):V.set(P.index,P),P=P.sibling;return V}function s(P,V){return P=Dn(P,V),P.index=0,P.sibling=null,P}function u(P,V,J){return P.index=J,t?(J=P.alternate,J!==null?(J=J.index,J<V?(P.flags|=33554434,V):J):(P.flags|=33554434,V)):(P.flags|=1048576,V)}function E(P){return t&&P.alternate===null&&(P.flags|=33554434),P}function z(P,V,J,rt){return V===null||V.tag!==6?(V=ol(J,P.mode,rt),V.return=P,V):(V=s(V,J),V.return=P,V)}function K(P,V,J,rt){var yt=J.type;return yt===Ti?lt(P,V,J.props.children,rt,J.key):V!==null&&(V.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===Un&&Mn(yt)===V.type)?(V=s(V,J.props),Xe(V,J),V.return=P,V):(V=is(J.type,J.key,J.props,null,P.mode,rt),Xe(V,J),V.return=P,V)}function it(P,V,J,rt){return V===null||V.tag!==4||V.stateNode.containerInfo!==J.containerInfo||V.stateNode.implementation!==J.implementation?(V=ul(J,P.mode,rt),V.return=P,V):(V=s(V,J.children||[]),V.return=P,V)}function lt(P,V,J,rt,yt){return V===null||V.tag!==7?(V=ii(J,P.mode,rt,yt),V.return=P,V):(V=s(V,J),V.return=P,V)}function ft(P,V,J){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=ol(""+V,P.mode,J),V.return=P,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case as:return J=is(V.type,V.key,V.props,null,P.mode,J),Xe(J,V),J.return=P,J;case Ai:return V=ul(V,P.mode,J),V.return=P,V;case Un:var rt=V._init;return V=rt(V._payload),ft(P,V,J)}if(ss(V)||C(V))return V=ii(V,P.mode,J,null),V.return=P,V;if(typeof V.then=="function")return ft(P,ge(V),J);if(V.$$typeof===wn)return ft(P,Ja(P,V),J);tn(P,V)}return null}function ht(P,V,J,rt){var yt=V!==null?V.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return yt!==null?null:z(P,V,""+J,rt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case as:return J.key===yt?K(P,V,J,rt):null;case Ai:return J.key===yt?it(P,V,J,rt):null;case Un:return yt=J._init,J=yt(J._payload),ht(P,V,J,rt)}if(ss(J)||C(J))return yt!==null?null:lt(P,V,J,rt,null);if(typeof J.then=="function")return ht(P,V,ge(J),rt);if(J.$$typeof===wn)return ht(P,V,Ja(P,J),rt);tn(P,J)}return null}function Et(P,V,J,rt,yt){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return P=P.get(J)||null,z(V,P,""+rt,yt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case as:return P=P.get(rt.key===null?J:rt.key)||null,K(V,P,rt,yt);case Ai:return P=P.get(rt.key===null?J:rt.key)||null,it(V,P,rt,yt);case Un:var kt=rt._init;return rt=kt(rt._payload),Et(P,V,J,rt,yt)}if(ss(rt)||C(rt))return P=P.get(J)||null,lt(V,P,rt,yt,null);if(typeof rt.then=="function")return Et(P,V,J,ge(rt),yt);if(rt.$$typeof===wn)return Et(P,V,J,Ja(V,rt),yt);tn(V,rt)}return null}function Ge(P,V,J,rt){for(var yt=null,kt=null,vt=V,Ot=V=0,$t=null;vt!==null&&Ot<J.length;Ot++){vt.index>Ot?($t=vt,vt=null):$t=vt.sibling;var jt=ht(P,vt,J[Ot],rt);if(jt===null){vt===null&&(vt=$t);break}t&&vt&&jt.alternate===null&&e(P,vt),V=u(jt,V,Ot),kt===null?yt=jt:kt.sibling=jt,kt=jt,vt=$t}if(Ot===J.length)return n(P,vt),Nt&&W(P,Ot),yt;if(vt===null){for(;Ot<J.length;Ot++)vt=ft(P,J[Ot],rt),vt!==null&&(V=u(vt,V,Ot),kt===null?yt=vt:kt.sibling=vt,kt=vt);return Nt&&W(P,Ot),yt}for(vt=i(vt);Ot<J.length;Ot++)$t=Et(vt,P,Ot,J[Ot],rt),$t!==null&&(t&&$t.alternate!==null&&vt.delete($t.key===null?Ot:$t.key),V=u($t,V,Ot),kt===null?yt=$t:kt.sibling=$t,kt=$t);return t&&vt.forEach(function(Vn){return e(P,Vn)}),Nt&&W(P,Ot),yt}function Ra(P,V,J,rt){if(J==null)throw Error(d(151));for(var yt=null,kt=null,vt=V,Ot=V=0,$t=null,jt=J.next();vt!==null&&!jt.done;Ot++,jt=J.next()){vt.index>Ot?($t=vt,vt=null):$t=vt.sibling;var Vn=ht(P,vt,jt.value,rt);if(Vn===null){vt===null&&(vt=$t);break}t&&vt&&Vn.alternate===null&&e(P,vt),V=u(Vn,V,Ot),kt===null?yt=Vn:kt.sibling=Vn,kt=Vn,vt=$t}if(jt.done)return n(P,vt),Nt&&W(P,Ot),yt;if(vt===null){for(;!jt.done;Ot++,jt=J.next())jt=ft(P,jt.value,rt),jt!==null&&(V=u(jt,V,Ot),kt===null?yt=jt:kt.sibling=jt,kt=jt);return Nt&&W(P,Ot),yt}for(vt=i(vt);!jt.done;Ot++,jt=J.next())jt=Et(vt,P,Ot,jt.value,rt),jt!==null&&(t&&jt.alternate!==null&&vt.delete(jt.key===null?Ot:jt.key),V=u(jt,V,Ot),kt===null?yt=jt:kt.sibling=jt,kt=jt);return t&&vt.forEach(function(gy){return e(P,gy)}),Nt&&W(P,Ot),yt}function yi(P,V,J,rt){if(typeof J=="object"&&J!==null&&J.type===Ti&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case as:t:{for(var yt=J.key;V!==null;){if(V.key===yt){if(yt=J.type,yt===Ti){if(V.tag===7){n(P,V.sibling),rt=s(V,J.props.children),rt.return=P,P=rt;break t}}else if(V.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===Un&&Mn(yt)===V.type){n(P,V.sibling),rt=s(V,J.props),Xe(rt,J),rt.return=P,P=rt;break t}n(P,V);break}else e(P,V);V=V.sibling}J.type===Ti?(rt=ii(J.props.children,P.mode,rt,J.key),rt.return=P,P=rt):(rt=is(J.type,J.key,J.props,null,P.mode,rt),Xe(rt,J),rt.return=P,P=rt)}return E(P);case Ai:t:{for(yt=J.key;V!==null;){if(V.key===yt)if(V.tag===4&&V.stateNode.containerInfo===J.containerInfo&&V.stateNode.implementation===J.implementation){n(P,V.sibling),rt=s(V,J.children||[]),rt.return=P,P=rt;break t}else{n(P,V);break}else e(P,V);V=V.sibling}rt=ul(J,P.mode,rt),rt.return=P,P=rt}return E(P);case Un:return yt=J._init,J=yt(J._payload),yi(P,V,J,rt)}if(ss(J))return Ge(P,V,J,rt);if(C(J)){if(yt=C(J),typeof yt!="function")throw Error(d(150));return J=yt.call(J),Ra(P,V,J,rt)}if(typeof J.then=="function")return yi(P,V,ge(J),rt);if(J.$$typeof===wn)return yi(P,V,Ja(P,J),rt);tn(P,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,V!==null&&V.tag===6?(n(P,V.sibling),rt=s(V,J),rt.return=P,P=rt):(n(P,V),rt=ol(J,P.mode,rt),rt.return=P,P=rt),E(P)):n(P,V)}return function(P,V,J,rt){try{Ea=0;var yt=yi(P,V,J,rt);return Hi=null,yt}catch(vt){if(vt===ba)throw vt;var kt=h(29,vt,null,P.mode);return kt.lanes=rt,kt.return=P,kt}finally{}}}function Qo(t,e){t=_n,j(ms,t),j(qi,e),_n=t|e.baseLanes}function hr(){j(ms,_n),j(qi,qi.current)}function dr(){_n=ms.current,A(qi),A(ms)}function Rn(t){var e=t.alternate;j(Zt,Zt.current&1),j(Le,t),nn===null&&(e===null||qi.current!==null||e.memoizedState!==null)&&(nn=t)}function Lo(t){if(t.tag===22){if(j(Zt,Zt.current),j(Le,t),nn===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(nn=t)}}else Nn()}function Nn(){j(Zt,Zt.current),j(Le,Le.current)}function cn(t){A(Le),nn===t&&(nn=null),A(Zt)}function Ga(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||El(n)||_l(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Vt(){throw Error(d(321))}function pr(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Be(t[n],e[n]))return!1;return!0}function yr(t,e,n,i,s,u){return Qn=u,_t=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bt.H=t===null||t.memoizedState===null?ui:Ln,oi=!1,u=n(i,s),oi=!1,Qi&&(u=Go(e,n,i,s)),Yo(t),u}function Yo(t){bt.H=an;var e=zt!==null&&zt.next!==null;if(Qn=0,Ft=zt=_t=null,gs=!1,_a=0,Li=null,e)throw Error(d(300));t===null||Jt||(t=t.dependencies,t!==null&&Ia(t)&&(Jt=!0))}function Go(t,e,n,i){_t=t;var s=0;do{if(Qi&&(Li=null),_a=0,Qi=!1,25<=s)throw Error(d(301));if(s+=1,Ft=zt=null,t.updateQueue!=null){var u=t.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}bt.H=ci,u=e(n,i)}while(Qi);return u}function yd(){var t=bt.H,e=t.useState()[0];return e=typeof e.then=="function"?sa(e):e,t=t.useState()[0],(zt!==null?zt.memoizedState:null)!==t&&(_t.flags|=1024),e}function mr(){var t=vs!==0;return vs=0,t}function gr(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function vr(t){if(gs){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}gs=!1}Qn=0,Ft=zt=_t=null,Qi=!1,_a=vs=0,Li=null}function ve(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?_t.memoizedState=Ft=t:Ft=Ft.next=t,Ft}function Kt(){if(zt===null){var t=_t.alternate;t=t!==null?t.memoizedState:null}else t=zt.next;var e=Ft===null?_t.memoizedState:Ft.next;if(e!==null)Ft=e,zt=t;else{if(t===null)throw _t.alternate===null?Error(d(467)):Error(d(310));zt=t,t={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},Ft===null?_t.memoizedState=Ft=t:Ft=Ft.next=t}return Ft}function sa(t){var e=_a;return _a+=1,Li===null&&(Li=[]),t=aa(Li,t,e),e=_t,(Ft===null?e.memoizedState:Ft.next)===null&&(e=e.alternate,bt.H=e===null||e.memoizedState===null?ui:Ln),t}function Va(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return sa(t);if(t.$$typeof===wn)return ae(t)}throw Error(d(438,String(t)))}function Sr(t){var e=null,n=_t.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=_t.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(s){return s.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Dl(),_t.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=Qd;return e.index++,n}function fn(t,e){return typeof e=="function"?e(t):e}function Ka(t){var e=Kt();return br(e,zt,t)}function br(t,e,n){var i=t.queue;if(i===null)throw Error(d(311));i.lastRenderedReducer=n;var s=t.baseQueue,u=i.pending;if(u!==null){if(s!==null){var E=s.next;s.next=u.next,u.next=E}e.baseQueue=s=u,i.pending=null}if(u=t.baseState,s===null)t.memoizedState=u;else{e=s.next;var z=E=null,K=null,it=e,lt=!1;do{var ft=it.lane&-536870913;if(ft!==it.lane?(Mt&ft)===ft:(Qn&ft)===ft){var ht=it.revertLane;if(ht===0)K!==null&&(K=K.next={lane:0,revertLane:0,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null}),ft===wi&&(lt=!0);else if((Qn&ht)===ht){it=it.next,ht===wi&&(lt=!0);continue}else ft={lane:0,revertLane:it.revertLane,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null},K===null?(z=K=ft,E=u):K=K.next=ft,_t.lanes|=ht,Yn|=ht;ft=it.action,oi&&n(u,ft),u=it.hasEagerState?it.eagerState:n(u,ft)}else ht={lane:ft,revertLane:it.revertLane,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null},K===null?(z=K=ht,E=u):K=K.next=ht,_t.lanes|=ft,Yn|=ft;it=it.next}while(it!==null&&it!==e);if(K===null?E=u:K.next=z,!Be(u,t.memoizedState)&&(Jt=!0,lt&&(n=Ui,n!==null)))throw n;t.memoizedState=u,t.baseState=E,t.baseQueue=K,i.lastRenderedState=u}return s===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function Er(t){var e=Kt(),n=e.queue;if(n===null)throw Error(d(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,u=e.memoizedState;if(s!==null){n.pending=null;var E=s=s.next;do u=t(u,E.action),E=E.next;while(E!==s);Be(u,e.memoizedState)||(Jt=!0),e.memoizedState=u,e.baseQueue===null&&(e.baseState=u),n.lastRenderedState=u}return[u,i]}function Vo(t,e,n){var i=_t,s=Kt(),u=Nt;if(u){if(n===void 0)throw Error(d(407));n=n()}else n=e();var E=!Be((zt||s).memoizedState,n);if(E&&(s.memoizedState=n,Jt=!0),s=s.queue,Cr(Xo.bind(null,i,s,t),[t]),s.getSnapshot!==e||E||Ft!==null&&Ft.memoizedState.tag&1){if(i.flags|=2048,bi(9,Fo.bind(null,i,s,n,e),{destroy:void 0},null),wt===null)throw Error(d(349));u||(Qn&60)!==0||Ko(i,e,n)}return n}function Ko(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=_t.updateQueue,e===null?(e=Dl(),_t.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Fo(t,e,n,i){e.value=n,e.getSnapshot=i,Zo(e)&&Po(t)}function Xo(t,e,n){return n(function(){Zo(e)&&Po(t)})}function Zo(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Be(t,n)}catch{return!0}}function Po(t){var e=fe(t,2);e!==null&&pe(e,t,2)}function _r(t){var e=ve();if(typeof t=="function"){var n=t;if(t=n(),oi){F(!0);try{n()}finally{F(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:t},e}function Io(t,e,n,i){return t.baseState=n,br(t,zt,typeof i=="function"?i:fn)}function md(t,e,n,i,s){if(Za(t))throw Error(d(485));if(t=e.action,t!==null){var u={payload:s,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){u.listeners.push(E)}};bt.T!==null?n(!0):u.isTransition=!1,i(u),n=e.pending,n===null?(u.next=e.pending=u,Jo(e,u)):(u.next=n.next,e.pending=n.next=u)}}function Jo(t,e){var n=e.action,i=e.payload,s=t.state;if(e.isTransition){var u=bt.T,E={};bt.T=E;try{var z=n(s,i),K=bt.S;K!==null&&K(E,z),Wo(t,e,z)}catch(it){xr(t,e,it)}finally{bt.T=u}}else try{u=n(s,i),Wo(t,e,u)}catch(it){xr(t,e,it)}}function Wo(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){$o(t,e,i)},function(i){return xr(t,e,i)}):$o(t,e,n)}function $o(t,e,n){e.status="fulfilled",e.value=n,tu(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,Jo(t,n)))}function xr(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,tu(e),e=e.next;while(e!==i)}t.action=null}function tu(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function eu(t,e){return e}function nu(t,e){if(Nt){var n=wt.formState;if(n!==null){t:{var i=_t;if(Nt){if(le){var s=jp(le,en);if(s){le=Zc(s),i=Bp(s);break t}}ie(i)}i=!1}i&&(e=n[0])}}n=ve(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:eu,lastRenderedState:e},n.queue=i,n=Su.bind(null,_t,i),i.dispatch=n,i=_r(!1);var u=Rr.bind(null,_t,!1,i.queue);return i=ve(),s={state:e,dispatch:null,action:t,pending:null},i.queue=s,n=md.bind(null,_t,s,u,n),s.dispatch=n,i.memoizedState=t,[e,n,!1]}function iu(t){var e=Kt();return au(e,zt,t)}function au(t,e,n){e=br(t,e,eu)[0],t=Ka(fn)[0],e=typeof e=="object"&&e!==null&&typeof e.then=="function"?sa(e):e;var i=Kt(),s=i.queue,u=s.dispatch;return n!==i.memoizedState&&(_t.flags|=2048,bi(9,gd.bind(null,s,n),{destroy:void 0},null)),[e,u,t]}function gd(t,e){t.action=e}function su(t){var e=Kt(),n=zt;if(n!==null)return au(e,n,t);Kt(),e=e.memoizedState,n=Kt();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function bi(t,e,n,i){return t={tag:t,create:e,inst:n,deps:i,next:null},e=_t.updateQueue,e===null&&(e=Dl(),_t.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function ru(){return Kt().memoizedState}function Fa(t,e,n,i){var s=ve();_t.flags|=t,s.memoizedState=bi(1|e,n,{destroy:void 0},i===void 0?null:i)}function Xa(t,e,n,i){var s=Kt();i=i===void 0?null:i;var u=s.memoizedState.inst;zt!==null&&i!==null&&pr(i,zt.memoizedState.deps)?s.memoizedState=bi(e,n,u,i):(_t.flags|=t,s.memoizedState=bi(1|e,n,u,i))}function lu(t,e){Fa(8390656,8,t,e)}function Cr(t,e){Xa(2048,8,t,e)}function ou(t,e){return Xa(4,2,t,e)}function uu(t,e){return Xa(4,4,t,e)}function cu(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function fu(t,e,n){n=n!=null?n.concat([t]):null,Xa(4,4,cu.bind(null,e,t),n)}function Ar(){}function hu(t,e){var n=Kt();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&pr(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function du(t,e){var n=Kt();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&pr(e,i[1]))return i[0];if(i=t(),oi){F(!0);try{t()}finally{F(!1)}}return n.memoizedState=[i,e],i}function Tr(t,e,n){return n===void 0||(Qn&1073741824)!==0?t.memoizedState=e:(t.memoizedState=n,t=uc(),_t.lanes|=t,Yn|=t,n)}function pu(t,e,n,i){return Be(n,e)?n:qi.current!==null?(t=Tr(t,n,i),Be(t,e)||(Jt=!0),t):(Qn&42)===0?(Jt=!0,t.memoizedState=n):(t=uc(),_t.lanes|=t,Yn|=t,e)}function yu(t,e,n,i,s){var u=ai();be(u!==0&&8>u?u:8);var E=bt.T,z={};bt.T=z,Rr(t,!1,e,n);try{var K=s(),it=bt.S;if(it!==null&&it(z,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var lt=M(K,i);ra(t,e,lt,Re(t))}else ra(t,e,i,Re(t))}catch(ft){ra(t,e,{then:function(){},status:"rejected",reason:ft},Re())}finally{be(u),bt.T=E}}function mu(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Mi,baseState:Mi,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:Mi},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Mr(){return ae(si)}function gu(){return Kt().memoizedState}function vu(){return Kt().memoizedState}function vd(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Re();t=$(n);var i=gt(e,t,n);i!==null&&(pe(i,e,n),Rt(i,e,n)),e={cache:Lr()},t.payload=e;return}e=e.return}}function Sd(t,e,n){var i=Re();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Za(t)?bu(e,n):(n=Pn(t,e,n,i),n!==null&&(pe(n,t,i),Eu(n,e,i)))}function Su(t,e,n){var i=Re();ra(t,e,n,i)}function ra(t,e,n,i){var s={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Za(t))bu(e,s);else{var u=t.alternate;if(t.lanes===0&&(u===null||u.lanes===0)&&(u=e.lastRenderedReducer,u!==null))try{var E=e.lastRenderedState,z=u(E,n);if(s.hasEagerState=!0,s.eagerState=z,Be(z,E))return Tn(t,e,s,0),wt===null&&_e(),!1}catch{}finally{}if(n=Pn(t,e,s,i),n!==null)return pe(n,t,i),Eu(n,e,i),!0}return!1}function Rr(t,e,n,i){if(i={lane:2,revertLane:S(),action:i,hasEagerState:!1,eagerState:null,next:null},Za(t)){if(e)throw Error(d(479))}else e=Pn(t,n,i,2),e!==null&&pe(e,t,2)}function Za(t){var e=t.alternate;return t===_t||e!==null&&e===_t}function bu(t,e){Qi=gs=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Eu(t,e,n){if((n&4194176)!==0){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,G(t,n)}}function Nr(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:fl({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}function _u(t,e,n,i,s,u,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,u,E):e.prototype&&e.prototype.isPureReactComponent?!me(n,i)||!me(s,u):!0}function xu(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&wl.enqueueReplaceState(e,e.state,null)}function Wn(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=fl({},n));for(var s in t)n[s]===void 0&&(n[s]=t[s])}return n}function Pa(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function Cu(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Or(t,e,n){return n=$(n),n.tag=3,n.payload={element:null},n.callback=function(){Pa(t,e)},n}function Au(t){return t=$(t),t.tag=3,t}function Tu(t,e,n,i){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var u=i.value;t.payload=function(){return s(u)},t.callback=function(){Cu(e,n,i)}}var E=n.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){Cu(e,n,i),typeof s!="function"&&(Gn===null?Gn=new Set([this]):Gn.add(this));var z=i.stack;this.componentDidCatch(i.value,{componentStack:z!==null?z:""})})}function bd(t,e,n,i,s){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&oa(e,n,s,!0),n=Le.current,n!==null){switch(n.tag){case 13:return nn===null?al():n.alternate===null&&Yt===0&&(Yt=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===ys?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),rl(t,i,s)),!1;case 22:return n.flags|=65536,i===ys?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),rl(t,i,s)),!1}throw Error(d(435,n.tag))}return rl(t,i,s),al(),!1}if(Nt)return e=Le.current,e!==null?((e.flags&65536)===0&&(e.flags|=256),e.flags|=65536,e.lanes=s,i!==Ml&&(t=Error(d(422),{cause:i}),ce(w(t,n)))):(i!==Ml&&(e=Error(d(423),{cause:i}),ce(w(e,n))),t=t.current.alternate,t.flags|=65536,s&=-s,t.lanes|=s,i=w(i,n),s=Or(t.stateNode,i,s),H(t,s),Yt!==4&&(Yt=2)),!1;var u=Error(d(520),{cause:i});if(u=w(u,n),Ca===null?Ca=[u]:Ca.push(u),Yt!==4&&(Yt=2),e===null)return!0;i=w(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=s&-s,n.lanes|=t,t=Or(n.stateNode,i,t),H(n,t),!1;case 1:if(e=n.type,u=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Gn===null||!Gn.has(u))))return n.flags|=65536,s&=-s,n.lanes|=s,s=Au(s),Tu(s,t,n,i),H(n,s),!1}n=n.return}while(n!==null);return!1}function te(t,e,n,i){e.child=t===null?uf(e,null,n,i):li(e,t.child,n,i)}function Mu(t,e,n,i,s){n=n.render;var u=e.ref;if("ref"in i){var E={};for(var z in i)z!=="ref"&&(E[z]=i[z])}else E=i;return $n(e),i=yr(t,e,n,E,u,s),z=mr(),t!==null&&!Jt?(gr(t,e,s),hn(t,e,s)):(Nt&&z&&ot(e),e.flags|=1,te(t,e,i,s),e.child)}function Ru(t,e,n,i,s){if(t===null){var u=n.type;return typeof u=="function"&&!ll(u)&&u.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=u,Nu(t,e,u,i,s)):(t=is(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(u=t.child,!Hr(t,s)){var E=u.memoizedProps;if(n=n.compare,n=n!==null?n:me,n(E,i)&&t.ref===e.ref)return hn(t,e,s)}return e.flags|=1,t=Dn(u,i),t.ref=e.ref,t.return=e,e.child=t}function Nu(t,e,n,i,s){if(t!==null){var u=t.memoizedProps;if(me(u,i)&&t.ref===e.ref)if(Jt=!1,e.pendingProps=i=u,Hr(t,s))(t.flags&131072)!==0&&(Jt=!0);else return e.lanes=t.lanes,hn(t,e,s)}return jr(t,e,n,i,s)}function Ou(t,e,n){var i=e.pendingProps,s=i.children,u=(e.stateNode._pendingVisibility&2)!==0,E=t!==null?t.memoizedState:null;if(la(t,e),i.mode==="hidden"||u){if((e.flags&128)!==0){if(i=E!==null?E.baseLanes|n:n,t!==null){for(s=e.child=t.child,u=0;s!==null;)u=u|s.lanes|s.childLanes,s=s.sibling;e.childLanes=u&~i}else e.childLanes=0,e.child=null;return ju(t,e,i,n)}if((n&536870912)!==0)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Wa(e,E!==null?E.cachePool:null),E!==null?Qo(e,E):hr(),Lo(e);else return e.lanes=e.childLanes=536870912,ju(t,e,E!==null?E.baseLanes|n:n,n)}else E!==null?(Wa(e,E.cachePool),Qo(e,E),Nn(),e.memoizedState=null):(t!==null&&Wa(e,null),hr(),Nn());return te(t,e,s,n),e.child}function ju(t,e,n,i){var s=Yr();return s=s===null?null:{parent:mn?Qt._currentValue:Qt._currentValue2,pool:s},e.memoizedState={baseLanes:n,cachePool:s},t!==null&&Wa(e,null),hr(),Lo(e),t!==null&&oa(t,e,i,!0),null}function la(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=2097664);else{if(typeof n!="function"&&typeof n!="object")throw Error(d(284));(t===null||t.ref!==n)&&(e.flags|=2097664)}}function jr(t,e,n,i,s){return $n(e),n=yr(t,e,n,i,void 0,s),i=mr(),t!==null&&!Jt?(gr(t,e,s),hn(t,e,s)):(Nt&&i&&ot(e),e.flags|=1,te(t,e,n,s),e.child)}function Bu(t,e,n,i,s,u){return $n(e),e.updateQueue=null,n=Go(e,i,n,s),Yo(t),i=mr(),t!==null&&!Jt?(gr(t,e,u),hn(t,e,u)):(Nt&&i&&ot(e),e.flags|=1,te(t,e,n,u),e.child)}function zu(t,e,n,i,s){if($n(e),e.stateNode===null){var u=Ni,E=n.contextType;typeof E=="object"&&E!==null&&(u=ae(E)),u=new n(i,u),e.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=wl,e.stateNode=u,u._reactInternals=e,u=e.stateNode,u.props=i,u.state=e.memoizedState,u.refs={},q(e),E=n.contextType,u.context=typeof E=="object"&&E!==null?ae(E):Ni,u.state=e.memoizedState,E=n.getDerivedStateFromProps,typeof E=="function"&&(Nr(e,n,E,i),u.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(E=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),E!==u.state&&wl.enqueueReplaceState(u,u.state,null),ut(e,i,u,s),st(),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){u=e.stateNode;var z=e.memoizedProps,K=Wn(n,z);u.props=K;var it=u.context,lt=n.contextType;E=Ni,typeof lt=="object"&&lt!==null&&(E=ae(lt));var ft=n.getDerivedStateFromProps;lt=typeof ft=="function"||typeof u.getSnapshotBeforeUpdate=="function",z=e.pendingProps!==z,lt||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(z||it!==E)&&xu(e,u,i,E),qn=!1;var ht=e.memoizedState;u.state=ht,ut(e,i,u,s),st(),it=e.memoizedState,z||ht!==it||qn?(typeof ft=="function"&&(Nr(e,n,ft,i),it=e.memoizedState),(K=qn||_u(e,n,K,i,ht,it,E))?(lt||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(e.flags|=4194308)):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=it),u.props=i,u.state=it,u.context=E,i=K):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{u=e.stateNode,I(t,e),E=e.memoizedProps,lt=Wn(n,E),u.props=lt,ft=e.pendingProps,ht=u.context,it=n.contextType,K=Ni,typeof it=="object"&&it!==null&&(K=ae(it)),z=n.getDerivedStateFromProps,(it=typeof z=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(E!==ft||ht!==K)&&xu(e,u,i,K),qn=!1,ht=e.memoizedState,u.state=ht,ut(e,i,u,s),st();var Et=e.memoizedState;E!==ft||ht!==Et||qn||t!==null&&t.dependencies!==null&&Ia(t.dependencies)?(typeof z=="function"&&(Nr(e,n,z,i),Et=e.memoizedState),(lt=qn||_u(e,n,lt,i,ht,Et,K)||t!==null&&t.dependencies!==null&&Ia(t.dependencies))?(it||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(i,Et,K),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(i,Et,K)),typeof u.componentDidUpdate=="function"&&(e.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof u.componentDidUpdate!="function"||E===t.memoizedProps&&ht===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&ht===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=Et),u.props=i,u.state=Et,u.context=K,i=lt):(typeof u.componentDidUpdate!="function"||E===t.memoizedProps&&ht===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&ht===t.memoizedState||(e.flags|=1024),i=!1)}return u=i,la(t,e),i=(e.flags&128)!==0,u||i?(u=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:u.render(),e.flags|=1,t!==null&&i?(e.child=li(e,t.child,null,s),e.child=li(e,null,n,s)):te(t,e,n,s),e.memoizedState=u.state,t=e.child):t=hn(t,e,s),t}function Du(t,e,n,i){return Ke(),e.flags|=256,te(t,e,n,i),e.child}function Br(t){return{baseLanes:t,cachePool:Qu()}}function zr(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Ye),t}function wu(t,e,n){var i=e.pendingProps,s=!1,u=(e.flags&128)!==0,E;if((E=u)||(E=t!==null&&t.memoizedState===null?!1:(Zt.current&2)!==0),E&&(s=!0,e.flags&=-129),E=(e.flags&32)!==0,e.flags&=-33,t===null){if(Nt){if(s?Rn(e):Nn(),Nt){var z=le,K;(K=z)&&(z=kp(z,en),z!==null?(e.memoizedState={dehydrated:z,treeContext:ri!==null?{id:gn,overflow:vn}:null,retryLane:536870912},K=h(18,null,null,0),K.stateNode=z,K.return=e,e.child=K,ye=e,le=null,K=!0):K=!1),K||ie(e)}if(z=e.memoizedState,z!==null&&(z=z.dehydrated,z!==null))return _l(z)?e.lanes=16:e.lanes=536870912,null;cn(e)}return z=i.children,i=i.fallback,s?(Nn(),s=e.mode,z=wr({mode:"hidden",children:z},s),i=ii(i,s,n,null),z.return=e,i.return=e,z.sibling=i,e.child=z,s=e.child,s.memoizedState=Br(n),s.childLanes=zr(t,E,n),e.memoizedState=Ul,i):(Rn(e),Dr(e,z))}if(K=t.memoizedState,K!==null&&(z=K.dehydrated,z!==null)){if(u)e.flags&256?(Rn(e),e.flags&=-257,e=Ur(t,e,n)):e.memoizedState!==null?(Nn(),e.child=t.child,e.flags|=128,e=null):(Nn(),s=i.fallback,z=e.mode,i=wr({mode:"visible",children:i.children},z),s=ii(s,z,n,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,li(e,t.child,null,n),i=e.child,i.memoizedState=Br(n),i.childLanes=zr(t,E,n),e.memoizedState=Ul,e=s);else if(Rn(e),_l(z))E=Np(z).digest,i=Error(d(419)),i.stack="",i.digest=E,ce({value:i,source:null,stack:null}),e=Ur(t,e,n);else if(Jt||oa(t,e,n,!1),E=(n&t.childLanes)!==0,Jt||E){if(E=wt,E!==null){if(i=n&-n,(i&42)!==0)i=1;else switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=64;break;case 268435456:i=134217728;break;default:i=0}if(i=(i&(E.suspendedLanes|n))!==0?0:i,i!==0&&i!==K.retryLane)throw K.retryLane=i,fe(t,i),pe(E,t,i),ff}El(z)||al(),e=Ur(t,e,n)}else El(z)?(e.flags|=128,e.child=t.child,e=Bd.bind(null,t),Op(z,e),e=null):(t=K.treeContext,Ue&&(le=Dp(z),ye=e,Nt=!0,Ie=null,en=!1,t!==null&&(He[qe++]=gn,He[qe++]=vn,He[qe++]=ri,gn=t.id,vn=t.overflow,ri=e)),e=Dr(e,i.children),e.flags|=4096);return e}return s?(Nn(),s=i.fallback,z=e.mode,K=t.child,u=K.sibling,i=Dn(K,{mode:"hidden",children:i.children}),i.subtreeFlags=K.subtreeFlags&31457280,u!==null?s=Dn(u,s):(s=ii(s,z,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,z=t.child.memoizedState,z===null?z=Br(n):(K=z.cachePool,K!==null?(u=mn?Qt._currentValue:Qt._currentValue2,K=K.parent!==u?{parent:u,pool:u}:K):K=Qu(),z={baseLanes:z.baseLanes|n,cachePool:K}),s.memoizedState=z,s.childLanes=zr(t,E,n),e.memoizedState=Ul,i):(Rn(e),n=t.child,t=n.sibling,n=Dn(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(E=e.deletions,E===null?(e.deletions=[t],e.flags|=16):E.push(t)),e.child=n,e.memoizedState=null,n)}function Dr(t,e){return e=wr({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function wr(t,e){return Ac(t,e,0,null)}function Ur(t,e,n){return li(e,t.child,null,n),t=Dr(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Uu(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),qr(t.return,e,n)}function kr(t,e,n,i,s){var u=t.memoizedState;u===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(u.isBackwards=e,u.rendering=null,u.renderingStartTime=0,u.last=i,u.tail=n,u.tailMode=s)}function ku(t,e,n){var i=e.pendingProps,s=i.revealOrder,u=i.tail;if(te(t,e,i.children,n),i=Zt.current,(i&2)!==0)i=i&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Uu(t,n,e);else if(t.tag===19)Uu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}switch(j(Zt,i),s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Ga(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),kr(e,!1,s,n,u);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ga(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}kr(e,!0,n,null,u);break;case"together":kr(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Yn|=e.lanes,(n&e.childLanes)===0)if(t!==null){if(oa(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(d(153));if(e.child!==null){for(t=e.child,n=Dn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Dn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Hr(t,e){return(t.lanes&e)!==0?!0:(t=t.dependencies,!!(t!==null&&Ia(t)))}function Ed(t,e,n){switch(e.tag){case 3:dt(e,e.stateNode.containerInfo),On(e,Qt,t.memoizedState.cache),Ke();break;case 27:case 5:It(e);break;case 4:dt(e,e.stateNode.containerInfo);break;case 10:On(e,e.type,e.memoizedProps.value);break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(Rn(e),e.flags|=128,null):(n&e.child.childLanes)!==0?wu(t,e,n):(Rn(e),t=hn(t,e,n),t!==null?t.sibling:null);Rn(e);break;case 19:var s=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(oa(t,e,n,!1),i=(n&e.childLanes)!==0),s){if(i)return ku(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),j(Zt,Zt.current),i)break;return null;case 22:case 23:return e.lanes=0,Ou(t,e,n);case 24:On(e,Qt,t.memoizedState.cache)}return hn(t,e,n)}function Hu(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Jt=!0;else{if(!Hr(t,n)&&(e.flags&128)===0)return Jt=!1,Ed(t,e,n);Jt=(t.flags&131072)!==0}else Jt=!1,Nt&&(e.flags&1048576)!==0&&nt(e,fs,e.index);switch(e.lanes=0,e.tag){case 16:t:{t=e.pendingProps;var i=e.elementType,s=i._init;if(i=s(i._payload),e.type=i,typeof i=="function")ll(i)?(t=Wn(i,t),e.tag=1,e=zu(null,e,i,t,n)):(e.tag=0,e=jr(null,e,i,t,n));else{if(i!=null){if(s=i.$$typeof,s===dl){e.tag=11,e=Mu(null,e,i,t,n);break t}else if(s===ml){e.tag=14,e=Ru(null,e,i,t,n);break t}}throw e=_(i)||i,Error(d(306,e,""))}}return e;case 0:return jr(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,s=Wn(i,e.pendingProps),zu(t,e,i,s,n);case 3:t:{if(dt(e,e.stateNode.containerInfo),t===null)throw Error(d(387));var u=e.pendingProps;s=e.memoizedState,i=s.element,I(t,e),ut(e,u,null,n);var E=e.memoizedState;if(u=E.cache,On(e,Qt,u),u!==s.cache&&Qr(e,[Qt],n,!0),st(),u=E.element,Ue&&s.isDehydrated)if(s={element:u,isDehydrated:!1,cache:E.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=Du(t,e,u,n);break t}else if(u!==i){i=w(Error(d(424)),e),ce(i),e=Du(t,e,u,n);break t}else for(Ue&&(le=zp(e.stateNode.containerInfo),ye=e,Nt=!0,Ie=null,en=!0),n=uf(e,null,u,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ke(),u===i){e=hn(t,e,n);break t}te(t,e,u,n)}e=e.child}return e;case 26:if(ke)return la(t,e),t===null?(n=Wc(e.type,null,e.pendingProps,null))?e.memoizedState=n:Nt||(e.stateNode=Pp(e.type,e.pendingProps,Hn.current,e)):e.memoizedState=Wc(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:if(re)return It(e),t===null&&re&&Nt&&(i=e.stateNode=sf(e.type,e.pendingProps,Hn.current,ee.current,!1),ye=e,en=!0,le=Pc(i)),i=e.pendingProps.children,t!==null||Nt?te(t,e,i,n):e.child=li(e,null,i,n),la(t,e),e.child;case 5:return t===null&&Nt&&(Fp(e.type,e.pendingProps,ee.current),(s=i=le)&&(i=wp(i,e.type,e.pendingProps,en),i!==null?(e.stateNode=i,ye=e,le=Pc(i),en=!1,s=!0):s=!1),s||ie(e)),It(e),s=e.type,u=e.pendingProps,E=t!==null?t.memoizedProps:null,i=u.children,rs(s,u)?i=null:E!==null&&rs(s,E)&&(e.flags|=32),e.memoizedState!==null&&(s=yr(t,e,yd,null,null,n),mn?si._currentValue=s:si._currentValue2=s),la(t,e),te(t,e,i,n),e.child;case 6:return t===null&&Nt&&(Xp(e.pendingProps,ee.current),(t=n=le)&&(n=Up(n,e.pendingProps,en),n!==null?(e.stateNode=n,ye=e,le=null,t=!0):t=!1),t||ie(e)),null;case 13:return wu(t,e,n);case 4:return dt(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=li(e,null,i,n):te(t,e,i,n),e.child;case 11:return Mu(t,e,e.type,e.pendingProps,n);case 7:return te(t,e,e.pendingProps,n),e.child;case 8:return te(t,e,e.pendingProps.children,n),e.child;case 12:return te(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,On(e,e.type,i.value),te(t,e,i.children,n),e.child;case 9:return s=e.type._context,i=e.pendingProps.children,$n(e),s=ae(s),i=i(s),e.flags|=1,te(t,e,i,n),e.child;case 14:return Ru(t,e,e.type,e.pendingProps,n);case 15:return Nu(t,e,e.type,e.pendingProps,n);case 19:return ku(t,e,n);case 22:return Ou(t,e,n);case 24:return $n(e),i=ae(Qt),t===null?(s=Yr(),s===null&&(s=wt,u=Lr(),s.pooledCache=u,u.refCount++,u!==null&&(s.pooledCacheLanes|=n),s=u),e.memoizedState={parent:i,cache:s},q(e),On(e,Qt,s)):((t.lanes&n)!==0&&(I(t,e),ut(e,null,null,n),st()),s=t.memoizedState,u=e.memoizedState,s.parent!==i?(s={parent:i,cache:i},e.memoizedState=s,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=s),On(e,Qt,i)):(i=u.cache,On(e,Qt,i),i!==s.cache&&Qr(e,[Qt],n,!0))),te(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(d(156,e.tag))}function On(t,e,n){mn?(j(Ss,e._currentValue),e._currentValue=n):(j(Ss,e._currentValue2),e._currentValue2=n)}function dn(t){var e=Ss.current;mn?t._currentValue=e:t._currentValue2=e,A(Ss)}function qr(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Qr(t,e,n,i){var s=t.child;for(s!==null&&(s.return=t);s!==null;){var u=s.dependencies;if(u!==null){var E=s.child;u=u.firstContext;t:for(;u!==null;){var z=u;u=s;for(var K=0;K<e.length;K++)if(z.context===e[K]){u.lanes|=n,z=u.alternate,z!==null&&(z.lanes|=n),qr(u.return,n,t),i||(E=null);break t}u=z.next}}else if(s.tag===18){if(E=s.return,E===null)throw Error(d(341));E.lanes|=n,u=E.alternate,u!==null&&(u.lanes|=n),qr(E,n,t),E=null}else E=s.child;if(E!==null)E.return=s;else for(E=s;E!==null;){if(E===t){E=null;break}if(s=E.sibling,s!==null){s.return=E.return,E=s;break}E=E.return}s=E}}function oa(t,e,n,i){t=null;for(var s=e,u=!1;s!==null;){if(!u){if((s.flags&524288)!==0)u=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var E=s.alternate;if(E===null)throw Error(d(387));if(E=E.memoizedProps,E!==null){var z=s.type;Be(s.pendingProps.value,E.value)||(t!==null?t.push(z):t=[z])}}else if(s===hs.current){if(E=s.alternate,E===null)throw Error(d(387));E.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(t!==null?t.push(si):t=[si])}s=s.return}t!==null&&Qr(e,t,n,i),e.flags|=262144}function Ia(t){for(t=t.firstContext;t!==null;){var e=t.context;if(!Be(mn?e._currentValue:e._currentValue2,t.memoizedValue))return!0;t=t.next}return!1}function $n(t){fi=t,Sn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ae(t){return qu(fi,t)}function Ja(t,e){return fi===null&&$n(t),qu(t,e)}function qu(t,e){var n=mn?e._currentValue:e._currentValue2;if(e={context:e,memoizedValue:n,next:null},Sn===null){if(t===null)throw Error(d(308));Sn=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Sn=Sn.next=e;return n}function Lr(){return{controller:new hy,data:new Map,refCount:0}}function ua(t){t.refCount--,t.refCount===0&&dy(py,function(){t.controller.abort()})}function Yr(){var t=hi.current;return t!==null?t:wt.pooledCache}function Wa(t,e){e===null?j(hi,hi.current):j(hi,e.pool)}function Qu(){var t=Yr();return t===null?null:{parent:mn?Qt._currentValue:Qt._currentValue2,pool:t}}function Ae(t){t.flags|=4}function Lu(t,e){if(t!==null&&t.child===e.child)return!1;if((e.flags&16)!==0)return!0;for(t=e.child;t!==null;){if((t.flags&13878)!==0||(t.subtreeFlags&13878)!==0)return!0;t=t.sibling}return!1}function Gr(t,e,n,i){if(se)for(n=e.child;n!==null;){if(n.tag===5||n.tag===6)Sl(t,n.stateNode);else if(!(n.tag===4||re&&n.tag===27)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}else if(kn)for(var s=e.child;s!==null;){if(s.tag===5){var u=s.stateNode;n&&i&&(u=Fc(u,s.type,s.memoizedProps)),Sl(t,u)}else if(s.tag===6)u=s.stateNode,n&&i&&(u=Xc(u,s.memoizedProps)),Sl(t,u);else if(s.tag!==4){if(s.tag===22&&s.memoizedState!==null)u=s.child,u!==null&&(u.return=s),Gr(t,s,!0,!0);else if(s.child!==null){s.child.return=s,s=s.child;continue}}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return;s=s.return}s.sibling.return=s.return,s=s.sibling}}function Yu(t,e,n,i){if(kn)for(var s=e.child;s!==null;){if(s.tag===5){var u=s.stateNode;n&&i&&(u=Fc(u,s.type,s.memoizedProps)),Vc(t,u)}else if(s.tag===6)u=s.stateNode,n&&i&&(u=Xc(u,s.memoizedProps)),Vc(t,u);else if(s.tag!==4){if(s.tag===22&&s.memoizedState!==null)u=s.child,u!==null&&(u.return=s),Yu(t,s,!(s.memoizedProps!==null&&s.memoizedProps.mode==="manual"),!0);else if(s.child!==null){s.child.return=s,s=s.child;continue}}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return;s=s.return}s.sibling.return=s.return,s=s.sibling}}function Gu(t,e){if(kn&&Lu(t,e)){t=e.stateNode;var n=t.containerInfo,i=Gc();Yu(i,e,!1,!1),t.pendingChildren=i,Ae(e),Rp(n,i)}}function Vr(t,e,n,i){if(se)t.memoizedProps!==i&&Ae(e);else if(kn){var s=t.stateNode,u=t.memoizedProps;if((t=Lu(t,e))||u!==i){var E=ee.current;u=Mp(s,n,u,i,!t,null),u===s?e.stateNode=s:(kc(u,n,i,E)&&Ae(e),e.stateNode=u,t?Gr(u,e,!1,!1):Ae(e))}else e.stateNode=s}}function Kr(t,e,n){if(ep(e,n)){if(t.flags|=16777216,!Qc(e,n))if(pc())t.flags|=8192;else throw ki=ys,zl}else t.flags&=-16777217}function Vu(t,e){if(Jp(e)){if(t.flags|=16777216,!af(e))if(pc())t.flags|=8192;else throw ki=ys,zl}else t.flags&=-16777217}function $a(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Q():536870912,t.lanes|=e,Vi|=e)}function ca(t,e){if(!Nt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Ht(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&31457280,i|=s.flags&31457280,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function _d(t,e,n){var i=e.pendingProps;switch(St(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(e),null;case 1:return Ht(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),dn(Qt),xt(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(on(e)?Ae(e):t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Ie!==null&&(nl(Ie),Ie=null))),Gu(t,e),Ht(e),null;case 26:if(ke){n=e.type;var s=e.memoizedState;return t===null?(Ae(e),s!==null?(Ht(e),Vu(e,s)):(Ht(e),Kr(e,n,i))):s?s!==t.memoizedState?(Ae(e),Ht(e),Vu(e,s)):(Ht(e),e.flags&=-16777217):(se?t.memoizedProps!==i&&Ae(e):Vr(t,e,n,i),Ht(e),Kr(e,n,i)),null}case 27:if(re){if(ln(e),n=Hn.current,s=e.type,t!==null&&e.stateNode!=null)se?t.memoizedProps!==i&&Ae(e):Vr(t,e,s,i);else{if(!i){if(e.stateNode===null)throw Error(d(166));return Ht(e),null}t=ee.current,on(e)?An(e,t):(t=sf(s,i,n,t,!0),e.stateNode=t,Ae(e))}return Ht(e),null}case 5:if(ln(e),n=e.type,t!==null&&e.stateNode!=null)Vr(t,e,n,i);else{if(!i){if(e.stateNode===null)throw Error(d(166));return Ht(e),null}t=ee.current,on(e)?An(e,t):(s=Zd(n,i,Hn.current,t,e),Gr(s,e,!1,!1),e.stateNode=s,kc(s,n,i,t)&&Ae(e))}return Ht(e),Kr(e,e.type,e.pendingProps),null;case 6:if(t&&e.stateNode!=null)n=t.memoizedProps,se?n!==i&&Ae(e):kn&&(n!==i?(e.stateNode=Hc(i,Hn.current,ee.current,e),Ae(e)):e.stateNode=t.stateNode);else{if(typeof i!="string"&&e.stateNode===null)throw Error(d(166));if(t=Hn.current,n=ee.current,on(e)){if(!Ue)throw Error(d(176));if(t=e.stateNode,n=e.memoizedProps,i=null,s=ye,s!==null)switch(s.tag){case 27:case 5:i=s.memoizedProps}qp(t,n,e,i)||ie(e)}else e.stateNode=Hc(i,t,n,e)}return Ht(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(s=on(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(d(318));if(!Ue)throw Error(d(344));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(d(317));Qp(s,e)}else Ke(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Ht(e),s=!1}else Ie!==null&&(nl(Ie),Ie=null),s=!0;if(!s)return e.flags&256?(cn(e),e):(cn(e),null)}if(cn(e),(e.flags&128)!==0)return e.lanes=n,e;if(n=i!==null,t=t!==null&&t.memoizedState!==null,n){i=e.child,s=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(s=i.alternate.memoizedState.cachePool.pool);var u=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==s&&(i.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),$a(e,e.updateQueue),Ht(e),null;case 4:return xt(),Gu(t,e),t===null&&Jd(e.stateNode.containerInfo),Ht(e),null;case 10:return dn(e.type),Ht(e),null;case 19:if(A(Zt),s=e.memoizedState,s===null)return Ht(e),null;if(i=(e.flags&128)!==0,u=s.rendering,u===null)if(i)ca(s,!1);else{if(Yt!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(u=Ga(t),u!==null){for(e.flags|=128,ca(s,!1),t=u.updateQueue,e.updateQueue=t,$a(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)Cc(n,t),n=n.sibling;return j(Zt,Zt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Pe()>Aa&&(e.flags|=128,i=!0,ca(s,!1),e.lanes=4194304)}else{if(!i)if(t=Ga(u),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,$a(e,t),ca(s,!0),s.tail===null&&s.tailMode==="hidden"&&!u.alternate&&!Nt)return Ht(e),null}else 2*Pe()-s.renderingStartTime>Aa&&n!==536870912&&(e.flags|=128,i=!0,ca(s,!1),e.lanes=4194304);s.isBackwards?(u.sibling=e.child,e.child=u):(t=s.last,t!==null?t.sibling=u:e.child=u,s.last=u)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Pe(),e.sibling=null,t=Zt.current,j(Zt,i?t&1|2:t&1),e):(Ht(e),null);case 22:case 23:return cn(e),dr(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?(n&536870912)!==0&&(e.flags&128)===0&&(Ht(e),e.subtreeFlags&6&&(e.flags|=8192)):Ht(e),n=e.updateQueue,n!==null&&$a(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&A(hi),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),dn(Qt),Ht(e),null;case 25:return null}throw Error(d(156,e.tag))}function xd(t,e){switch(St(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return dn(Qt),xt(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return ln(e),null;case 13:if(cn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(d(340));Ke()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return A(Zt),null;case 4:return xt(),null;case 10:return dn(e.type),null;case 22:case 23:return cn(e),dr(),t!==null&&A(hi),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return dn(Qt),null;case 25:return null;default:return null}}function Ku(t,e){switch(St(e),e.tag){case 3:dn(Qt),xt();break;case 26:case 27:case 5:ln(e);break;case 4:xt();break;case 13:cn(e);break;case 19:A(Zt);break;case 10:dn(e.type);break;case 22:case 23:cn(e),dr(),t!==null&&A(hi);break;case 24:dn(Qt)}}function fa(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&t)===t){i=void 0;var u=n.create,E=n.inst;i=u(),E.destroy=i}n=n.next}while(n!==s)}}catch(z){Bt(e,e.return,z)}}function jn(t,e,n){try{var i=e.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var u=s.next;i=u;do{if((i.tag&t)===t){var E=i.inst,z=E.destroy;if(z!==void 0){E.destroy=void 0,s=e;var K=n;try{z()}catch(it){Bt(s,K,it)}}}i=i.next}while(i!==u)}}catch(it){Bt(e,e.return,it)}}function Fu(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{Gt(e,n)}catch(i){Bt(t,t.return,i)}}}function Xu(t,e,n){n.props=Wn(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){Bt(t,e,i)}}function ti(t,e){try{var n=t.ref;if(n!==null){var i=t.stateNode;switch(t.tag){case 26:case 27:case 5:var s=pa(i);break;default:s=i}typeof n=="function"?t.refCleanup=n(s):n.current=s}}catch(u){Bt(t,e,u)}}function Te(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(s){Bt(t,e,s)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){Bt(t,e,s)}else n.current=null}function Zu(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{mp(i,e,n,t)}catch(s){Bt(t,t.return,s)}}function Pu(t,e,n){try{gp(t.stateNode,t.type,n,e,t)}catch(i){Bt(t,t.return,i)}}function Iu(t){return t.tag===5||t.tag===3||(ke?t.tag===26:!1)||(re?t.tag===27:!1)||t.tag===4}function Fr(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Iu(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&(!re||t.tag!==27)&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xr(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?Sp(n,t,e):pp(n,t);else if(!(i===4||re&&i===27)&&(t=t.child,t!==null))for(Xr(t,e,n),t=t.sibling;t!==null;)Xr(t,e,n),t=t.sibling}function ts(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?vp(n,t,e):dp(n,t);else if(!(i===4||re&&i===27)&&(t=t.child,t!==null))for(ts(t,e,n),t=t.sibling;t!==null;)ts(t,e,n),t=t.sibling}function Ju(t,e,n){t=t.containerInfo;try{Kc(t,n)}catch(i){Bt(e,e.return,i)}}function Cd(t,e){for(Fd(t.containerInfo),Wt=e;Wt!==null;)if(t=Wt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Wt=e;else for(;Wt!==null;){t=Wt;var n=t.alternate;switch(e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&n!==null){e=void 0;var i=t,s=n.memoizedProps;n=n.memoizedState;var u=i.stateNode;try{var E=Wn(i.type,s,i.elementType===i.type);e=u.getSnapshotBeforeUpdate(E,n),u.__reactInternalSnapshotBeforeUpdate=e}catch(z){Bt(i,i.return,z)}}break;case 3:(e&1024)!==0&&se&&Tp(t.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(d(163))}if(e=t.sibling,e!==null){e.return=t.return,Wt=e;break}Wt=t.return}return E=pf,pf=!1,E}function Wu(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:pn(t,n),i&4&&fa(5,n);break;case 1:if(pn(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(z){Bt(n,n.return,z)}else{var s=Wn(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(s,e,t.__reactInternalSnapshotBeforeUpdate)}catch(z){Bt(n,n.return,z)}}i&64&&Fu(n),i&512&&ti(n,n.return);break;case 3:if(pn(t,n),i&64&&(i=n.updateQueue,i!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=pa(n.child.stateNode);break;case 1:t=n.child.stateNode}try{Gt(i,t)}catch(z){Bt(n,n.return,z)}}break;case 26:if(ke){pn(t,n),i&512&&ti(n,n.return);break}case 27:case 5:pn(t,n),e===null&&i&4&&Zu(n),i&512&&ti(n,n.return);break;case 12:pn(t,n);break;case 13:pn(t,n),i&4&&tc(t,n);break;case 22:if(s=n.memoizedState!==null||bn,!s){e=e!==null&&e.memoizedState!==null||Lt;var u=bn,E=Lt;bn=s,(Lt=e)&&!E?Bn(t,n,(n.subtreeFlags&8772)!==0):pn(t,n),bn=u,Lt=E}i&512&&(n.memoizedProps.mode==="manual"?ti(n,n.return):Te(n,n.return));break;default:pn(t,n)}}function $u(t){var e=t.alternate;e!==null&&(t.alternate=null,$u(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&tp(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ze(t,e,n){for(n=n.child;n!==null;)Zr(t,e,n),n=n.sibling}function Zr(t,e,n){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(ga,n)}catch{}switch(n.tag){case 26:if(ke){Lt||Te(n,e),Ze(t,e,n),n.memoizedState?tf(n.memoizedState):n.stateNode&&nf(n.stateNode);break}case 27:if(re){Lt||Te(n,e);var i=Xt,s=ze;Xt=n.stateNode,Ze(t,e,n),ey(n.stateNode),Xt=i,ze=s;break}case 5:Lt||Te(n,e);case 6:if(se){if(i=Xt,s=ze,Xt=null,Ze(t,e,n),Xt=i,ze=s,Xt!==null)if(ze)try{Ep(Xt,n.stateNode)}catch(u){Bt(n,e,u)}else try{bp(Xt,n.stateNode)}catch(u){Bt(n,e,u)}}else Ze(t,e,n);break;case 18:se&&Xt!==null&&(ze?Kp(Xt,n.stateNode):Vp(Xt,n.stateNode));break;case 4:se?(i=Xt,s=ze,Xt=n.stateNode.containerInfo,ze=!0,Ze(t,e,n),Xt=i,ze=s):(kn&&Ju(n.stateNode,n,Gc()),Ze(t,e,n));break;case 0:case 11:case 14:case 15:Lt||jn(2,n,e),Lt||jn(4,n,e),Ze(t,e,n);break;case 1:Lt||(Te(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Xu(n,e,i)),Ze(t,e,n);break;case 21:Ze(t,e,n);break;case 22:Lt||Te(n,e),Lt=(i=Lt)||n.memoizedState!==null,Ze(t,e,n),Lt=i;break;default:Ze(t,e,n)}}function tc(t,e){if(Ue&&e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Gp(t)}catch(n){Bt(e,e.return,n)}}function Ad(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new df),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new df),e;default:throw Error(d(435,t.tag))}}function Pr(t,e){var n=Ad(t);e.forEach(function(i){var s=zd.bind(null,t,i);n.has(i)||(n.add(i),i.then(s,s))})}function Se(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i],u=t,E=e;if(se){var z=E;t:for(;z!==null;){switch(z.tag){case 27:case 5:Xt=z.stateNode,ze=!1;break t;case 3:Xt=z.stateNode.containerInfo,ze=!0;break t;case 4:Xt=z.stateNode.containerInfo,ze=!0;break t}z=z.return}if(Xt===null)throw Error(d(160));Zr(u,E,s),Xt=null,ze=!1}else Zr(u,E,s);u=s.alternate,u!==null&&(u.return=null),s.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)ec(e,t),e=e.sibling}function ec(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Se(e,t),Me(t),i&4&&(jn(3,t,t.return),fa(3,t),jn(5,t,t.return));break;case 1:Se(e,t),Me(t),i&512&&(Lt||n===null||Te(n,n.return)),i&64&&bn&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:if(ke){var s=Je;Se(e,t),Me(t),i&512&&(Lt||n===null||Te(n,n.return)),i&4&&(i=n!==null?n.memoizedState:null,e=t.memoizedState,n===null?e===null?t.stateNode===null?t.stateNode=Zp(s,t.type,t.memoizedProps,t):ef(s,t.type,t.stateNode):t.stateNode=$c(s,e,t.memoizedProps):i!==e?(i===null?n.stateNode!==null&&nf(n.stateNode):tf(i),e===null?ef(s,t.type,t.stateNode):$c(s,e,t.memoizedProps)):e===null&&t.stateNode!==null&&Pu(t,t.memoizedProps,n.memoizedProps));break}case 27:if(re&&i&4&&t.alternate===null){s=t.stateNode;var u=t.memoizedProps;try{$p(s),ty(t.type,u,s,t)}catch(lt){Bt(t,t.return,lt)}}case 5:if(Se(e,t),Me(t),i&512&&(Lt||n===null||Te(n,n.return)),se){if(t.flags&32){e=t.stateNode;try{Yc(e)}catch(lt){Bt(t,t.return,lt)}}i&4&&t.stateNode!=null&&(e=t.memoizedProps,Pu(t,e,n!==null?n.memoizedProps:e)),i&1024&&(kl=!0)}break;case 6:if(Se(e,t),Me(t),i&4&&se){if(t.stateNode===null)throw Error(d(162));i=t.memoizedProps,n=n!==null?n.memoizedProps:i,e=t.stateNode;try{yp(e,n,i)}catch(lt){Bt(t,t.return,lt)}}break;case 3:if(ke?(Ip(),s=Je,Je=xl(e.containerInfo),Se(e,t),Je=s):Se(e,t),Me(t),i&4){if(se&&Ue&&n!==null&&n.memoizedState.isDehydrated)try{Yp(e.containerInfo)}catch(lt){Bt(t,t.return,lt)}if(kn){i=e.containerInfo,n=e.pendingChildren;try{Kc(i,n)}catch(lt){Bt(t,t.return,lt)}}}kl&&(kl=!1,nc(t));break;case 4:ke?(n=Je,Je=xl(t.stateNode.containerInfo),Se(e,t),Me(t),Je=n):(Se(e,t),Me(t)),i&4&&kn&&Ju(t.stateNode,t,t.stateNode.pendingChildren);break;case 12:Se(e,t),Me(t);break;case 13:Se(e,t),Me(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Ll=Pe()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Pr(t,i)));break;case 22:i&512&&(Lt||n===null||Te(n,n.return)),s=t.memoizedState!==null;var E=n!==null&&n.memoizedState!==null,z=bn,K=Lt;if(bn=z||s,Lt=K||E,Se(e,t),Lt=K,bn=z,Me(t),e=t.stateNode,e._current=t,e._visibility&=-3,e._visibility|=e._pendingVisibility&2,i&8192&&(e._visibility=s?e._visibility&-2:e._visibility|1,s&&(e=bn||Lt,n===null||E||e||Ei(t)),se&&(t.memoizedProps===null||t.memoizedProps.mode!=="manual"))){t:if(n=null,se)for(e=t;;){if(e.tag===5||ke&&e.tag===26||re&&e.tag===27){if(n===null){E=n=e;try{u=E.stateNode,s?_p(u):Cp(E.stateNode,E.memoizedProps)}catch(lt){Bt(E,E.return,lt)}}}else if(e.tag===6){if(n===null){E=e;try{var it=E.stateNode;s?xp(it):Ap(it,E.memoizedProps)}catch(lt){Bt(E,E.return,lt)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Pr(t,n))));break;case 19:Se(e,t),Me(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Pr(t,i)));break;case 21:break;default:Se(e,t),Me(t)}}function Me(t){var e=t.flags;if(e&2){try{if(se&&(!re||t.tag!==27)){t:{for(var n=t.return;n!==null;){if(Iu(n)){var i=n;break t}n=n.return}throw Error(d(160))}switch(i.tag){case 27:if(re){var s=i.stateNode,u=Fr(t);ts(t,u,s);break}case 5:var E=i.stateNode;i.flags&32&&(Yc(E),i.flags&=-33);var z=Fr(t);ts(t,z,E);break;case 3:case 4:var K=i.stateNode.containerInfo,it=Fr(t);Xr(t,it,K);break;default:throw Error(d(161))}}}catch(lt){Bt(t,t.return,lt)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function nc(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;nc(e),e.tag===5&&e.flags&1024&&ap(e.stateNode),t=t.sibling}}function pn(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)Wu(t,e.alternate,e),e=e.sibling}function Ei(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:jn(4,e,e.return),Ei(e);break;case 1:Te(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&Xu(e,e.return,n),Ei(e);break;case 26:case 27:case 5:Te(e,e.return),Ei(e);break;case 22:Te(e,e.return),e.memoizedState===null&&Ei(e);break;default:Ei(e)}t=t.sibling}}function Bn(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,s=t,u=e,E=u.flags;switch(u.tag){case 0:case 11:case 15:Bn(s,u,n),fa(4,u);break;case 1:if(Bn(s,u,n),i=u,s=i.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(it){Bt(i,i.return,it)}if(i=u,s=i.updateQueue,s!==null){var z=i.stateNode;try{var K=s.shared.hiddenCallbacks;if(K!==null)for(s.shared.hiddenCallbacks=null,s=0;s<K.length;s++)Tt(K[s],z)}catch(it){Bt(i,i.return,it)}}n&&E&64&&Fu(u),ti(u,u.return);break;case 26:case 27:case 5:Bn(s,u,n),n&&i===null&&E&4&&Zu(u),ti(u,u.return);break;case 12:Bn(s,u,n);break;case 13:Bn(s,u,n),n&&E&4&&tc(s,u);break;case 22:u.memoizedState===null&&Bn(s,u,n),ti(u,u.return);break;default:Bn(s,u,n)}e=e.sibling}}function Ir(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&ua(n))}function Jr(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ua(t))}function zn(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ic(t,e,n,i),e=e.sibling}function ic(t,e,n,i){var s=e.flags;switch(e.tag){case 0:case 11:case 15:zn(t,e,n,i),s&2048&&fa(9,e);break;case 3:zn(t,e,n,i),s&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ua(t)));break;case 12:if(s&2048){zn(t,e,n,i),t=e.stateNode;try{var u=e.memoizedProps,E=u.id,z=u.onPostCommit;typeof z=="function"&&z(E,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(K){Bt(e,e.return,K)}}else zn(t,e,n,i);break;case 23:break;case 22:u=e.stateNode,e.memoizedState!==null?u._visibility&4?zn(t,e,n,i):ha(t,e):u._visibility&4?zn(t,e,n,i):(u._visibility|=4,_i(t,e,n,i,(e.subtreeFlags&10256)!==0)),s&2048&&Ir(e.alternate,e);break;case 24:zn(t,e,n,i),s&2048&&Jr(e.alternate,e);break;default:zn(t,e,n,i)}}function _i(t,e,n,i,s){for(s=s&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var u=t,E=e,z=n,K=i,it=E.flags;switch(E.tag){case 0:case 11:case 15:_i(u,E,z,K,s),fa(8,E);break;case 23:break;case 22:var lt=E.stateNode;E.memoizedState!==null?lt._visibility&4?_i(u,E,z,K,s):ha(u,E):(lt._visibility|=4,_i(u,E,z,K,s)),s&&it&2048&&Ir(E.alternate,E);break;case 24:_i(u,E,z,K,s),s&&it&2048&&Jr(E.alternate,E);break;default:_i(u,E,z,K,s)}e=e.sibling}}function ha(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,s=i.flags;switch(i.tag){case 22:ha(n,i),s&2048&&Ir(i.alternate,i);break;case 24:ha(n,i),s&2048&&Jr(i.alternate,i);break;default:ha(n,i)}e=e.sibling}}function ei(t){if(t.subtreeFlags&Yi)for(t=t.child;t!==null;)ac(t),t=t.sibling}function ac(t){switch(t.tag){case 26:ei(t),t.flags&Yi&&(t.memoizedState!==null?Wp(Je,t.memoizedState,t.memoizedProps):Lc(t.type,t.memoizedProps));break;case 5:ei(t),t.flags&Yi&&Lc(t.type,t.memoizedProps);break;case 3:case 4:if(ke){var e=Je;Je=xl(t.stateNode.containerInfo),ei(t),Je=e}else ei(t);break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=Yi,Yi=16777216,ei(t),Yi=e):ei(t));break;default:ei(t)}}function sc(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function da(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Wt=i,lc(i,t)}sc(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)rc(t),t=t.sibling}function rc(t){switch(t.tag){case 0:case 11:case 15:da(t),t.flags&2048&&jn(9,t,t.return);break;case 3:da(t);break;case 12:da(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&4&&(t.return===null||t.return.tag!==13)?(e._visibility&=-5,es(t)):da(t);break;default:da(t)}}function es(t){var e=t.deletions;if((t.flags&16)!==0){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Wt=i,lc(i,t)}sc(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:jn(8,e,e.return),es(e);break;case 22:n=e.stateNode,n._visibility&4&&(n._visibility&=-5,es(e));break;default:es(e)}t=t.sibling}}function lc(t,e){for(;Wt!==null;){var n=Wt;switch(n.tag){case 0:case 11:case 15:jn(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:ua(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Wt=i;else t:for(n=t;Wt!==null;){i=Wt;var s=i.sibling,u=i.return;if($u(i),i===n){Wt=null;break t}if(s!==null){s.return=u,Wt=s;break t}Wt=u}}}function Wr(t){var e=qc(t);if(e!=null){if(typeof e.memoizedProps["data-testname"]!="string")throw Error(d(364));return e}if(t=lp(t),t===null)throw Error(d(362));return t.stateNode.current}function $r(t,e){var n=t.tag;switch(e.$$typeof){case bs:if(t.type===e.value)return!0;break;case Es:t:{for(e=e.value,t=[t,0],n=0;n<t.length;){var i=t[n++],s=i.tag,u=t[n++],E=e[u];if(s!==5&&s!==26&&s!==27||!ma(i)){for(;E!=null&&$r(i,E);)u++,E=e[u];if(u===e.length){e=!0;break t}else for(i=i.child;i!==null;)t.push(i,u),i=i.sibling}}e=!1}return e;case _s:if((n===5||n===26||n===27)&&cp(t.stateNode,e.value))return!0;break;case Cs:if((n===5||n===6||n===26||n===27)&&(t=up(t),t!==null&&0<=t.indexOf(e.value)))return!0;break;case xs:if((n===5||n===26||n===27)&&(t=t.memoizedProps["data-testname"],typeof t=="string"&&t.toLowerCase()===e.value.toLowerCase()))return!0;break;default:throw Error(d(365))}return!1}function tl(t){switch(t.$$typeof){case bs:return"<"+(_(t.value)||"Unknown")+">";case Es:return":has("+(tl(t)||"")+")";case _s:return'[role="'+t.value+'"]';case Cs:return'"'+t.value+'"';case xs:return'[data-testname="'+t.value+'"]';default:throw Error(d(365))}}function oc(t,e){var n=[];t=[t,0];for(var i=0;i<t.length;){var s=t[i++],u=s.tag,E=t[i++],z=e[E];if(u!==5&&u!==26&&u!==27||!ma(s)){for(;z!=null&&$r(s,z);)E++,z=e[E];if(E===e.length)n.push(s);else for(s=s.child;s!==null;)t.push(s,E),s=s.sibling}}return n}function el(t,e){if(!ya)throw Error(d(363));t=Wr(t),t=oc(t,e),e=[],t=Array.from(t);for(var n=0;n<t.length;){var i=t[n++],s=i.tag;if(s===5||s===26||s===27)ma(i)||e.push(i.stateNode);else for(i=i.child;i!==null;)t.push(i),i=i.sibling}return e}function Re(){if((Dt&2)!==0&&Mt!==0)return Mt&-Mt;if(bt.T!==null){var t=wi;return t!==0?t:S()}return Wd()}function uc(){Ye===0&&(Ye=(Mt&536870912)===0||Nt?B():536870912);var t=Le.current;return t!==null&&(t.flags|=32),Ye}function pe(t,e,n){(t===wt&&Ut===2||t.cancelPendingCommit!==null)&&(xi(t,0),yn(t,Mt,Ye,!1)),tt(t,n),((Dt&2)===0||t!==wt)&&(t===wt&&((Dt&2)===0&&(di|=n),Yt===4&&yn(t,Mt,Ye,!1)),he(t))}function cc(t,e,n){if((Dt&6)!==0)throw Error(d(327));var i=!n&&(e&60)===0&&(e&t.expiredLanes)===0||et(t,e),s=i?Rd(t,e):sl(t,e,!0),u=i;do{if(s===0){Gi&&!i&&yn(t,e,0,!1);break}else if(s===6)yn(t,e,0,!En);else{if(n=t.current.alternate,u&&!Td(n)){s=sl(t,e,!1),u=!1;continue}if(s===2){if(u=e,t.errorRecoveryDisabledLanes&u)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){e=E;t:{var z=t;s=Ca;var K=Ue&&z.current.memoizedState.isDehydrated;if(K&&(xi(z,E).flags|=256),E=sl(z,E,!1),E!==2){if(Hl&&!K){z.errorRecoveryDisabledLanes|=u,di|=u,s=4;break t}u=sn,sn=s,u!==null&&nl(u)}s=E}if(u=!1,s!==2)continue}}if(s===1){xi(t,0),yn(t,e,0,!0);break}t:{switch(i=t,s){case 0:case 1:throw Error(d(345));case 4:if((e&4194176)===e){yn(i,e,Ye,!En);break t}break;case 2:sn=null;break;case 3:case 5:break;default:throw Error(d(329))}if(i.finishedWork=n,i.finishedLanes=e,(e&62914560)===e&&(u=Ll+300-Pe(),10<u)){if(yn(i,e,Ye,!En),X(i,0)!==0)break t;i.timeoutHandle=Pd(fc.bind(null,i,n,sn,As,Ql,e,Ye,di,Vi,En,2,-0,0),u);break t}fc(i,n,sn,As,Ql,e,Ye,di,Vi,En,0,-0,0)}}break}while(!0);he(t)}function nl(t){sn===null?sn=t:sn.push.apply(sn,t)}function fc(t,e,n,i,s,u,E,z,K,it,lt,ft,ht){var Et=e.subtreeFlags;if((Et&8192||(Et&16785408)===16785408)&&(np(),ac(e),e=ip(),e!==null)){t.cancelPendingCommit=e(bc.bind(null,t,n,i,s,E,z,K,1,ft,ht)),yn(t,u,E,!it);return}bc(t,n,i,s,E,z,K,lt,ft,ht)}function Td(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var s=n[i],u=s.getSnapshot;s=s.value;try{if(!Be(u(),s))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function yn(t,e,n,i){e&=~ql,e&=~di,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var s=e;0<s;){var u=31-Oe(s),E=1<<u;i[u]=-1,s&=~E}n!==0&&D(t,n,e)}function hc(){return(Dt&6)===0?(xe(0),!1):!0}function il(){if(At!==null){if(Ut===0)var t=At.return;else t=At,Sn=fi=null,vr(t),Hi=null,Ea=0,t=At;for(;t!==null;)Ku(t.alternate,t),t=t.return;At=null}}function xi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;n!==bl&&(t.timeoutHandle=bl,Id(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),il(),wt=t,At=n=Dn(t.current,null),Mt=e,Ut=0,De=null,En=!1,Gi=et(t,e),Hl=!1,Vi=Ye=ql=di=Yn=Yt=0,sn=Ca=null,Ql=!1,(e&8)!==0&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var s=31-Oe(i),u=1<<s;e|=t[s],i&=~u}return _n=e,_e(),n}function dc(t,e){_t=null,bt.H=an,e===ba?(e=we(),Ut=3):e===zl?(e=we(),Ut=4):Ut=e===ff?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,De=e,At===null&&(Yt=1,Pa(t,w(e,t.current)))}function pc(){var t=Le.current;return t===null?!0:(Mt&4194176)===Mt?nn===null:(Mt&62914560)===Mt||(Mt&536870912)!==0?t===nn:!1}function yc(){var t=bt.H;return bt.H=an,t===null?an:t}function mc(){var t=bt.A;return bt.A=yy,t}function al(){Yt=4,En||(Mt&4194176)!==Mt&&Le.current!==null||(Gi=!0),(Yn&134217727)===0&&(di&134217727)===0||wt===null||yn(wt,Mt,Ye,!1)}function sl(t,e,n){var i=Dt;Dt|=2;var s=yc(),u=mc();(wt!==t||Mt!==e)&&(As=null,xi(t,e)),e=!1;var E=Yt;t:do try{if(Ut!==0&&At!==null){var z=At,K=De;switch(Ut){case 8:il(),E=6;break t;case 3:case 2:case 6:Le.current===null&&(e=!0);var it=Ut;if(Ut=0,De=null,Ci(t,z,K,it),n&&Gi){E=0;break t}break;default:it=Ut,Ut=0,De=null,Ci(t,z,K,it)}}Md(),E=Yt;break}catch(lt){dc(t,lt)}while(!0);return e&&t.shellSuspendCounter++,Sn=fi=null,Dt=i,bt.H=s,bt.A=u,At===null&&(wt=null,Mt=0,_e()),E}function Md(){for(;At!==null;)gc(At)}function Rd(t,e){var n=Dt;Dt|=2;var i=yc(),s=mc();wt!==t||Mt!==e?(As=null,Aa=Pe()+500,xi(t,e)):Gi=et(t,e);t:do try{if(Ut!==0&&At!==null){e=At;var u=De;e:switch(Ut){case 1:Ut=0,De=null,Ci(t,e,u,1);break;case 2:if(Fe(u)){Ut=0,De=null,vc(e);break}e=function(){Ut===2&&wt===t&&(Ut=7),he(t)},u.then(e,e);break t;case 3:Ut=7;break t;case 4:Ut=5;break t;case 7:Fe(u)?(Ut=0,De=null,vc(e)):(Ut=0,De=null,Ci(t,e,u,7));break;case 5:var E=null;switch(At.tag){case 26:E=At.memoizedState;case 5:case 27:var z=At,K=z.type,it=z.pendingProps;if(E?af(E):Qc(K,it)){Ut=0,De=null;var lt=z.sibling;if(lt!==null)At=lt;else{var ft=z.return;ft!==null?(At=ft,ns(ft)):At=null}break e}}Ut=0,De=null,Ci(t,e,u,5);break;case 6:Ut=0,De=null,Ci(t,e,u,6);break;case 8:il(),Yt=6;break t;default:throw Error(d(462))}}Nd();break}catch(ht){dc(t,ht)}while(!0);return Sn=fi=null,bt.H=i,bt.A=s,Dt=n,At!==null?0:(wt=null,Mt=0,_e(),Yt)}function Nd(){for(;At!==null&&!ay();)gc(At)}function gc(t){var e=Hu(t.alternate,t,_n);t.memoizedProps=t.pendingProps,e===null?ns(t):At=e}function vc(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Bu(n,e,e.pendingProps,e.type,void 0,Mt);break;case 11:e=Bu(n,e,e.pendingProps,e.type.render,e.ref,Mt);break;case 5:vr(e);default:Ku(n,e),e=At=Cc(e,_n),e=Hu(n,e,_n)}t.memoizedProps=t.pendingProps,e===null?ns(t):At=e}function Ci(t,e,n,i){Sn=fi=null,vr(e),Hi=null,Ea=0;var s=e.return;try{if(bd(t,s,e,n,Mt)){Yt=1,Pa(t,w(n,t.current)),At=null;return}}catch(u){if(s!==null)throw At=s,u;Yt=1,Pa(t,w(n,t.current)),At=null;return}e.flags&32768?(Nt||i===1?t=!0:Gi||(Mt&536870912)!==0?t=!1:(En=t=!0,(i===2||i===3||i===6)&&(i=Le.current,i!==null&&i.tag===13&&(i.flags|=16384))),Sc(e,t)):ns(e)}function ns(t){var e=t;do{if((e.flags&32768)!==0){Sc(e,En);return}t=e.return;var n=_d(e.alternate,e,_n);if(n!==null){At=n;return}if(e=e.sibling,e!==null){At=e;return}At=e=t}while(e!==null);Yt===0&&(Yt=5)}function Sc(t,e){do{var n=xd(t.alternate,t);if(n!==null){n.flags&=32767,At=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){At=t;return}At=t=n}while(t!==null);Yt=6,At=null}function bc(t,e,n,i,s,u,E,z,K,it){var lt=bt.T,ft=ai();try{be(2),bt.T=null,Od(t,e,n,i,ft,s,u,E,z,K,it)}finally{bt.T=lt,be(ft)}}function Od(t,e,n,i,s,u,E,z){do ni();while(pi!==null);if((Dt&6)!==0)throw Error(d(327));var K=t.finishedWork;if(i=t.finishedLanes,K===null)return null;if(t.finishedWork=null,t.finishedLanes=0,K===t.current)throw Error(d(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var it=K.lanes|K.childLanes;if(it|=Rl,pt(t,i,it,u,E,z),t===wt&&(At=wt=null,Mt=0),(K.subtreeFlags&10256)===0&&(K.flags&10256)===0||Ts||(Ts=!0,Yl=it,Gl=n,Dd(Tl,function(){return ni(),null})),n=(K.flags&15990)!==0,(K.subtreeFlags&15990)!==0||n?(n=bt.T,bt.T=null,u=ai(),be(2),E=Dt,Dt|=4,Cd(t,K),ec(K,t),Xd(t.containerInfo),t.current=K,Wu(t,K.alternate,K),sy(),Dt=E,be(u),bt.T=n):t.current=K,Ts?(Ts=!1,pi=t,Ta=i):Ec(t,it),it=t.pendingLanes,it===0&&(Gn=null),k(K.stateNode),he(t),e!==null)for(s=t.onRecoverableError,K=0;K<e.length;K++)it=e[K],s(it.value,{componentStack:it.stack});return(Ta&3)!==0&&ni(),it=t.pendingLanes,(i&4194218)!==0&&(it&42)!==0?t===Vl?Ma++:(Ma=0,Vl=t):Ma=0,xe(0),null}function Ec(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,ua(e)))}function ni(){if(pi!==null){var t=pi,e=Yl;Yl=0;var n=at(Ta),i=32>n?32:n;n=bt.T;var s=ai();try{if(be(i),bt.T=null,pi===null)var u=!1;else{i=Gl,Gl=null;var E=pi,z=Ta;if(pi=null,Ta=0,(Dt&6)!==0)throw Error(d(331));var K=Dt;if(Dt|=4,rc(E.current),ic(E,E.current,z,i),Dt=K,xe(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(ga,E)}catch{}u=!0}return u}finally{be(s),bt.T=n,Ec(t,e)}}return!1}function _c(t,e,n){e=w(n,e),e=Or(t.stateNode,e,2),t=gt(t,e,2),t!==null&&(tt(t,2),he(t))}function Bt(t,e,n){if(t.tag===3)_c(t,t,n);else for(;e!==null;){if(e.tag===3){_c(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Gn===null||!Gn.has(i))){t=w(n,t),n=Au(2),i=gt(e,n,2),i!==null&&(Tu(n,i,e,t),tt(i,2),he(i));break}}e=e.return}}function rl(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new my;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(Hl=!0,s.add(n),t=jd.bind(null,t,e,n),e.then(t,t))}function jd(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,wt===t&&(Mt&n)===n&&(Yt===4||Yt===3&&(Mt&62914560)===Mt&&300>Pe()-Ll?(Dt&2)===0&&xi(t,0):ql|=n,Vi===Mt&&(Vi=0)),he(t)}function xc(t,e){e===0&&(e=Q()),t=fe(t,e),t!==null&&(tt(t,e),he(t))}function Bd(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),xc(t,n)}function zd(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(d(314))}i!==null&&i.delete(e),xc(t,n)}function Dd(t,e){return us(t,e)}function wd(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ll(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Dn(t,e){var n=t.alternate;return n===null?(n=h(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&31457280,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function Cc(t,e){t.flags&=31457282;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function is(t,e,n,i,s,u){var E=0;if(i=t,typeof t=="function")ll(t)&&(E=1);else if(typeof t=="string")E=ke&&re?Jc(t,n,ee.current)?26:rf(t)?27:5:ke?Jc(t,n,ee.current)?26:5:re&&rf(t)?27:5;else t:switch(t){case Ti:return ii(n.children,s,u,e);case jc:E=8,s|=24;break;case hl:return t=h(12,n,e,s|2),t.elementType=hl,t.lanes=u,t;case pl:return t=h(13,n,e,s),t.elementType=pl,t.lanes=u,t;case yl:return t=h(19,n,e,s),t.elementType=yl,t.lanes=u,t;case zc:return Ac(n,s,u,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case qd:case wn:E=10;break t;case Bc:E=9;break t;case dl:E=11;break t;case ml:E=14;break t;case Un:E=16,i=null;break t}E=29,n=Error(d(130,t===null?"null":typeof t,"")),i=null}return e=h(E,n,e,s),e.elementType=t,e.type=i,e.lanes=u,e}function ii(t,e,n,i){return t=h(7,t,i,e),t.lanes=n,t}function Ac(t,e,n,i){t=h(22,t,i,e),t.elementType=zc,t.lanes=n;var s={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var u=s._current;if(u===null)throw Error(d(456));if((s._pendingVisibility&2)===0){var E=fe(u,2);E!==null&&(s._pendingVisibility|=2,pe(E,u,2))}},attach:function(){var u=s._current;if(u===null)throw Error(d(456));if((s._pendingVisibility&2)!==0){var E=fe(u,2);E!==null&&(s._pendingVisibility&=-3,pe(E,u,2))}}};return t.stateNode=s,t}function ol(t,e,n){return t=h(6,t,null,e),t.lanes=n,t}function ul(t,e,n){return e=h(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ud(t,e,n,i,s,u,E,z){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=bl,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=U(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=U(0),this.hiddenUpdates=U(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=u,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=z,this.incompleteTransitions=new Map}function Tc(t,e,n,i,s,u,E,z,K,it,lt,ft){return t=new Ud(t,e,n,E,z,K,it,ft),e=1,u===!0&&(e|=24),u=h(3,null,null,e),t.current=u,u.stateNode=t,e=Lr(),e.refCount++,t.pooledCache=e,e.refCount++,u.memoizedState={element:i,isDehydrated:n,cache:e},q(u),t}function Mc(t){return t?(t=Ni,t):Ni}function Rc(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(d(188)):(t=Object.keys(t).join(","),Error(d(268,t)));return t=x(e),t=t!==null?v(t):null,t===null?null:pa(t.stateNode)}function Nc(t,e,n,i,s,u){s=Mc(s),i.context===null?i.context=s:i.pendingContext=s,i=$(e),i.payload={element:n},u=u===void 0?null:u,u!==null&&(i.callback=u),n=gt(t,i,e),n!==null&&(pe(n,t,e),Rt(n,t,e))}function Oc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function cl(t,e){Oc(t,e),(t=t.alternate)&&Oc(t,e)}var Ct={},kd=vy(),Ne=Iy(),fl=Object.assign,Hd=Symbol.for("react.element"),as=Symbol.for("react.transitional.element"),Ai=Symbol.for("react.portal"),Ti=Symbol.for("react.fragment"),jc=Symbol.for("react.strict_mode"),hl=Symbol.for("react.profiler"),qd=Symbol.for("react.provider"),Bc=Symbol.for("react.consumer"),wn=Symbol.for("react.context"),dl=Symbol.for("react.forward_ref"),pl=Symbol.for("react.suspense"),yl=Symbol.for("react.suspense_list"),ml=Symbol.for("react.memo"),Un=Symbol.for("react.lazy"),zc=Symbol.for("react.offscreen"),Qd=Symbol.for("react.memo_cache_sentinel"),Dc=Symbol.iterator,Ld=Symbol.for("react.client.reference"),bt=kd.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gl,wc,vl=!1,ss=Array.isArray,Yd=a.rendererVersion,Gd=a.rendererPackageName,Uc=a.extraDevToolsConfig,pa=a.getPublicInstance,Vd=a.getRootHostContext,Kd=a.getChildHostContext,Fd=a.prepareForCommit,Xd=a.resetAfterCommit,Zd=a.createInstance,Sl=a.appendInitialChild,kc=a.finalizeInitialChildren,rs=a.shouldSetTextContent,Hc=a.createTextInstance,Pd=a.scheduleTimeout,Id=a.cancelTimeout,bl=a.noTimeout,mn=a.isPrimaryRenderer;a.warnsIfNotActing;var se=a.supportsMutation,kn=a.supportsPersistence,Ue=a.supportsHydration,qc=a.getInstanceFromNode;a.beforeActiveInstanceBlur,a.afterActiveInstanceBlur;var Jd=a.preparePortalMount;a.prepareScopeUpdate,a.getInstanceFromScope;var be=a.setCurrentUpdatePriority,ai=a.getCurrentUpdatePriority,Wd=a.resolveUpdatePriority;a.resolveEventType,a.resolveEventTimeStamp;var $d=a.shouldAttemptEagerTransition,tp=a.detachDeletedInstance;a.requestPostPaintCallback;var ep=a.maySuspendCommit,Qc=a.preloadInstance,np=a.startSuspendingCommit,Lc=a.suspendInstance,ip=a.waitForCommitToBeReady,Mi=a.NotPendingTransition,si=a.HostTransitionContext,ap=a.resetFormInstance;a.bindToConsole;var sp=a.supportsMicrotasks,rp=a.scheduleMicrotask,ya=a.supportsTestSelectors,lp=a.findFiberRoot,op=a.getBoundingRect,up=a.getTextContent,ma=a.isHiddenSubtree,cp=a.matchAccessibilityRole,fp=a.setFocusIfFocusable,hp=a.setupIntersectionObserver,dp=a.appendChild,pp=a.appendChildToContainer,yp=a.commitTextUpdate,mp=a.commitMount,gp=a.commitUpdate,vp=a.insertBefore,Sp=a.insertInContainerBefore,bp=a.removeChild,Ep=a.removeChildFromContainer,Yc=a.resetTextContent,_p=a.hideInstance,xp=a.hideTextInstance,Cp=a.unhideInstance,Ap=a.unhideTextInstance,Tp=a.clearContainer,Mp=a.cloneInstance,Gc=a.createContainerChildSet,Vc=a.appendChildToContainerChildSet,Rp=a.finalizeContainerChildren,Kc=a.replaceContainerChildren,Fc=a.cloneHiddenInstance,Xc=a.cloneHiddenTextInstance,El=a.isSuspenseInstancePending,_l=a.isSuspenseInstanceFallback,Np=a.getSuspenseInstanceFallbackErrorDetails,Op=a.registerSuspenseInstanceRetry,jp=a.canHydrateFormStateMarker,Bp=a.isFormStateMarkerMatching,Zc=a.getNextHydratableSibling,Pc=a.getFirstHydratableChild,zp=a.getFirstHydratableChildWithinContainer,Dp=a.getFirstHydratableChildWithinSuspenseInstance,wp=a.canHydrateInstance,Up=a.canHydrateTextInstance,kp=a.canHydrateSuspenseInstance,Hp=a.hydrateInstance,qp=a.hydrateTextInstance,Qp=a.hydrateSuspenseInstance,Lp=a.getNextHydratableInstanceAfterSuspenseInstance,Yp=a.commitHydratedContainer,Gp=a.commitHydratedSuspenseInstance,Vp=a.clearSuspenseBoundary,Kp=a.clearSuspenseBoundaryFromContainer,Ic=a.shouldDeleteUnhydratedTailInstances;a.diffHydratedPropsForDevWarnings,a.diffHydratedTextForDevWarnings,a.describeHydratableInstanceForDevWarnings;var Fp=a.validateHydratableInstance,Xp=a.validateHydratableTextInstance,ke=a.supportsResources,Jc=a.isHostHoistableType,xl=a.getHoistableRoot,Wc=a.getResource,$c=a.acquireResource,tf=a.releaseResource,Zp=a.hydrateHoistable,ef=a.mountHoistable,nf=a.unmountHoistable,Pp=a.createHoistableInstance,Ip=a.prepareToCommitHoistables,Jp=a.mayResourceSuspendCommit,af=a.preloadResource,Wp=a.suspendResource,re=a.supportsSingletons,sf=a.resolveSingletonInstance,$p=a.clearSingleton,ty=a.acquireSingletonInstance,ey=a.releaseSingletonInstance,rf=a.isHostSingletonType,Cl=[],Ri=-1,Ni={},Oe=Math.clz32?Math.clz32:R,ny=Math.log,iy=Math.LN2,ls=128,os=4194304,us=Ne.unstable_scheduleCallback,Al=Ne.unstable_cancelCallback,ay=Ne.unstable_shouldYield,sy=Ne.unstable_requestPaint,Pe=Ne.unstable_now,lf=Ne.unstable_ImmediatePriority,ry=Ne.unstable_UserBlockingPriority,Tl=Ne.unstable_NormalPriority,ly=Ne.unstable_IdlePriority,oy=Ne.log,uy=Ne.unstable_setDisableYieldValue,ga=null,je=null,Be=typeof Object.is=="function"?Object.is:Z,of=new WeakMap,Oi=[],ji=0,cs=null,fs=0,He=[],qe=0,ri=null,gn=1,vn="",ee=N(null),va=N(null),Hn=N(null),hs=N(null),ye=null,le=null,Nt=!1,Ie=null,en=!1,Ml=Error(d(519)),Qe=[],Bi=0,Rl=0,ds=null,zi=null,Nl=!1,ps=!1,Ol=!1,Di=0,Sa=null,jl=0,wi=0,Ui=null,qn=!1,Bl=!1,cy=Object.prototype.hasOwnProperty,ba=Error(d(460)),zl=Error(d(474)),ys={then:function(){}},ki=null,Hi=null,Ea=0,li=Jn(!0),uf=Jn(!1),qi=N(null),ms=N(0),Le=N(null),nn=null,Zt=N(0),Qn=0,_t=null,zt=null,Ft=null,gs=!1,Qi=!1,oi=!1,vs=0,_a=0,Li=null,fy=0,Dl=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},an={readContext:ae,use:Va,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt};an.useCacheRefresh=Vt,an.useMemoCache=Vt,an.useHostTransitionStatus=Vt,an.useFormState=Vt,an.useActionState=Vt,an.useOptimistic=Vt;var ui={readContext:ae,use:Va,useCallback:function(t,e){return ve().memoizedState=[t,e===void 0?null:e],t},useContext:ae,useEffect:lu,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Fa(4194308,4,cu.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Fa(4194308,4,t,e)},useInsertionEffect:function(t,e){Fa(4,2,t,e)},useMemo:function(t,e){var n=ve();e=e===void 0?null:e;var i=t();if(oi){F(!0);try{t()}finally{F(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=ve();if(n!==void 0){var s=n(e);if(oi){F(!0);try{n(e)}finally{F(!1)}}}else s=e;return i.memoizedState=i.baseState=s,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},i.queue=t,t=t.dispatch=Sd.bind(null,_t,t),[i.memoizedState,t]},useRef:function(t){var e=ve();return t={current:t},e.memoizedState=t},useState:function(t){t=_r(t);var e=t.queue,n=Su.bind(null,_t,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Ar,useDeferredValue:function(t,e){var n=ve();return Tr(n,t,e)},useTransition:function(){var t=_r(!1);return t=yu.bind(null,_t,t.queue,!0,!1),ve().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=_t,s=ve();if(Nt){if(n===void 0)throw Error(d(407));n=n()}else{if(n=e(),wt===null)throw Error(d(349));(Mt&60)!==0||Ko(i,e,n)}s.memoizedState=n;var u={value:n,getSnapshot:e};return s.queue=u,lu(Xo.bind(null,i,u,t),[t]),i.flags|=2048,bi(9,Fo.bind(null,i,u,n,e),{destroy:void 0},null),n},useId:function(){var t=ve(),e=wt.identifierPrefix;if(Nt){var n=vn,i=gn;n=(i&~(1<<32-Oe(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=vs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=fy++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},useCacheRefresh:function(){return ve().memoizedState=vd.bind(null,_t)}};ui.useMemoCache=Sr,ui.useHostTransitionStatus=Mr,ui.useFormState=nu,ui.useActionState=nu,ui.useOptimistic=function(t){var e=ve();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Rr.bind(null,_t,!0,n),n.dispatch=e,[t,e]};var Ln={readContext:ae,use:Va,useCallback:hu,useContext:ae,useEffect:Cr,useImperativeHandle:fu,useInsertionEffect:ou,useLayoutEffect:uu,useMemo:du,useReducer:Ka,useRef:ru,useState:function(){return Ka(fn)},useDebugValue:Ar,useDeferredValue:function(t,e){var n=Kt();return pu(n,zt.memoizedState,t,e)},useTransition:function(){var t=Ka(fn)[0],e=Kt().memoizedState;return[typeof t=="boolean"?t:sa(t),e]},useSyncExternalStore:Vo,useId:gu};Ln.useCacheRefresh=vu,Ln.useMemoCache=Sr,Ln.useHostTransitionStatus=Mr,Ln.useFormState=iu,Ln.useActionState=iu,Ln.useOptimistic=function(t,e){var n=Kt();return Io(n,zt,t,e)};var ci={readContext:ae,use:Va,useCallback:hu,useContext:ae,useEffect:Cr,useImperativeHandle:fu,useInsertionEffect:ou,useLayoutEffect:uu,useMemo:du,useReducer:Er,useRef:ru,useState:function(){return Er(fn)},useDebugValue:Ar,useDeferredValue:function(t,e){var n=Kt();return zt===null?Tr(n,t,e):pu(n,zt.memoizedState,t,e)},useTransition:function(){var t=Er(fn)[0],e=Kt().memoizedState;return[typeof t=="boolean"?t:sa(t),e]},useSyncExternalStore:Vo,useId:gu};ci.useCacheRefresh=vu,ci.useMemoCache=Sr,ci.useHostTransitionStatus=Mr,ci.useFormState=su,ci.useActionState=su,ci.useOptimistic=function(t,e){var n=Kt();return zt!==null?Io(n,zt,t,e):(n.baseState=t,[t,n.queue.dispatch])};var wl={isMounted:function(t){return(t=t._reactInternals)?g(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Re(),s=$(i);s.payload=e,n!=null&&(s.callback=n),e=gt(t,s,i),e!==null&&(pe(e,t,i),Rt(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Re(),s=$(i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=gt(t,s,i),e!==null&&(pe(e,t,i),Rt(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Re(),i=$(n);i.tag=2,e!=null&&(i.callback=e),e=gt(t,i,n),e!==null&&(pe(e,t,n),Rt(e,t,n))}},cf=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ff=Error(d(461)),Jt=!1,Ul={dehydrated:null,treeContext:null,retryLane:0},Ss=N(null),fi=null,Sn=null,hy=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},dy=Ne.unstable_scheduleCallback,py=Ne.unstable_NormalPriority,Qt={$$typeof:wn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},hf=bt.S;bt.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&o(t,e),hf!==null&&hf(t,e)};var hi=N(null),bn=!1,Lt=!1,kl=!1,df=typeof WeakSet=="function"?WeakSet:Set,Wt=null,pf=!1,Xt=null,ze=!1,Je=null,Yi=8192,yy={getCacheForType:function(t){var e=ae(Qt),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},bs=0,Es=1,_s=2,xs=3,Cs=4;if(typeof Symbol=="function"&&Symbol.for){var xa=Symbol.for;bs=xa("selector.component"),Es=xa("selector.has_pseudo_class"),_s=xa("selector.role"),xs=xa("selector.test_id"),Cs=xa("selector.text")}var my=typeof WeakMap=="function"?WeakMap:Map,Dt=0,wt=null,At=null,Mt=0,Ut=0,De=null,En=!1,Gi=!1,Hl=!1,_n=0,Yt=0,Yn=0,di=0,ql=0,Ye=0,Vi=0,Ca=null,sn=null,Ql=!1,Ll=0,Aa=1/0,As=null,Gn=null,Ts=!1,pi=null,Ta=0,Yl=0,Gl=null,Ma=0,Vl=null;return Ct.attemptContinuousHydration=function(t){if(t.tag===13){var e=fe(t,67108864);e!==null&&pe(e,t,67108864),cl(t,67108864)}},Ct.attemptHydrationAtCurrentPriority=function(t){if(t.tag===13){var e=Re(),n=fe(t,e);n!==null&&pe(n,t,e),cl(t,e)}},Ct.attemptSynchronousHydration=function(t){switch(t.tag){case 3:if(t=t.stateNode,t.current.memoizedState.isDehydrated){var e=L(t.pendingLanes);if(e!==0){for(t.pendingLanes|=2,t.entangledLanes|=2;e;){var n=1<<31-Oe(e);t.entanglements[1]|=n,e&=~n}he(t),(Dt&6)===0&&(Aa=Pe()+500,xe(0))}}break;case 13:e=fe(t,2),e!==null&&pe(e,t,2),hc(),cl(t,2)}},Ct.batchedUpdates=function(t,e){return t(e)},Ct.createComponentSelector=function(t){return{$$typeof:bs,value:t}},Ct.createContainer=function(t,e,n,i,s,u,E,z,K,it){return Tc(t,e,!1,null,n,i,u,E,z,K,it,null)},Ct.createHasPseudoClassSelector=function(t){return{$$typeof:Es,value:t}},Ct.createHydrationContainer=function(t,e,n,i,s,u,E,z,K,it,lt,ft,ht){return t=Tc(n,i,!0,t,s,u,z,K,it,lt,ft,ht),t.context=Mc(null),n=t.current,i=Re(),s=$(i),s.callback=e??null,gt(n,s,i),t.current.lanes=i,tt(t,i),he(t),t},Ct.createPortal=function(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ai,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}},Ct.createRoleSelector=function(t){return{$$typeof:_s,value:t}},Ct.createTestNameSelector=function(t){return{$$typeof:xs,value:t}},Ct.createTextSelector=function(t){return{$$typeof:Cs,value:t}},Ct.defaultOnCaughtError=function(t){console.error(t)},Ct.defaultOnRecoverableError=function(t){cf(t)},Ct.defaultOnUncaughtError=function(t){cf(t)},Ct.deferredUpdates=function(t){var e=bt.T,n=ai();try{return be(32),bt.T=null,t()}finally{be(n),bt.T=e}},Ct.discreteUpdates=function(t,e,n,i,s){var u=bt.T,E=ai();try{return be(2),bt.T=null,t(e,n,i,s)}finally{be(E),bt.T=u,Dt===0&&(Aa=Pe()+500)}},Ct.findAllNodes=el,Ct.findBoundingRects=function(t,e){if(!ya)throw Error(d(363));e=el(t,e),t=[];for(var n=0;n<e.length;n++)t.push(op(e[n]));for(e=t.length-1;0<e;e--){n=t[e];for(var i=n.x,s=i+n.width,u=n.y,E=u+n.height,z=e-1;0<=z;z--)if(e!==z){var K=t[z],it=K.x,lt=it+K.width,ft=K.y,ht=ft+K.height;if(i>=it&&u>=ft&&s<=lt&&E<=ht){t.splice(e,1);break}else if(i!==it||n.width!==K.width||ht<u||ft>E){if(!(u!==ft||n.height!==K.height||lt<i||it>s)){it>i&&(K.width+=it-i,K.x=i),lt<s&&(K.width=s-it),t.splice(e,1);break}}else{ft>u&&(K.height+=ft-u,K.y=u),ht<E&&(K.height=E-ft),t.splice(e,1);break}}}return t},Ct.findHostInstance=Rc,Ct.findHostInstanceWithNoPortals=function(t){return t=x(t),t=t!==null?O(t):null,t===null?null:pa(t.stateNode)},Ct.findHostInstanceWithWarning=function(t){return Rc(t)},Ct.flushPassiveEffects=ni,Ct.flushSyncFromReconciler=function(t){var e=Dt;Dt|=1;var n=bt.T,i=ai();try{if(be(2),bt.T=null,t)return t()}finally{be(i),bt.T=n,Dt=e,(Dt&6)===0&&xe(0)}},Ct.flushSyncWork=hc,Ct.focusWithin=function(t,e){if(!ya)throw Error(d(363));for(t=Wr(t),e=oc(t,e),e=Array.from(e),t=0;t<e.length;){var n=e[t++],i=n.tag;if(!ma(n)){if((i===5||i===26||i===27)&&fp(n.stateNode))return!0;for(n=n.child;n!==null;)e.push(n),n=n.sibling}}return!1},Ct.getFindAllNodesFailureDescription=function(t,e){if(!ya)throw Error(d(363));var n=0,i=[];t=[Wr(t),0];for(var s=0;s<t.length;){var u=t[s++],E=u.tag,z=t[s++],K=e[z];if((E!==5&&E!==26&&E!==27||!ma(u))&&($r(u,K)&&(i.push(tl(K)),z++,z>n&&(n=z)),z<e.length))for(u=u.child;u!==null;)t.push(u,z),u=u.sibling}if(n<e.length){for(t=[];n<e.length;n++)t.push(tl(e[n]));return`findAllNodes was able to match part of the selector:
  `+(i.join(" > ")+`

No matching component was found for:
  `)+t.join(" > ")}return null},Ct.getPublicRootInstance=function(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 27:case 5:return pa(t.child.stateNode);default:return t.child.stateNode}},Ct.injectIntoDevTools=function(){var t={bundleType:0,version:Yd,rendererPackageName:Gd,currentDispatcherRef:bt,findFiberByHostInstance:qc,reconcilerVersion:"19.0.0"};if(Uc!==null&&(t.rendererConfig=Uc),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")t=!1;else{var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)t=!0;else{try{ga=e.inject(t),je=e}catch{}t=!!e.checkDCE}}return t},Ct.isAlreadyRendering=function(){return!1},Ct.observeVisibleRects=function(t,e,n,i){if(!ya)throw Error(d(363));t=el(t,e);var s=hp(t,n,i).disconnect;return{disconnect:function(){s()}}},Ct.shouldError=function(){return null},Ct.shouldSuspend=function(){return!1},Ct.startHostTransition=function(t,e,n,i){if(t.tag!==5)throw Error(d(476));var s=mu(t).queue;yu(t,s,e,Mi,n===null?l:function(){var u=mu(t).next.queue;return ra(t,u,{},Re()),n(i)})},Ct.updateContainer=function(t,e,n,i){var s=e.current,u=Re();return Nc(s,u,t,e,n,i),u},Ct.updateContainerSync=function(t,e,n,i){return e.tag===0&&ni(),Nc(e.current,2,t,e,n,i),2},Ct},r.exports.default=r.exports,Object.defineProperty(r.exports,"__esModule",{value:!0})})(Zl)),Zl.exports}var Cf;function Wy(){return Cf||(Cf=1,Xl.exports=Jy()),Xl.exports}var $y=Wy();const t0=Qh($y);var Jl={exports:{}},Wl={};var Af;function e0(){return Af||(Af=1,(function(r){function a(k,F){var Z=k.length;k.push(F);t:for(;0<Z;){var w=Z-1>>>1,W=k[w];if(0<d(W,F))k[w]=F,k[Z]=W,Z=w;else break t}}function h(k){return k.length===0?null:k[0]}function l(k){if(k.length===0)return null;var F=k[0],Z=k.pop();if(Z!==F){k[0]=Z;t:for(var w=0,W=k.length,nt=W>>>1;w<nt;){var ot=2*(w+1)-1,St=k[ot],dt=ot+1,xt=k[dt];if(0>d(St,Z))dt<W&&0>d(xt,St)?(k[w]=xt,k[dt]=Z,w=dt):(k[w]=St,k[ot]=Z,w=ot);else if(dt<W&&0>d(xt,Z))k[w]=xt,k[dt]=Z,w=dt;else break t}}return F}function d(k,F){var Z=k.sortIndex-F.sortIndex;return Z!==0?Z:k.id-F.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var C=performance;r.unstable_now=function(){return C.now()}}else{var _=Date,c=_.now();r.unstable_now=function(){return _.now()-c}}var p=[],y=[],m=1,g=null,b=3,x=!1,v=!1,O=!1,N=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function R(k){for(var F=h(y);F!==null;){if(F.callback===null)l(y);else if(F.startTime<=k)l(y),F.sortIndex=F.expirationTime,a(p,F);else break;F=h(y)}}function L(k){if(O=!1,R(k),!v)if(h(p)!==null)v=!0,G();else{var F=h(y);F!==null&&at(L,F.startTime-k)}}var X=!1,et=-1,T=5,B=-1;function Q(){return!(r.unstable_now()-B<T)}function U(){if(X){var k=r.unstable_now();B=k;var F=!0;try{t:{v=!1,O&&(O=!1,A(et),et=-1),x=!0;var Z=b;try{e:{for(R(k),g=h(p);g!==null&&!(g.expirationTime>k&&Q());){var w=g.callback;if(typeof w=="function"){g.callback=null,b=g.priorityLevel;var W=w(g.expirationTime<=k);if(k=r.unstable_now(),typeof W=="function"){g.callback=W,R(k),F=!0;break e}g===h(p)&&l(p),R(k)}else l(p);g=h(p)}if(g!==null)F=!0;else{var nt=h(y);nt!==null&&at(L,nt.startTime-k),F=!1}}break t}finally{g=null,b=Z,x=!1}F=void 0}}finally{F?tt():X=!1}}}var tt;if(typeof j=="function")tt=function(){j(U)};else if(typeof MessageChannel<"u"){var pt=new MessageChannel,D=pt.port2;pt.port1.onmessage=U,tt=function(){D.postMessage(null)}}else tt=function(){N(U,0)};function G(){X||(X=!0,tt())}function at(k,F){et=N(function(){k(r.unstable_now())},F)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(k){k.callback=null},r.unstable_continueExecution=function(){v||x||(v=!0,G())},r.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<k?Math.floor(1e3/k):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_getFirstCallbackNode=function(){return h(p)},r.unstable_next=function(k){switch(b){case 1:case 2:case 3:var F=3;break;default:F=b}var Z=b;b=F;try{return k()}finally{b=Z}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(k,F){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var Z=b;b=k;try{return F()}finally{b=Z}},r.unstable_scheduleCallback=function(k,F,Z){var w=r.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?w+Z:w):Z=w,k){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=Z+W,k={id:m++,callback:F,priorityLevel:k,startTime:Z,expirationTime:W,sortIndex:-1},Z>w?(k.sortIndex=Z,a(y,k),h(p)===null&&k===h(y)&&(O?(A(et),et=-1):O=!0,at(L,Z-w))):(k.sortIndex=W,a(p,k),v||x||(v=!0,G())),k},r.unstable_shouldYield=Q,r.unstable_wrapCallback=function(k){var F=b;return function(){var Z=b;b=F;try{return k.apply(this,arguments)}finally{b=Z}}}})(Wl)),Wl}var Tf;function n0(){return Tf||(Tf=1,Jl.exports=e0()),Jl.exports}var Mf=n0();function jo(r,a,h){if(!r)return;if(h(r)===!0)return r;let l=a?r.return:r.child;for(;l;){const d=jo(l,a,h);if(d)return d;l=a?null:l.sibling}}function Vh(r){try{return Object.defineProperties(r,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return r}}const Bo=Vh(ct.createContext(null));class Kh extends ct.Component{render(){return ct.createElement(Bo.Provider,{value:this._reactInternals},this.props.children)}}function Fh(){const r=ct.useContext(Bo);if(r===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const a=ct.useId();return ct.useMemo(()=>{for(const h of[r,r?.alternate]){if(!h)continue;const l=jo(h,!1,d=>{let C=d.memoizedState;for(;C;){if(C.memoizedState===a)return!0;C=C.next}});if(l)return l}},[r,a])}const i0=Symbol.for("react.context"),a0=r=>r!==null&&typeof r=="object"&&"$$typeof"in r&&r.$$typeof===i0;function s0(){const r=Fh(),[a]=ct.useState(()=>new Map);a.clear();let h=r;for(;h;){const l=h.type;a0(l)&&l!==Bo&&!a.has(l)&&a.set(l,ct.use(Vh(l))),h=h.return}return a}function r0(){const r=s0();return ct.useMemo(()=>Array.from(r.keys()).reduce((a,h)=>l=>ct.createElement(a,null,ct.createElement(h.Provider,{...l,value:r.get(h)})),a=>ct.createElement(Kh,{...a})),[r])}function Xh(r){let a=r.root;for(;a.getState().previousRoot;)a=a.getState().previousRoot;return a}const Zh=r=>r&&r.isOrthographicCamera,l0=r=>r&&r.hasOwnProperty("current"),o0=r=>r!=null&&(typeof r=="string"||typeof r=="number"||r.isColor),Qa=((r,a)=>typeof window<"u"&&(((r=window.document)==null?void 0:r.createElement)||((a=window.navigator)==null?void 0:a.product)==="ReactNative"))()?ct.useLayoutEffect:ct.useEffect;function Ph(r){const a=ct.useRef(r);return Qa(()=>void(a.current=r),[r]),a}function u0(){const r=Fh(),a=r0();return ct.useMemo(()=>({children:h})=>{const d=!!jo(r,!0,C=>C.type===ct.StrictMode)?ct.StrictMode:ct.Fragment;return Y.jsx(d,{children:Y.jsx(a,{children:h})})},[r,a])}function c0({set:r}){return Qa(()=>(r(new Promise(()=>null)),()=>r(!1)),[r]),null}const f0=(r=>(r=class extends ct.Component{constructor(...h){super(...h),this.state={error:!1}}componentDidCatch(h){this.props.set(h)}render(){return this.state.error?null:this.props.children}},r.getDerivedStateFromError=()=>({error:!0}),r))();function Ih(r){var a;const h=typeof window<"u"?(a=window.devicePixelRatio)!=null?a:2:1;return Array.isArray(r)?Math.min(Math.max(r[0],h),r[1]):r}function Xi(r){var a;return(a=r.__r3f)==null?void 0:a.root.getState()}const qt={obj:r=>r===Object(r)&&!qt.arr(r)&&typeof r!="function",fun:r=>typeof r=="function",str:r=>typeof r=="string",num:r=>typeof r=="number",boo:r=>typeof r=="boolean",und:r=>r===void 0,nul:r=>r===null,arr:r=>Array.isArray(r),equ(r,a,{arrays:h="shallow",objects:l="reference",strict:d=!0}={}){if(typeof r!=typeof a||!!r!=!!a)return!1;if(qt.str(r)||qt.num(r)||qt.boo(r))return r===a;const C=qt.obj(r);if(C&&l==="reference")return r===a;const _=qt.arr(r);if(_&&h==="reference")return r===a;if((_||C)&&r===a)return!0;let c;for(c in r)if(!(c in a))return!1;if(C&&h==="shallow"&&l==="shallow"){for(c in d?a:r)if(!qt.equ(r[c],a[c],{strict:d,objects:"reference"}))return!1}else for(c in d?a:r)if(r[c]!==a[c])return!1;if(qt.und(c)){if(_&&r.length===0&&a.length===0||C&&Object.keys(r).length===0&&Object.keys(a).length===0)return!0;if(r!==a)return!1}return!0}};function h0(r){r.type!=="Scene"&&(r.dispose==null||r.dispose());for(const a in r){const h=r[a];h?.type!=="Scene"&&(h==null||h.dispose==null||h.dispose())}}const Jh=["children","key","ref"];function d0(r){const a={};for(const h in r)Jh.includes(h)||(a[h]=r[h]);return a}function sr(r,a,h,l){const d=r;let C=d?.__r3f;return C||(C={root:a,type:h,parent:null,children:[],props:d0(l),object:d,eventCount:0,handlers:{},isHidden:!1},d&&(d.__r3f=C)),C}function qa(r,a){if(!a.includes("-"))return{root:r,key:a,target:r[a]};if(a in r)return{root:r,key:a,target:r[a]};let h=r;const l=a.split("-");for(const d of l){if(typeof h!="object"||h===null){if(h!==void 0){const C=l.slice(l.indexOf(d)).join("-");return{root:h,key:C,target:void 0}}return{root:r,key:a,target:void 0}}a=d,r=h,h=h[a]}return{root:r,key:a,target:h}}const Rf=/-\d+$/;function rr(r,a){if(qt.str(a.props.attach)){if(Rf.test(a.props.attach)){const d=a.props.attach.replace(Rf,""),{root:C,key:_}=qa(r.object,d);Array.isArray(C[_])||(C[_]=[])}const{root:h,key:l}=qa(r.object,a.props.attach);a.previousAttach=h[l],h[l]=a.object}else qt.fun(a.props.attach)&&(a.previousAttach=a.props.attach(r.object,a.object))}function lr(r,a){if(qt.str(a.props.attach)){const{root:h,key:l}=qa(r.object,a.props.attach),d=a.previousAttach;d===void 0?delete h[l]:h[l]=d}else a.previousAttach==null||a.previousAttach(r.object,a.object);delete a.previousAttach}const Co=[...Jh,"args","dispose","attach","object","onUpdate","dispose"],Nf=new Map;function p0(r){let a=Nf.get(r.constructor);try{a||(a=new r.constructor,Nf.set(r.constructor,a))}catch{}return a}function y0(r,a){const h={};for(const l in a)if(!Co.includes(l)&&!qt.equ(a[l],r.props[l])){h[l]=a[l];for(const d in a)d.startsWith(`${l}-`)&&(h[d]=a[d])}for(const l in r.props){if(Co.includes(l)||a.hasOwnProperty(l))continue;const{root:d,key:C}=qa(r.object,l);if(d.constructor&&d.constructor.length===0){const _=p0(d);qt.und(_)||(h[C]=_[C])}else h[C]=0}return h}const m0=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],g0=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Fn(r,a){var h;const l=r.__r3f,d=l&&Xh(l).getState(),C=l?.eventCount;for(const c in a){let p=a[c];if(Co.includes(c))continue;if(l&&g0.test(c)){typeof p=="function"?l.handlers[c]=p:delete l.handlers[c],l.eventCount=Object.keys(l.handlers).length;continue}if(p===void 0)continue;let{root:y,key:m,target:g}=qa(r,c);if(g===void 0&&(typeof y!="object"||y===null))throw Error(`R3F: Cannot set "${c}". Ensure it is an object before setting "${m}".`);if(g instanceof yf&&p instanceof yf)g.mask=p.mask;else if(g instanceof Gh&&o0(p))g.set(p);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof g.copy=="function"&&p!=null&&p.constructor&&g.constructor===p.constructor)g.copy(p);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&Array.isArray(p))typeof g.fromArray=="function"?g.fromArray(p):g.set(...p);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof p=="number")typeof g.setScalar=="function"?g.setScalar(p):g.set(p);else{var _;y[m]=p,d&&!d.linear&&m0.includes(m)&&(_=y[m])!=null&&_.isTexture&&y[m].format===jy&&y[m].type===By&&(y[m].colorSpace=Yh)}}if(l!=null&&l.parent&&d!=null&&d.internal&&(h=l.object)!=null&&h.isObject3D&&C!==l.eventCount){const c=l.object,p=d.internal.interaction.indexOf(c);p>-1&&d.internal.interaction.splice(p,1),l.eventCount&&c.raycast!==null&&d.internal.interaction.push(c)}return l&&l.props.attach===void 0&&(l.object.isBufferGeometry?l.props.attach="geometry":l.object.isMaterial&&(l.props.attach="material")),l&&ta(l),r}function ta(r){var a;if(!r.parent)return;r.props.onUpdate==null||r.props.onUpdate(r.object);const h=(a=r.root)==null||a.getState==null?void 0:a.getState();h&&h.internal.frames===0&&h.invalidate()}function v0(r,a){r.manual||(Zh(r)?(r.left=a.width/-2,r.right=a.width/2,r.top=a.height/2,r.bottom=a.height/-2):r.aspect=a.width/a.height,r.updateProjectionMatrix())}const Ee=r=>r?.isObject3D;function Ms(r){return(r.eventObject||r.object).uuid+"/"+r.index+r.instanceId}function Wh(r,a,h,l){const d=h.get(a);d&&(h.delete(a),h.size===0&&(r.delete(l),d.target.releasePointerCapture(l)))}function S0(r,a){const{internal:h}=r.getState();h.interaction=h.interaction.filter(l=>l!==a),h.initialHits=h.initialHits.filter(l=>l!==a),h.hovered.forEach((l,d)=>{(l.eventObject===a||l.object===a)&&h.hovered.delete(d)}),h.capturedMap.forEach((l,d)=>{Wh(h.capturedMap,a,l,d)})}function b0(r){function a(p){const{internal:y}=r.getState(),m=p.offsetX-y.initialClick[0],g=p.offsetY-y.initialClick[1];return Math.round(Math.sqrt(m*m+g*g))}function h(p){return p.filter(y=>["Move","Over","Enter","Out","Leave"].some(m=>{var g;return(g=y.__r3f)==null?void 0:g.handlers["onPointer"+m]}))}function l(p,y){const m=r.getState(),g=new Set,b=[],x=y?y(m.internal.interaction):m.internal.interaction;for(let A=0;A<x.length;A++){const j=Xi(x[A]);j&&(j.raycaster.camera=void 0)}m.previousRoot||m.events.compute==null||m.events.compute(p,m);function v(A){const j=Xi(A);if(!j||!j.events.enabled||j.raycaster.camera===null)return[];if(j.raycaster.camera===void 0){var R;j.events.compute==null||j.events.compute(p,j,(R=j.previousRoot)==null?void 0:R.getState()),j.raycaster.camera===void 0&&(j.raycaster.camera=null)}return j.raycaster.camera?j.raycaster.intersectObject(A,!0):[]}let O=x.flatMap(v).sort((A,j)=>{const R=Xi(A.object),L=Xi(j.object);return!R||!L?A.distance-j.distance:L.events.priority-R.events.priority||A.distance-j.distance}).filter(A=>{const j=Ms(A);return g.has(j)?!1:(g.add(j),!0)});m.events.filter&&(O=m.events.filter(O,m));for(const A of O){let j=A.object;for(;j;){var N;(N=j.__r3f)!=null&&N.eventCount&&b.push({...A,eventObject:j}),j=j.parent}}if("pointerId"in p&&m.internal.capturedMap.has(p.pointerId))for(let A of m.internal.capturedMap.get(p.pointerId).values())g.has(Ms(A.intersection))||b.push(A.intersection);return b}function d(p,y,m,g){if(p.length){const b={stopped:!1};for(const x of p){let v=Xi(x.object);if(v||x.object.traverseAncestors(O=>{const N=Xi(O);if(N)return v=N,!1}),v){const{raycaster:O,pointer:N,camera:A,internal:j}=v,R=new oe(N.x,N.y,0).unproject(A),L=Q=>{var U,tt;return(U=(tt=j.capturedMap.get(Q))==null?void 0:tt.has(x.eventObject))!=null?U:!1},X=Q=>{const U={intersection:x,target:y.target};j.capturedMap.has(Q)?j.capturedMap.get(Q).set(x.eventObject,U):j.capturedMap.set(Q,new Map([[x.eventObject,U]])),y.target.setPointerCapture(Q)},et=Q=>{const U=j.capturedMap.get(Q);U&&Wh(j.capturedMap,x.eventObject,U,Q)};let T={};for(let Q in y){let U=y[Q];typeof U!="function"&&(T[Q]=U)}let B={...x,...T,pointer:N,intersections:p,stopped:b.stopped,delta:m,unprojectedPoint:R,ray:O.ray,camera:A,stopPropagation(){const Q="pointerId"in y&&j.capturedMap.get(y.pointerId);if((!Q||Q.has(x.eventObject))&&(B.stopped=b.stopped=!0,j.hovered.size&&Array.from(j.hovered.values()).find(U=>U.eventObject===x.eventObject))){const U=p.slice(0,p.indexOf(x));C([...U,x])}},target:{hasPointerCapture:L,setPointerCapture:X,releasePointerCapture:et},currentTarget:{hasPointerCapture:L,setPointerCapture:X,releasePointerCapture:et},nativeEvent:y};if(g(B),b.stopped===!0)break}}}return p}function C(p){const{internal:y}=r.getState();for(const m of y.hovered.values())if(!p.length||!p.find(g=>g.object===m.object&&g.index===m.index&&g.instanceId===m.instanceId)){const b=m.eventObject.__r3f;if(y.hovered.delete(Ms(m)),b!=null&&b.eventCount){const x=b.handlers,v={...m,intersections:p};x.onPointerOut==null||x.onPointerOut(v),x.onPointerLeave==null||x.onPointerLeave(v)}}}function _(p,y){for(let m=0;m<y.length;m++){const g=y[m].__r3f;g==null||g.handlers.onPointerMissed==null||g.handlers.onPointerMissed(p)}}function c(p){switch(p){case"onPointerLeave":case"onPointerCancel":return()=>C([]);case"onLostPointerCapture":return y=>{const{internal:m}=r.getState();"pointerId"in y&&m.capturedMap.has(y.pointerId)&&requestAnimationFrame(()=>{m.capturedMap.has(y.pointerId)&&(m.capturedMap.delete(y.pointerId),C([]))})}}return function(m){const{onPointerMissed:g,internal:b}=r.getState();b.lastEvent.current=m;const x=p==="onPointerMove",v=p==="onClick"||p==="onContextMenu"||p==="onDoubleClick",N=l(m,x?h:void 0),A=v?a(m):0;p==="onPointerDown"&&(b.initialClick=[m.offsetX,m.offsetY],b.initialHits=N.map(R=>R.eventObject)),v&&!N.length&&A<=2&&(_(m,b.interaction),g&&g(m)),x&&C(N);function j(R){const L=R.eventObject,X=L.__r3f;if(!(X!=null&&X.eventCount))return;const et=X.handlers;if(x){if(et.onPointerOver||et.onPointerEnter||et.onPointerOut||et.onPointerLeave){const T=Ms(R),B=b.hovered.get(T);B?B.stopped&&R.stopPropagation():(b.hovered.set(T,R),et.onPointerOver==null||et.onPointerOver(R),et.onPointerEnter==null||et.onPointerEnter(R))}et.onPointerMove==null||et.onPointerMove(R)}else{const T=et[p];T?(!v||b.initialHits.includes(L))&&(_(m,b.interaction.filter(B=>!b.initialHits.includes(B))),T(R)):v&&b.initialHits.includes(L)&&_(m,b.interaction.filter(B=>!b.initialHits.includes(B)))}}d(N,m,A,j)}}return{handlePointer:c}}const Of=r=>!!(r!=null&&r.render),$h=ct.createContext(null),E0=(r,a)=>{const h=Zy((c,p)=>{const y=new oe,m=new oe,g=new oe;function b(A=p().camera,j=m,R=p().size){const{width:L,height:X,top:et,left:T}=R,B=L/X;j.isVector3?g.copy(j):g.set(...j);const Q=A.getWorldPosition(y).distanceTo(g);if(Zh(A))return{width:L/A.zoom,height:X/A.zoom,top:et,left:T,factor:1,distance:Q,aspect:B};{const U=A.fov*Math.PI/180,tt=2*Math.tan(U/2)*Q,pt=tt*(L/X);return{width:pt,height:tt,top:et,left:T,factor:L/pt,distance:Q,aspect:B}}}let x;const v=A=>c(j=>({performance:{...j.performance,current:A}})),O=new Ve;return{set:c,get:p,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(A=1)=>r(p(),A),advance:(A,j)=>a(A,j,p()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new zy,pointer:O,mouse:O,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const A=p();x&&clearTimeout(x),A.performance.current!==A.performance.min&&v(A.performance.min),x=setTimeout(()=>v(p().performance.max),A.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:b},setEvents:A=>c(j=>({...j,events:{...j.events,...A}})),setSize:(A,j,R=0,L=0)=>{const X=p().camera,et={width:A,height:j,top:R,left:L};c(T=>({size:et,viewport:{...T.viewport,...b(X,m,et)}}))},setDpr:A=>c(j=>{const R=Ih(A);return{viewport:{...j.viewport,dpr:R,initialDpr:j.viewport.initialDpr||R}}}),setFrameloop:(A="always")=>{const j=p().clock;j.stop(),j.elapsedTime=0,A!=="never"&&(j.start(),j.elapsedTime=0),c(()=>({frameloop:A}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:ct.createRef(),active:!1,frames:0,priority:0,subscribe:(A,j,R)=>{const L=p().internal;return L.priority=L.priority+(j>0?1:0),L.subscribers.push({ref:A,priority:j,store:R}),L.subscribers=L.subscribers.sort((X,et)=>X.priority-et.priority),()=>{const X=p().internal;X!=null&&X.subscribers&&(X.priority=X.priority-(j>0?1:0),X.subscribers=X.subscribers.filter(et=>et.ref!==A))}}}}}),l=h.getState();let d=l.size,C=l.viewport.dpr,_=l.camera;return h.subscribe(()=>{const{camera:c,size:p,viewport:y,gl:m,set:g}=h.getState();if(p.width!==d.width||p.height!==d.height||y.dpr!==C){d=p,C=y.dpr,v0(c,p),y.dpr>0&&m.setPixelRatio(y.dpr);const b=typeof HTMLCanvasElement<"u"&&m.domElement instanceof HTMLCanvasElement;m.setSize(p.width,p.height,b)}c!==_&&(_=c,g(b=>({viewport:{...b.viewport,...b.viewport.getCurrentViewport(c)}})))}),h.subscribe(c=>r(c)),h};function td(){const r=ct.useContext($h);if(!r)throw new Error("R3F: Hooks can only be used within the Canvas component!");return r}function Kn(r=h=>h,a){return td()(r,a)}function La(r,a=0){const h=td(),l=h.getState().internal.subscribe,d=Ph(r);return Qa(()=>l(d,a,h),[a,l,h]),null}function _0(r){const a=t0(r);return a.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:ct.version}),a}const ed=0,$i={},x0=/^three(?=[A-Z])/,ur=r=>`${r[0].toUpperCase()}${r.slice(1)}`;let C0=0;const A0=r=>typeof r=="function";function T0(r){if(A0(r)){const a=`${C0++}`;return $i[a]=r,a}else Object.assign($i,r)}function nd(r,a){const h=ur(r),l=$i[h];if(r!=="primitive"&&!l)throw new Error(`R3F: ${h} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(r==="primitive"&&!a.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(a.args!==void 0&&!Array.isArray(a.args))throw new Error("R3F: The args prop must be an array!")}function M0(r,a,h){var l;return r=ur(r)in $i?r:r.replace(x0,""),nd(r,a),r==="primitive"&&(l=a.object)!=null&&l.__r3f&&delete a.object.__r3f,sr(a.object,h,r,a)}function R0(r){if(!r.isHidden){var a;r.props.attach&&(a=r.parent)!=null&&a.object?lr(r.parent,r):Ee(r.object)&&(r.object.visible=!1),r.isHidden=!0,ta(r)}}function id(r){if(r.isHidden){var a;r.props.attach&&(a=r.parent)!=null&&a.object?rr(r.parent,r):Ee(r.object)&&r.props.visible!==!1&&(r.object.visible=!0),r.isHidden=!1,ta(r)}}function zo(r,a,h){const l=a.root.getState();if(!(!r.parent&&r.object!==l.scene)){if(!a.object){var d,C;const _=$i[ur(a.type)];a.object=(d=a.props.object)!=null?d:new _(...(C=a.props.args)!=null?C:[]),a.object.__r3f=a}if(Fn(a.object,a.props),a.props.attach)rr(r,a);else if(Ee(a.object)&&Ee(r.object)){const _=r.object.children.indexOf(h?.object);if(h&&_!==-1){const c=r.object.children.indexOf(a.object);if(c!==-1){r.object.children.splice(c,1);const p=c<_?_-1:_;r.object.children.splice(p,0,a.object)}else a.object.parent=r.object,r.object.children.splice(_,0,a.object),a.object.dispatchEvent({type:"added"}),r.object.dispatchEvent({type:"childadded",child:a.object})}else r.object.add(a.object)}for(const _ of a.children)zo(a,_);ta(a)}}function $l(r,a){a&&(a.parent=r,r.children.push(a),zo(r,a))}function jf(r,a,h){if(!a||!h)return;a.parent=r;const l=r.children.indexOf(h);l!==-1?r.children.splice(l,0,a):r.children.push(a),zo(r,a,h)}function ad(r){if(typeof r.dispose=="function"){const a=()=>{try{r.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?a():Mf.unstable_scheduleCallback(Mf.unstable_IdlePriority,a)}}function Ao(r,a,h){if(!a)return;a.parent=null;const l=r.children.indexOf(a);l!==-1&&r.children.splice(l,1),a.props.attach?lr(r,a):Ee(a.object)&&Ee(r.object)&&(r.object.remove(a.object),S0(Xh(a),a.object));const d=a.props.dispose!==null&&h!==!1;for(let C=a.children.length-1;C>=0;C--){const _=a.children[C];Ao(a,_,d)}a.children.length=0,delete a.object.__r3f,d&&a.type!=="primitive"&&a.object.type!=="Scene"&&ad(a.object),h===void 0&&ta(a)}function N0(r,a){for(const h of[r,r.alternate])if(h!==null)if(typeof h.ref=="function"){h.refCleanup==null||h.refCleanup();const l=h.ref(a);typeof l=="function"&&(h.refCleanup=l)}else h.ref&&(h.ref.current=a)}const ar=[];function O0(){for(const[h]of ar){const l=h.parent;if(l){h.props.attach?lr(l,h):Ee(h.object)&&Ee(l.object)&&l.object.remove(h.object);for(const d of h.children)d.props.attach?lr(h,d):Ee(d.object)&&Ee(h.object)&&h.object.remove(d.object)}h.isHidden&&id(h),h.object.__r3f&&delete h.object.__r3f,h.type!=="primitive"&&ad(h.object)}for(const[h,l,d]of ar){h.props=l;const C=h.parent;if(C){var r,a;const _=$i[ur(h.type)];h.object=(r=h.props.object)!=null?r:new _(...(a=h.props.args)!=null?a:[]),h.object.__r3f=h,N0(d,h.object),Fn(h.object,h.props),h.props.attach?rr(C,h):Ee(h.object)&&Ee(C.object)&&C.object.add(h.object);for(const c of h.children)c.props.attach?rr(h,c):Ee(c.object)&&Ee(h.object)&&h.object.add(c.object);ta(h)}}ar.length=0}const to=()=>{},Bf={};let Rs=ed;const j0=0,B0=4,To=_0({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:M0,removeChild:Ao,appendChild:$l,appendInitialChild:$l,insertBefore:jf,appendChildToContainer(r,a){const h=r.getState().scene.__r3f;!a||!h||$l(h,a)},removeChildFromContainer(r,a){const h=r.getState().scene.__r3f;!a||!h||Ao(h,a)},insertInContainerBefore(r,a,h){const l=r.getState().scene.__r3f;!a||!h||!l||jf(l,a,h)},getRootHostContext:()=>Bf,getChildHostContext:()=>Bf,commitUpdate(r,a,h,l,d){var C,_,c;nd(a,l);let p=!1;if((r.type==="primitive"&&h.object!==l.object||((C=l.args)==null?void 0:C.length)!==((_=h.args)==null?void 0:_.length)||(c=l.args)!=null&&c.some((m,g)=>{var b;return m!==((b=h.args)==null?void 0:b[g])}))&&(p=!0),p)ar.push([r,{...l},d]);else{const m=y0(r,l);Object.keys(m).length&&(Object.assign(r.props,m),Fn(r.object,m))}(d.sibling===null||(d.flags&B0)===j0)&&O0()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:r=>r?.object,prepareForCommit:()=>null,preparePortalMount:r=>sr(r.getState().scene,r,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:R0,unhideInstance:id,createTextInstance:to,hideTextInstance:to,unhideTextInstance:to,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:ct.createContext(null),setCurrentUpdatePriority(r){Rs=r},getCurrentUpdatePriority(){return Rs},resolveUpdatePriority(){var r;if(Rs!==ed)return Rs;switch(typeof window<"u"&&((r=window.event)==null?void 0:r.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return ir.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return ir.ContinuousEventPriority;default:return ir.DefaultEventPriority}},resetFormInstance(){}}),vi=new Map,Zi={objects:"shallow",strict:!1};function z0(r,a){if(!a&&typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement&&r.parentElement){const{width:h,height:l,top:d,left:C}=r.parentElement.getBoundingClientRect();return{width:h,height:l,top:d,left:C}}else if(!a&&typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas)return{width:r.width,height:r.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...a}}function D0(r){const a=vi.get(r),h=a?.fiber,l=a?.store;a&&console.warn("R3F.createRoot should only be called once!");const d=typeof reportError=="function"?reportError:console.error,C=l||E0(No,Df),_=h||To.createContainer(C,ir.ConcurrentRoot,null,!1,null,"",d,d,d,null);a||vi.set(r,{fiber:_,store:C});let c,p,y=!1,m=null;return{async configure(g={}){let b;m=new Promise(nt=>b=nt);let{gl:x,size:v,scene:O,events:N,onCreated:A,shadows:j=!1,linear:R=!1,flat:L=!1,legacy:X=!1,orthographic:et=!1,frameloop:T="always",dpr:B=[1,2],performance:Q,raycaster:U,camera:tt,onPointerMissed:pt}=g,D=C.getState(),G=D.gl;if(!D.gl){const nt={canvas:r,powerPreference:"high-performance",antialias:!0,alpha:!0},ot=typeof x=="function"?await x(nt):x;Of(ot)?G=ot:G=new Ey({...nt,...x}),D.set({gl:G})}let at=D.raycaster;at||D.set({raycaster:at=new _y});const{params:k,...F}=U||{};if(qt.equ(F,at,Zi)||Fn(at,{...F}),qt.equ(k,at.params,Zi)||Fn(at,{params:{...at.params,...k}}),!D.camera||D.camera===p&&!qt.equ(p,tt,Zi)){p=tt;const nt=tt?.isCamera,ot=nt?tt:et?new er(0,0,0,0,.1,1e3):new nr(75,0,.1,1e3);nt||(ot.position.z=5,tt&&(Fn(ot,tt),ot.manual||("aspect"in tt||"left"in tt||"right"in tt||"bottom"in tt||"top"in tt)&&(ot.manual=!0,ot.updateProjectionMatrix())),!D.camera&&!(tt!=null&&tt.rotation)&&ot.lookAt(0,0,0)),D.set({camera:ot}),at.camera=ot}if(!D.scene){let nt;O!=null&&O.isScene?(nt=O,sr(nt,C,"",{})):(nt=new xy,sr(nt,C,"",{}),O&&Fn(nt,O)),D.set({scene:nt})}N&&!D.events.handlers&&D.set({events:N(C)});const Z=z0(r,v);if(qt.equ(Z,D.size,Zi)||D.setSize(Z.width,Z.height,Z.top,Z.left),B&&D.viewport.dpr!==Ih(B)&&D.setDpr(B),D.frameloop!==T&&D.setFrameloop(T),D.onPointerMissed||D.set({onPointerMissed:pt}),Q&&!qt.equ(Q,D.performance,Zi)&&D.set(nt=>({performance:{...nt.performance,...Q}})),!D.xr){var w;const nt=(dt,xt)=>{const It=C.getState();It.frameloop!=="never"&&Df(dt,!0,It,xt)},ot=()=>{const dt=C.getState();dt.gl.xr.enabled=dt.gl.xr.isPresenting,dt.gl.xr.setAnimationLoop(dt.gl.xr.isPresenting?nt:null),dt.gl.xr.isPresenting||No(dt)},St={connect(){const dt=C.getState().gl;dt.xr.addEventListener("sessionstart",ot),dt.xr.addEventListener("sessionend",ot)},disconnect(){const dt=C.getState().gl;dt.xr.removeEventListener("sessionstart",ot),dt.xr.removeEventListener("sessionend",ot)}};typeof((w=G.xr)==null?void 0:w.addEventListener)=="function"&&St.connect(),D.set({xr:St})}if(G.shadowMap){const nt=G.shadowMap.enabled,ot=G.shadowMap.type;if(G.shadowMap.enabled=!!j,qt.boo(j))G.shadowMap.type=Kl;else if(qt.str(j)){var W;const St={basic:Ty,percentage:Ay,soft:Kl,variance:Cy};G.shadowMap.type=(W=St[j])!=null?W:Kl}else qt.obj(j)&&Object.assign(G.shadowMap,j);(nt!==G.shadowMap.enabled||ot!==G.shadowMap.type)&&(G.shadowMap.needsUpdate=!0)}return My.enabled=!X,y||(G.outputColorSpace=R?Ry:Yh,G.toneMapping=L?Ny:Oy),D.legacy!==X&&D.set(()=>({legacy:X})),D.linear!==R&&D.set(()=>({linear:R})),D.flat!==L&&D.set(()=>({flat:L})),x&&!qt.fun(x)&&!Of(x)&&!qt.equ(x,G,Zi)&&Fn(G,x),c=A,y=!0,b(),this},render(g){return!y&&!m&&this.configure(),m.then(()=>{To.updateContainer(Y.jsx(w0,{store:C,children:g,onCreated:c,rootElement:r}),_,null,()=>{})}),C},unmount(){sd(r)}}}function w0({store:r,children:a,onCreated:h,rootElement:l}){return Qa(()=>{const d=r.getState();d.set(C=>({internal:{...C.internal,active:!0}})),h&&h(d),r.getState().events.connected||d.events.connect==null||d.events.connect(l)},[]),Y.jsx($h.Provider,{value:r,children:a})}function sd(r,a){const h=vi.get(r),l=h?.fiber;if(l){const d=h?.store.getState();d&&(d.internal.active=!1),To.updateContainer(null,l,null,()=>{d&&setTimeout(()=>{try{var C,_,c,p;d.events.disconnect==null||d.events.disconnect(),(C=d.gl)==null||(_=C.renderLists)==null||_.dispose==null||_.dispose(),(c=d.gl)==null||c.forceContextLoss==null||c.forceContextLoss(),(p=d.gl)!=null&&p.xr&&d.xr.disconnect(),h0(d.scene),vi.delete(r)}catch{}},500)})}}const U0=new Set,k0=new Set,H0=new Set;function eo(r,a){if(r.size)for(const{callback:h}of r.values())h(a)}function Ha(r,a){switch(r){case"before":return eo(U0,a);case"after":return eo(k0,a);case"tail":return eo(H0,a)}}let no,io;function Mo(r,a,h){let l=a.clock.getDelta();a.frameloop==="never"&&typeof r=="number"&&(l=r-a.clock.elapsedTime,a.clock.oldTime=a.clock.elapsedTime,a.clock.elapsedTime=r),no=a.internal.subscribers;for(let d=0;d<no.length;d++)io=no[d],io.ref.current(io.store.getState(),l,h);return!a.internal.priority&&a.gl.render&&a.gl.render(a.scene,a.camera),a.internal.frames=Math.max(0,a.internal.frames-1),a.frameloop==="always"?1:a.internal.frames}let or=!1,Ro=!1,ao,zf,Pi;function rd(r){zf=requestAnimationFrame(rd),or=!0,ao=0,Ha("before",r),Ro=!0;for(const h of vi.values()){var a;Pi=h.store.getState(),Pi.internal.active&&(Pi.frameloop==="always"||Pi.internal.frames>0)&&!((a=Pi.gl.xr)!=null&&a.isPresenting)&&(ao+=Mo(r,Pi))}if(Ro=!1,Ha("after",r),ao===0)return Ha("tail",r),or=!1,cancelAnimationFrame(zf)}function No(r,a=1){var h;if(!r)return vi.forEach(l=>No(l.store.getState(),a));(h=r.gl.xr)!=null&&h.isPresenting||!r.internal.active||r.frameloop==="never"||(a>1?r.internal.frames=Math.min(60,r.internal.frames+a):Ro?r.internal.frames=2:r.internal.frames=1,or||(or=!0,requestAnimationFrame(rd)))}function Df(r,a=!0,h,l){if(a&&Ha("before",r),h)Mo(r,h,l);else for(const d of vi.values())Mo(r,d.store.getState());a&&Ha("after",r)}const so={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function q0(r){const{handlePointer:a}=b0(r);return{priority:1,enabled:!0,compute(h,l,d){l.pointer.set(h.offsetX/l.size.width*2-1,-(h.offsetY/l.size.height)*2+1),l.raycaster.setFromCamera(l.pointer,l.camera)},connected:void 0,handlers:Object.keys(so).reduce((h,l)=>({...h,[l]:a(l)}),{}),update:()=>{var h;const{events:l,internal:d}=r.getState();(h=d.lastEvent)!=null&&h.current&&l.handlers&&l.handlers.onPointerMove(d.lastEvent.current)},connect:h=>{const{set:l,events:d}=r.getState();if(d.disconnect==null||d.disconnect(),l(C=>({events:{...C.events,connected:h}})),d.handlers)for(const C in d.handlers){const _=d.handlers[C],[c,p]=so[C];h.addEventListener(c,_,{passive:p})}},disconnect:()=>{const{set:h,events:l}=r.getState();if(l.connected){if(l.handlers)for(const d in l.handlers){const C=l.handlers[d],[_]=so[d];l.connected.removeEventListener(_,C)}h(d=>({events:{...d.events,connected:void 0}}))}}}}function wf(r,a){let h;return(...l)=>{window.clearTimeout(h),h=window.setTimeout(()=>r(...l),a)}}function Q0({debounce:r,scroll:a,polyfill:h,offsetSize:l}={debounce:0,scroll:!1,offsetSize:!1}){const d=h||(typeof window>"u"?class{}:window.ResizeObserver);if(!d)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[C,_]=ct.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),c=ct.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:C,orientationHandler:null}),p=r?typeof r=="number"?r:r.scroll:null,y=r?typeof r=="number"?r:r.resize:null,m=ct.useRef(!1);ct.useEffect(()=>(m.current=!0,()=>void(m.current=!1)));const[g,b,x]=ct.useMemo(()=>{const A=()=>{if(!c.current.element)return;const{left:j,top:R,width:L,height:X,bottom:et,right:T,x:B,y:Q}=c.current.element.getBoundingClientRect(),U={left:j,top:R,width:L,height:X,bottom:et,right:T,x:B,y:Q};c.current.element instanceof HTMLElement&&l&&(U.height=c.current.element.offsetHeight,U.width=c.current.element.offsetWidth),Object.freeze(U),m.current&&!V0(c.current.lastBounds,U)&&_(c.current.lastBounds=U)};return[A,y?wf(A,y):A,p?wf(A,p):A]},[_,l,p,y]);function v(){c.current.scrollContainers&&(c.current.scrollContainers.forEach(A=>A.removeEventListener("scroll",x,!0)),c.current.scrollContainers=null),c.current.resizeObserver&&(c.current.resizeObserver.disconnect(),c.current.resizeObserver=null),c.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",c.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",c.current.orientationHandler))}function O(){c.current.element&&(c.current.resizeObserver=new d(x),c.current.resizeObserver.observe(c.current.element),a&&c.current.scrollContainers&&c.current.scrollContainers.forEach(A=>A.addEventListener("scroll",x,{capture:!0,passive:!0})),c.current.orientationHandler=()=>{x()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",c.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",c.current.orientationHandler))}const N=A=>{!A||A===c.current.element||(v(),c.current.element=A,c.current.scrollContainers=ld(A),O())};return Y0(x,!!a),L0(b),ct.useEffect(()=>{v(),O()},[a,x,b]),ct.useEffect(()=>v,[]),[N,C,g]}function L0(r){ct.useEffect(()=>{const a=r;return window.addEventListener("resize",a),()=>void window.removeEventListener("resize",a)},[r])}function Y0(r,a){ct.useEffect(()=>{if(a){const h=r;return window.addEventListener("scroll",h,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",h,!0)}},[r,a])}function ld(r){const a=[];if(!r||r===document.body)return a;const{overflow:h,overflowX:l,overflowY:d}=window.getComputedStyle(r);return[h,l,d].some(C=>C==="auto"||C==="scroll")&&a.push(r),[...a,...ld(r.parentElement)]}const G0=["x","y","top","bottom","left","right","width","height"],V0=(r,a)=>G0.every(h=>r[h]===a[h]);function K0({ref:r,children:a,fallback:h,resize:l,style:d,gl:C,events:_=q0,eventSource:c,eventPrefix:p,shadows:y,linear:m,flat:g,legacy:b,orthographic:x,frameloop:v,dpr:O,performance:N,raycaster:A,camera:j,scene:R,onPointerMissed:L,onCreated:X,...et}){ct.useMemo(()=>T0(Dy),[]);const T=u0(),[B,Q]=Q0({scroll:!0,debounce:{scroll:50,resize:0},...l}),U=ct.useRef(null),tt=ct.useRef(null);ct.useImperativeHandle(r,()=>U.current);const pt=Ph(L),[D,G]=ct.useState(!1),[at,k]=ct.useState(!1);if(D)throw D;if(at)throw at;const F=ct.useRef(null);Qa(()=>{const w=U.current;if(Q.width>0&&Q.height>0&&w){F.current||(F.current=D0(w));async function W(){await F.current.configure({gl:C,scene:R,events:_,shadows:y,linear:m,flat:g,legacy:b,orthographic:x,frameloop:v,dpr:O,performance:N,raycaster:A,camera:j,size:Q,onPointerMissed:(...nt)=>pt.current==null?void 0:pt.current(...nt),onCreated:nt=>{nt.events.connect==null||nt.events.connect(c?l0(c)?c.current:c:tt.current),p&&nt.setEvents({compute:(ot,St)=>{const dt=ot[p+"X"],xt=ot[p+"Y"];St.pointer.set(dt/St.size.width*2-1,-(xt/St.size.height)*2+1),St.raycaster.setFromCamera(St.pointer,St.camera)}}),X?.(nt)}}),F.current.render(Y.jsx(T,{children:Y.jsx(f0,{set:k,children:Y.jsx(ct.Suspense,{fallback:Y.jsx(c0,{set:G}),children:a??null})})}))}W()}}),ct.useEffect(()=>{const w=U.current;if(w)return()=>sd(w)},[]);const Z=c?"none":"auto";return Y.jsx("div",{ref:tt,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Z,...d},...et,children:Y.jsx("div",{ref:B,style:{width:"100%",height:"100%"},children:Y.jsx("canvas",{ref:U,style:{display:"block"},children:h})})})}function F0(r){return Y.jsx(Kh,{children:Y.jsx(K0,{...r})})}var X0=Object.defineProperty,Z0=(r,a,h)=>a in r?X0(r,a,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[a]=h,P0=(r,a,h)=>(Z0(r,a+"",h),h);class I0{constructor(){P0(this,"_listeners")}addEventListener(a,h){this._listeners===void 0&&(this._listeners={});const l=this._listeners;l[a]===void 0&&(l[a]=[]),l[a].indexOf(h)===-1&&l[a].push(h)}hasEventListener(a,h){if(this._listeners===void 0)return!1;const l=this._listeners;return l[a]!==void 0&&l[a].indexOf(h)!==-1}removeEventListener(a,h){if(this._listeners===void 0)return;const d=this._listeners[a];if(d!==void 0){const C=d.indexOf(h);C!==-1&&d.splice(C,1)}}dispatchEvent(a){if(this._listeners===void 0)return;const l=this._listeners[a.type];if(l!==void 0){a.target=this;const d=l.slice(0);for(let C=0,_=d.length;C<_;C++)d[C].call(this,a);a.target=null}}}var J0=Object.defineProperty,W0=(r,a,h)=>a in r?J0(r,a,{enumerable:!0,configurable:!0,writable:!0,value:h}):r[a]=h,mt=(r,a,h)=>(W0(r,typeof a!="symbol"?a+"":a,h),h);const Ns=new wy,Uf=new Uy,$0=Math.cos(70*(Math.PI/180)),kf=(r,a)=>(r%a+a)%a;let tm=class extends I0{constructor(a,h){super(),mt(this,"object"),mt(this,"domElement"),mt(this,"enabled",!0),mt(this,"target",new oe),mt(this,"minDistance",0),mt(this,"maxDistance",1/0),mt(this,"minZoom",0),mt(this,"maxZoom",1/0),mt(this,"minPolarAngle",0),mt(this,"maxPolarAngle",Math.PI),mt(this,"minAzimuthAngle",-1/0),mt(this,"maxAzimuthAngle",1/0),mt(this,"enableDamping",!1),mt(this,"dampingFactor",.05),mt(this,"enableZoom",!0),mt(this,"zoomSpeed",1),mt(this,"enableRotate",!0),mt(this,"rotateSpeed",1),mt(this,"enablePan",!0),mt(this,"panSpeed",1),mt(this,"screenSpacePanning",!0),mt(this,"keyPanSpeed",7),mt(this,"zoomToCursor",!1),mt(this,"autoRotate",!1),mt(this,"autoRotateSpeed",2),mt(this,"reverseOrbit",!1),mt(this,"reverseHorizontalOrbit",!1),mt(this,"reverseVerticalOrbit",!1),mt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),mt(this,"mouseButtons",{LEFT:Ki.ROTATE,MIDDLE:Ki.DOLLY,RIGHT:Ki.PAN}),mt(this,"touches",{ONE:Fi.ROTATE,TWO:Fi.DOLLY_PAN}),mt(this,"target0"),mt(this,"position0"),mt(this,"zoom0"),mt(this,"_domElementKeyEvents",null),mt(this,"getPolarAngle"),mt(this,"getAzimuthalAngle"),mt(this,"setPolarAngle"),mt(this,"setAzimuthalAngle"),mt(this,"getDistance"),mt(this,"getZoomScale"),mt(this,"listenToKeyEvents"),mt(this,"stopListenToKeyEvents"),mt(this,"saveState"),mt(this,"reset"),mt(this,"update"),mt(this,"connect"),mt(this,"dispose"),mt(this,"dollyIn"),mt(this,"dollyOut"),mt(this,"getScale"),mt(this,"setScale"),this.object=a,this.domElement=h,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>m.phi,this.getAzimuthalAngle=()=>m.theta,this.setPolarAngle=H=>{let st=kf(H,2*Math.PI),ut=m.phi;ut<0&&(ut+=2*Math.PI),st<0&&(st+=2*Math.PI);let Tt=Math.abs(st-ut);2*Math.PI-Tt<Tt&&(st<ut?st+=2*Math.PI:ut+=2*Math.PI),g.phi=st-ut,l.update()},this.setAzimuthalAngle=H=>{let st=kf(H,2*Math.PI),ut=m.theta;ut<0&&(ut+=2*Math.PI),st<0&&(st+=2*Math.PI);let Tt=Math.abs(st-ut);2*Math.PI-Tt<Tt&&(st<ut?st+=2*Math.PI:ut+=2*Math.PI),g.theta=st-ut,l.update()},this.getDistance=()=>l.object.position.distanceTo(l.target),this.listenToKeyEvents=H=>{H.addEventListener("keydown",o),this._domElementKeyEvents=H},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",o),this._domElementKeyEvents=null},this.saveState=()=>{l.target0.copy(l.target),l.position0.copy(l.object.position),l.zoom0=l.object.zoom},this.reset=()=>{l.target.copy(l.target0),l.object.position.copy(l.position0),l.object.zoom=l.zoom0,l.object.updateProjectionMatrix(),l.dispatchEvent(d),l.update(),p=c.NONE},this.update=(()=>{const H=new oe,st=new oe(0,1,0),ut=new mf().setFromUnitVectors(a.up,st),Tt=ut.clone().invert(),Gt=new oe,me=new mf,Fe=2*Math.PI;return function(){const aa=l.object.position;ut.setFromUnitVectors(a.up,st),Tt.copy(ut).invert(),H.copy(aa).sub(l.target),H.applyQuaternion(ut),m.setFromVector3(H),l.autoRotate&&p===c.NONE&&G(pt()),l.enableDamping?(m.theta+=g.theta*l.dampingFactor,m.phi+=g.phi*l.dampingFactor):(m.theta+=g.theta,m.phi+=g.phi);let we=l.minAzimuthAngle,ge=l.maxAzimuthAngle;isFinite(we)&&isFinite(ge)&&(we<-Math.PI?we+=Fe:we>Math.PI&&(we-=Fe),ge<-Math.PI?ge+=Fe:ge>Math.PI&&(ge-=Fe),we<=ge?m.theta=Math.max(we,Math.min(ge,m.theta)):m.theta=m.theta>(we+ge)/2?Math.max(we,m.theta):Math.min(ge,m.theta)),m.phi=Math.max(l.minPolarAngle,Math.min(l.maxPolarAngle,m.phi)),m.makeSafe(),l.enableDamping===!0?l.target.addScaledVector(x,l.dampingFactor):l.target.add(x),l.zoomToCursor&&Q||l.object.isOrthographicCamera?m.radius=St(m.radius):m.radius=St(m.radius*b),H.setFromSpherical(m),H.applyQuaternion(Tt),aa.copy(l.target).add(H),l.object.matrixAutoUpdate||l.object.updateMatrix(),l.object.lookAt(l.target),l.enableDamping===!0?(g.theta*=1-l.dampingFactor,g.phi*=1-l.dampingFactor,x.multiplyScalar(1-l.dampingFactor)):(g.set(0,0,0),x.set(0,0,0));let Xe=!1;if(l.zoomToCursor&&Q){let tn=null;if(l.object instanceof nr&&l.object.isPerspectiveCamera){const Mn=H.length();tn=St(Mn*b);const Jn=Mn-tn;l.object.position.addScaledVector(T,Jn),l.object.updateMatrixWorld()}else if(l.object.isOrthographicCamera){const Mn=new oe(B.x,B.y,0);Mn.unproject(l.object),l.object.zoom=Math.max(l.minZoom,Math.min(l.maxZoom,l.object.zoom/b)),l.object.updateProjectionMatrix(),Xe=!0;const Jn=new oe(B.x,B.y,0);Jn.unproject(l.object),l.object.position.sub(Jn).add(Mn),l.object.updateMatrixWorld(),tn=H.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),l.zoomToCursor=!1;tn!==null&&(l.screenSpacePanning?l.target.set(0,0,-1).transformDirection(l.object.matrix).multiplyScalar(tn).add(l.object.position):(Ns.origin.copy(l.object.position),Ns.direction.set(0,0,-1).transformDirection(l.object.matrix),Math.abs(l.object.up.dot(Ns.direction))<$0?a.lookAt(l.target):(Uf.setFromNormalAndCoplanarPoint(l.object.up,l.target),Ns.intersectPlane(Uf,l.target))))}else l.object instanceof er&&l.object.isOrthographicCamera&&(Xe=b!==1,Xe&&(l.object.zoom=Math.max(l.minZoom,Math.min(l.maxZoom,l.object.zoom/b)),l.object.updateProjectionMatrix()));return b=1,Q=!1,Xe||Gt.distanceToSquared(l.object.position)>y||8*(1-me.dot(l.object.quaternion))>y?(l.dispatchEvent(d),Gt.copy(l.object.position),me.copy(l.object.quaternion),Xe=!1,!0):!1}})(),this.connect=H=>{l.domElement=H,l.domElement.style.touchAction="none",l.domElement.addEventListener("contextmenu",q),l.domElement.addEventListener("pointerdown",de),l.domElement.addEventListener("pointercancel",$e),l.domElement.addEventListener("wheel",S)},this.dispose=()=>{var H,st,ut,Tt,Gt,me;l.domElement&&(l.domElement.style.touchAction="auto"),(H=l.domElement)==null||H.removeEventListener("contextmenu",q),(st=l.domElement)==null||st.removeEventListener("pointerdown",de),(ut=l.domElement)==null||ut.removeEventListener("pointercancel",$e),(Tt=l.domElement)==null||Tt.removeEventListener("wheel",S),(Gt=l.domElement)==null||Gt.ownerDocument.removeEventListener("pointermove",We),(me=l.domElement)==null||me.ownerDocument.removeEventListener("pointerup",$e),l._domElementKeyEvents!==null&&l._domElementKeyEvents.removeEventListener("keydown",o)};const l=this,d={type:"change"},C={type:"start"},_={type:"end"},c={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let p=c.NONE;const y=1e-6,m=new xo,g=new xo;let b=1;const x=new oe,v=new Ve,O=new Ve,N=new Ve,A=new Ve,j=new Ve,R=new Ve,L=new Ve,X=new Ve,et=new Ve,T=new oe,B=new Ve;let Q=!1;const U=[],tt={};function pt(){return 2*Math.PI/60/60*l.autoRotateSpeed}function D(){return Math.pow(.95,l.zoomSpeed)}function G(H){l.reverseOrbit||l.reverseHorizontalOrbit?g.theta+=H:g.theta-=H}function at(H){l.reverseOrbit||l.reverseVerticalOrbit?g.phi+=H:g.phi-=H}const k=(()=>{const H=new oe;return function(ut,Tt){H.setFromMatrixColumn(Tt,0),H.multiplyScalar(-ut),x.add(H)}})(),F=(()=>{const H=new oe;return function(ut,Tt){l.screenSpacePanning===!0?H.setFromMatrixColumn(Tt,1):(H.setFromMatrixColumn(Tt,0),H.crossVectors(l.object.up,H)),H.multiplyScalar(ut),x.add(H)}})(),Z=(()=>{const H=new oe;return function(ut,Tt){const Gt=l.domElement;if(Gt&&l.object instanceof nr&&l.object.isPerspectiveCamera){const me=l.object.position;H.copy(me).sub(l.target);let Fe=H.length();Fe*=Math.tan(l.object.fov/2*Math.PI/180),k(2*ut*Fe/Gt.clientHeight,l.object.matrix),F(2*Tt*Fe/Gt.clientHeight,l.object.matrix)}else Gt&&l.object instanceof er&&l.object.isOrthographicCamera?(k(ut*(l.object.right-l.object.left)/l.object.zoom/Gt.clientWidth,l.object.matrix),F(Tt*(l.object.top-l.object.bottom)/l.object.zoom/Gt.clientHeight,l.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),l.enablePan=!1)}})();function w(H){l.object instanceof nr&&l.object.isPerspectiveCamera||l.object instanceof er&&l.object.isOrthographicCamera?b=H:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),l.enableZoom=!1)}function W(H){w(b/H)}function nt(H){w(b*H)}function ot(H){if(!l.zoomToCursor||!l.domElement)return;Q=!0;const st=l.domElement.getBoundingClientRect(),ut=H.clientX-st.left,Tt=H.clientY-st.top,Gt=st.width,me=st.height;B.x=ut/Gt*2-1,B.y=-(Tt/me)*2+1,T.set(B.x,B.y,1).unproject(l.object).sub(l.object.position).normalize()}function St(H){return Math.max(l.minDistance,Math.min(l.maxDistance,H))}function dt(H){v.set(H.clientX,H.clientY)}function xt(H){ot(H),L.set(H.clientX,H.clientY)}function It(H){A.set(H.clientX,H.clientY)}function ln(H){O.set(H.clientX,H.clientY),N.subVectors(O,v).multiplyScalar(l.rotateSpeed);const st=l.domElement;st&&(G(2*Math.PI*N.x/st.clientHeight),at(2*Math.PI*N.y/st.clientHeight)),v.copy(O),l.update()}function ie(H){X.set(H.clientX,H.clientY),et.subVectors(X,L),et.y>0?W(D()):et.y<0&&nt(D()),L.copy(X),l.update()}function An(H){j.set(H.clientX,H.clientY),R.subVectors(j,A).multiplyScalar(l.panSpeed),Z(R.x,R.y),A.copy(j),l.update()}function Zn(H){ot(H),H.deltaY<0?nt(D()):H.deltaY>0&&W(D()),l.update()}function on(H){let st=!1;switch(H.code){case l.keys.UP:Z(0,l.keyPanSpeed),st=!0;break;case l.keys.BOTTOM:Z(0,-l.keyPanSpeed),st=!0;break;case l.keys.LEFT:Z(l.keyPanSpeed,0),st=!0;break;case l.keys.RIGHT:Z(-l.keyPanSpeed,0),st=!0;break}st&&(H.preventDefault(),l.update())}function Ke(){if(U.length==1)v.set(U[0].pageX,U[0].pageY);else{const H=.5*(U[0].pageX+U[1].pageX),st=.5*(U[0].pageY+U[1].pageY);v.set(H,st)}}function ce(){if(U.length==1)A.set(U[0].pageX,U[0].pageY);else{const H=.5*(U[0].pageX+U[1].pageX),st=.5*(U[0].pageY+U[1].pageY);A.set(H,st)}}function _e(){const H=U[0].pageX-U[1].pageX,st=U[0].pageY-U[1].pageY,ut=Math.sqrt(H*H+st*st);L.set(0,ut)}function Tn(){l.enableZoom&&_e(),l.enablePan&&ce()}function Pn(){l.enableZoom&&_e(),l.enableRotate&&Ke()}function fe(H){if(U.length==1)O.set(H.pageX,H.pageY);else{const ut=Rt(H),Tt=.5*(H.pageX+ut.x),Gt=.5*(H.pageY+ut.y);O.set(Tt,Gt)}N.subVectors(O,v).multiplyScalar(l.rotateSpeed);const st=l.domElement;st&&(G(2*Math.PI*N.x/st.clientHeight),at(2*Math.PI*N.y/st.clientHeight)),v.copy(O)}function In(H){if(U.length==1)j.set(H.pageX,H.pageY);else{const st=Rt(H),ut=.5*(H.pageX+st.x),Tt=.5*(H.pageY+st.y);j.set(ut,Tt)}R.subVectors(j,A).multiplyScalar(l.panSpeed),Z(R.x,R.y),A.copy(j)}function un(H){const st=Rt(H),ut=H.pageX-st.x,Tt=H.pageY-st.y,Gt=Math.sqrt(ut*ut+Tt*Tt);X.set(0,Gt),et.set(0,Math.pow(X.y/L.y,l.zoomSpeed)),W(et.y),L.copy(X)}function he(H){l.enableZoom&&un(H),l.enablePan&&In(H)}function xe(H){l.enableZoom&&un(H),l.enableRotate&&fe(H)}function de(H){var st,ut;l.enabled!==!1&&(U.length===0&&((st=l.domElement)==null||st.ownerDocument.addEventListener("pointermove",We),(ut=l.domElement)==null||ut.ownerDocument.addEventListener("pointerup",$e)),I(H),H.pointerType==="touch"?f(H):Ce(H))}function We(H){l.enabled!==!1&&(H.pointerType==="touch"?M(H):na(H))}function $e(H){var st,ut,Tt;$(H),U.length===0&&((st=l.domElement)==null||st.releasePointerCapture(H.pointerId),(ut=l.domElement)==null||ut.ownerDocument.removeEventListener("pointermove",We),(Tt=l.domElement)==null||Tt.ownerDocument.removeEventListener("pointerup",$e)),l.dispatchEvent(_),p=c.NONE}function Ce(H){let st;switch(H.button){case 0:st=l.mouseButtons.LEFT;break;case 1:st=l.mouseButtons.MIDDLE;break;case 2:st=l.mouseButtons.RIGHT;break;default:st=-1}switch(st){case Ki.DOLLY:if(l.enableZoom===!1)return;xt(H),p=c.DOLLY;break;case Ki.ROTATE:if(H.ctrlKey||H.metaKey||H.shiftKey){if(l.enablePan===!1)return;It(H),p=c.PAN}else{if(l.enableRotate===!1)return;dt(H),p=c.ROTATE}break;case Ki.PAN:if(H.ctrlKey||H.metaKey||H.shiftKey){if(l.enableRotate===!1)return;dt(H),p=c.ROTATE}else{if(l.enablePan===!1)return;It(H),p=c.PAN}break;default:p=c.NONE}p!==c.NONE&&l.dispatchEvent(C)}function na(H){if(l.enabled!==!1)switch(p){case c.ROTATE:if(l.enableRotate===!1)return;ln(H);break;case c.DOLLY:if(l.enableZoom===!1)return;ie(H);break;case c.PAN:if(l.enablePan===!1)return;An(H);break}}function S(H){l.enabled===!1||l.enableZoom===!1||p!==c.NONE&&p!==c.ROTATE||(H.preventDefault(),l.dispatchEvent(C),Zn(H),l.dispatchEvent(_))}function o(H){l.enabled===!1||l.enablePan===!1||on(H)}function f(H){switch(gt(H),U.length){case 1:switch(l.touches.ONE){case Fi.ROTATE:if(l.enableRotate===!1)return;Ke(),p=c.TOUCH_ROTATE;break;case Fi.PAN:if(l.enablePan===!1)return;ce(),p=c.TOUCH_PAN;break;default:p=c.NONE}break;case 2:switch(l.touches.TWO){case Fi.DOLLY_PAN:if(l.enableZoom===!1&&l.enablePan===!1)return;Tn(),p=c.TOUCH_DOLLY_PAN;break;case Fi.DOLLY_ROTATE:if(l.enableZoom===!1&&l.enableRotate===!1)return;Pn(),p=c.TOUCH_DOLLY_ROTATE;break;default:p=c.NONE}break;default:p=c.NONE}p!==c.NONE&&l.dispatchEvent(C)}function M(H){switch(gt(H),p){case c.TOUCH_ROTATE:if(l.enableRotate===!1)return;fe(H),l.update();break;case c.TOUCH_PAN:if(l.enablePan===!1)return;In(H),l.update();break;case c.TOUCH_DOLLY_PAN:if(l.enableZoom===!1&&l.enablePan===!1)return;he(H),l.update();break;case c.TOUCH_DOLLY_ROTATE:if(l.enableZoom===!1&&l.enableRotate===!1)return;xe(H),l.update();break;default:p=c.NONE}}function q(H){l.enabled!==!1&&H.preventDefault()}function I(H){U.push(H)}function $(H){delete tt[H.pointerId];for(let st=0;st<U.length;st++)if(U[st].pointerId==H.pointerId){U.splice(st,1);return}}function gt(H){let st=tt[H.pointerId];st===void 0&&(st=new Ve,tt[H.pointerId]=st),st.set(H.pageX,H.pageY)}function Rt(H){const st=H.pointerId===U[0].pointerId?U[1]:U[0];return tt[st.pointerId]}this.dollyIn=(H=D())=>{nt(H),l.update()},this.dollyOut=(H=D())=>{W(H),l.update()},this.getScale=()=>b,this.setScale=H=>{w(H),l.update()},this.getZoomScale=()=>D(),h!==void 0&&this.connect(h),this.update()}};const em=()=>parseInt(ky.replace(/\D+/g,"")),nm=em(),im=ct.forwardRef(({makeDefault:r,camera:a,regress:h,domElement:l,enableDamping:d=!0,keyEvents:C=!1,onChange:_,onStart:c,onEnd:p,...y},m)=>{const g=Kn(et=>et.invalidate),b=Kn(et=>et.camera),x=Kn(et=>et.gl),v=Kn(et=>et.events),O=Kn(et=>et.setEvents),N=Kn(et=>et.set),A=Kn(et=>et.get),j=Kn(et=>et.performance),R=a||b,L=l||v.connected||x.domElement,X=ct.useMemo(()=>new tm(R),[R]);return La(()=>{X.enabled&&X.update()},-1),ct.useEffect(()=>(C&&X.connect(C===!0?L:C),X.connect(L),()=>void X.dispose()),[C,L,h,X,g]),ct.useEffect(()=>{const et=Q=>{g(),h&&j.regress(),_&&_(Q)},T=Q=>{c&&c(Q)},B=Q=>{p&&p(Q)};return X.addEventListener("change",et),X.addEventListener("start",T),X.addEventListener("end",B),()=>{X.removeEventListener("start",T),X.removeEventListener("end",B),X.removeEventListener("change",et)}},[_,c,p,X,g,O]),ct.useEffect(()=>{if(r){const et=A().controls;return N({controls:X}),()=>N({controls:et})}},[r,X]),ct.createElement("primitive",Oo({ref:m,object:X,enableDamping:d},y))});var am=`#define GLSLIFY 1
vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+C.xxx;vec3 x2=x0-i2+C.yyy;vec3 x3=x0-D.yyy;i=mod289(i);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=0.142857142857;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}`;class sm extends Hy{constructor(a={}){super(a),this.setValues(a),this._time={value:0},this._distort={value:.4},this._radius={value:1}}onBeforeCompile(a){a.uniforms.time=this._time,a.uniforms.radius=this._radius,a.uniforms.distort=this._distort,a.vertexShader=`
      uniform float time;
      uniform float radius;
      uniform float distort;
      ${am}
      ${a.vertexShader}
    `,a.vertexShader=a.vertexShader.replace("#include <begin_vertex>",`
        float updateTime = time / 50.0;
        float noise = snoise(vec3(position / 2.0 + updateTime * 5.0));
        vec3 transformed = vec3(position * (noise * pow(distort, 2.0) + radius));
        `)}get time(){return this._time.value}set time(a){this._time.value=a}get distort(){return this._distort.value}set distort(a){this._distort.value=a}get radius(){return this._radius.value}set radius(a){this._radius.value=a}}const rm=ct.forwardRef(({speed:r=1,...a},h)=>{const[l]=ct.useState(()=>new sm);return La(d=>l&&(l.time=d.clock.elapsedTime*r)),ct.createElement("primitive",Oo({object:l,ref:h,attach:"material"},a))});function lm(r,a){const h=r+"Geometry";return ct.forwardRef(({args:l,children:d,...C},_)=>{const c=ct.useRef(null);return ct.useImperativeHandle(_,()=>c.current),ct.useLayoutEffect(()=>void a?.(c.current)),ct.createElement("mesh",Oo({ref:c},C),ct.createElement(h,{attach:"geometry",args:l}),d)})}const od=lm("sphere");class om extends Qy{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <${nm>=154?"colorspace_fragment":"encodings_fragment"}>
      }`})}}const um=r=>new oe().setFromSpherical(new xo(r,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),cm=ct.forwardRef(({radius:r=100,depth:a=50,count:h=5e3,saturation:l=0,factor:d=4,fade:C=!1,speed:_=1},c)=>{const p=ct.useRef(null),[y,m,g]=ct.useMemo(()=>{const x=[],v=[],O=Array.from({length:h},()=>(.5+.5*Math.random())*d),N=new Gh;let A=r+a;const j=a/h;for(let R=0;R<h;R++)A-=j*Math.random(),x.push(...um(A).toArray()),N.setHSL(R/h,l,.9),v.push(N.r,N.g,N.b);return[new Float32Array(x),new Float32Array(v),new Float32Array(O)]},[h,a,d,r,l]);La(x=>p.current&&(p.current.uniforms.time.value=x.clock.elapsedTime*_));const[b]=ct.useState(()=>new om);return ct.createElement("points",{ref:c},ct.createElement("bufferGeometry",null,ct.createElement("bufferAttribute",{attach:"attributes-position",args:[y,3]}),ct.createElement("bufferAttribute",{attach:"attributes-color",args:[m,3]}),ct.createElement("bufferAttribute",{attach:"attributes-size",args:[g,1]})),ct.createElement("primitive",{ref:p,object:b,attach:"material",blending:qy,"uniforms-fade-value":C,depthWrite:!1,transparent:!0,vertexColors:!0}))});function Na({position:r,color:a}){const h=ct.useRef();return La(l=>{h.current.rotation.x=l.clock.getElapsedTime()*.5,h.current.rotation.y=l.clock.getElapsedTime()*.5}),Y.jsxs("mesh",{position:r,ref:h,children:[Y.jsx("sphereGeometry",{args:[.3,32,32]}),Y.jsx("meshStandardMaterial",{color:a,emissive:a,emissiveIntensity:2,toneMapped:!1}),Y.jsx("pointLight",{distance:5,intensity:2,color:a})]})}function fm(){const r=ct.useRef();return La(a=>{r.current.rotation.z=a.clock.getElapsedTime()*.1}),Y.jsx(od,{args:[2.8,64,64],ref:r,children:Y.jsx(rm,{color:"#3b82f6",attach:"material",distort:.3,speed:2,roughness:0,transparent:!0,opacity:.1,wireframe:!0})})}function hm(){return Y.jsx(od,{args:[1.5,64,64],children:Y.jsx("meshStandardMaterial",{color:"#0f172a",roughness:.1,metalness:.8})})}function dm(){return Y.jsx("div",{style:{width:"100%",height:"100%",position:"absolute",top:0,left:0,zIndex:0},children:Y.jsxs(F0,{camera:{position:[0,0,6],fov:45},children:[Y.jsx("ambientLight",{intensity:.5}),Y.jsx("pointLight",{position:[10,10,10],intensity:1}),Y.jsx(cm,{radius:100,depth:50,count:5e3,factor:4,saturation:0,fade:!0,speed:1}),Y.jsxs("group",{rotation:[0,0,Math.PI/4],children:[Y.jsx(hm,{}),Y.jsx(fm,{}),Y.jsx(Na,{position:[2,0,0],color:"#0ea5e9"}),Y.jsx(Na,{position:[-2,0,0],color:"#0ea5e9"}),Y.jsx(Na,{position:[0,2,0],color:"#6366f1"}),Y.jsx(Na,{position:[0,-2,0],color:"#10b981"}),Y.jsx(Na,{position:[0,0,2],color:"#f59e0b"})]}),Y.jsx(im,{enableZoom:!1,autoRotate:!0,autoRotateSpeed:.5})]})})}var Os={exports:{}},js={},Oa={};const pm={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},ym={arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},mm={arity:1,flags:["fast"],keyStart:0,keyStop:0,step:0},gm={arity:-2,flags:["noscript","loading","stale","fast","no_auth","allow_busy"],keyStart:0,keyStop:0,step:0},vm={arity:1,flags:["admin","noscript","no_async_loading"],keyStart:0,keyStop:0,step:0},Sm={arity:-1,flags:["admin","noscript","no_async_loading"],keyStart:0,keyStop:0,step:0},bm={arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},Em={arity:-2,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},_m={arity:-2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},xm={arity:-4,flags:["write","denyoom"],keyStart:2,keyStop:-1,step:1},Cm={arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},Am={arity:6,flags:["write","denyoom","noscript","blocking"],keyStart:1,keyStop:2,step:1},Tm={arity:-5,flags:["write","blocking","movablekeys"],keyStart:0,keyStop:0,step:0},Mm={arity:-3,flags:["write","noscript","blocking"],keyStart:1,keyStop:-2,step:1},Rm={arity:-3,flags:["write","noscript","blocking"],keyStart:1,keyStop:-2,step:1},Nm={arity:4,flags:["write","denyoom","noscript","blocking"],keyStart:1,keyStop:2,step:1},Om={arity:-5,flags:["write","blocking","movablekeys"],keyStart:0,keyStop:0,step:0},jm={arity:-3,flags:["write","noscript","blocking","fast"],keyStart:1,keyStop:-2,step:1},Bm={arity:-3,flags:["write","noscript","blocking","fast"],keyStart:1,keyStop:-2,step:1},zm={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},Dm={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},wm={arity:-1,flags:["loading","stale"],keyStart:0,keyStop:0,step:0},Um={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},km={arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},Hm={arity:1,flags:["readonly","fast"],keyStart:0,keyStop:0,step:0},qm={arity:-2,flags:["admin","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},Qm={arity:2,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},Lm={arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},Ym={arity:-2,flags:["write"],keyStart:1,keyStop:-1,step:1},Gm={arity:1,flags:["noscript","loading","stale","fast","allow_busy"],keyStart:0,keyStop:0,step:0},Vm={arity:2,flags:["readonly"],keyStart:1,keyStop:1,step:1},Km={arity:2,flags:["fast"],keyStart:0,keyStop:0,step:0},Fm={arity:-3,flags:["readonly","noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},Xm={arity:-3,flags:["noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},Zm={arity:-3,flags:["readonly","noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},Pm={arity:1,flags:["noscript","loading","stale","skip_slowlog"],keyStart:0,keyStop:0,step:0},Im={arity:-2,flags:["readonly","fast"],keyStart:1,keyStop:-1,step:1},Jm={arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},Wm={arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},$m={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},tg={arity:-1,flags:["admin","noscript","stale"],keyStart:0,keyStop:0,step:0},eg={arity:-3,flags:["noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},ng={arity:-3,flags:["readonly","noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},ig={arity:-1,flags:["write"],keyStart:0,keyStop:0,step:0},ag={arity:-1,flags:["write"],keyStart:0,keyStop:0,step:0},sg={arity:-5,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},rg={arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},lg={arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},og={arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},ug={arity:-6,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},cg={arity:-6,flags:["readonly"],keyStart:1,keyStop:1,step:1},fg={arity:-5,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},hg={arity:-5,flags:["readonly"],keyStart:1,keyStop:1,step:1},dg={arity:-7,flags:["readonly"],keyStart:1,keyStop:1,step:1},pg={arity:-8,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},yg={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},mg={arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},gg={arity:2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},vg={arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},Sg={arity:4,flags:["readonly"],keyStart:1,keyStop:1,step:1},bg={arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},Eg={arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},_g={arity:-1,flags:["noscript","loading","stale","fast","no_auth","allow_busy"],keyStart:0,keyStop:0,step:0},xg={arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},Cg={arity:-6,flags:["write","fast"],keyStart:1,keyStop:1,step:1},Ag={arity:-6,flags:["write","fast"],keyStart:1,keyStop:1,step:1},Tg={arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},Mg={arity:2,flags:["readonly"],keyStart:1,keyStop:1,step:1},Rg={arity:4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},Ng={arity:4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},Og={arity:2,flags:["readonly"],keyStart:1,keyStop:1,step:1},jg={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},Bg={arity:-3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},zg={arity:-4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},Dg={arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},wg={arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},Ug={arity:-4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},kg={arity:4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},Hg={arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},qg={arity:2,flags:["readonly"],keyStart:1,keyStop:1,step:1},Qg={arity:2,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},Lg={arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},Yg={arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},Gg={arity:-1,flags:["loading","stale"],keyStart:0,keyStop:0,step:0},Vg={arity:2,flags:["readonly"],keyStart:0,keyStop:0,step:0},Kg={arity:1,flags:["loading","stale","fast"],keyStart:0,keyStop:0,step:0},Fg={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},Xg={arity:-3,flags:["readonly"],keyStart:1,keyStop:2,step:1},Zg={arity:3,flags:["readonly"],keyStart:1,keyStop:1,step:1},Pg={arity:5,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},Ig={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},Jg={arity:5,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},Wg={arity:-4,flags:["write","movablekeys"],keyStart:0,keyStop:0,step:0},$g={arity:-1,flags:["readonly","fast"],keyStart:0,keyStop:0,step:0},tv={arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},ev={arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},nv={arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},iv={arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},av={arity:4,flags:["readonly"],keyStart:1,keyStop:1,step:1},sv={arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},rv={arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},lv={arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},ov={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},uv={arity:-2,flags:["readonly","fast"],keyStart:1,keyStop:-1,step:1},cv={arity:-6,flags:["write","movablekeys"],keyStart:3,keyStop:3,step:1},fv={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},hv={arity:1,flags:["admin","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},dv={arity:3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},pv={arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:2},yv={arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:2},mv={arity:1,flags:["noscript","loading","stale","fast","allow_busy"],keyStart:0,keyStop:0,step:0},gv={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},vv={arity:2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},Sv={arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},bv={arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},Ev={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},_v={arity:-2,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},xv={arity:-2,flags:["readonly"],keyStart:1,keyStop:-1,step:1},Cv={arity:3,flags:["write","denyoom","admin"],keyStart:2,keyStop:2,step:1},Av={arity:-2,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:1},Tv={arity:1,flags:["admin"],keyStart:0,keyStop:0,step:0},Mv={arity:-1,flags:["fast"],keyStart:0,keyStop:0,step:0},Rv={arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},Nv={arity:-2,flags:["pubsub","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},Ov={arity:-3,flags:["admin","noscript","no_async_loading","no_multi"],keyStart:0,keyStop:0,step:0},jv={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},Bv={arity:3,flags:["pubsub","loading","stale","fast"],keyStart:0,keyStop:0,step:0},zv={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},Dv={arity:-1,flags:["pubsub","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},wv={arity:-1,flags:["noscript","loading","stale","fast","no_auth","allow_busy"],keyStart:0,keyStop:0,step:0},Uv={arity:1,flags:["readonly"],keyStart:0,keyStop:0,step:0},kv={arity:1,flags:["loading","stale","fast"],keyStart:0,keyStop:0,step:0},Hv={arity:1,flags:["loading","stale","fast"],keyStart:0,keyStop:0,step:0},qv={arity:3,flags:["write"],keyStart:1,keyStop:2,step:1},Qv={arity:3,flags:["write","fast"],keyStart:1,keyStop:2,step:1},Lv={arity:-1,flags:["admin","noscript","loading","stale","allow_busy"],keyStart:0,keyStop:0,step:0},Yv={arity:3,flags:["admin","noscript","stale","no_async_loading"],keyStart:0,keyStop:0,step:0},Gv={arity:1,flags:["noscript","loading","stale","fast","no_auth","allow_busy"],keyStart:0,keyStop:0,step:0},Vv={arity:-4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},Kv={arity:1,flags:["noscript","loading","stale","fast"],keyStart:0,keyStop:0,step:0},Fv={arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},Xv={arity:3,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},Zv={arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},Pv={arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},Iv={arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},Jv={arity:1,flags:["admin","noscript","no_async_loading","no_multi"],keyStart:0,keyStop:0,step:0},Wv={arity:-2,flags:["readonly"],keyStart:0,keyStop:0,step:0},$v={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},t1={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},e1={arity:-2,flags:["readonly"],keyStart:1,keyStop:-1,step:1},n1={arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:1},i1={arity:2,flags:["loading","stale","fast"],keyStart:0,keyStop:0,step:0},a1={arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},s1={arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},r1={arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},l1={arity:3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},o1={arity:4,flags:["write","denyoom"],keyStart:1,keyStop:1,step:1},u1={arity:-1,flags:["admin","noscript","loading","stale","no_multi","allow_busy"],keyStart:0,keyStop:0,step:0},c1={arity:-2,flags:["readonly"],keyStart:1,keyStop:-1,step:1},f1={arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},h1={arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:1},d1={arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},p1={arity:3,flags:["admin","noscript","stale","no_async_loading"],keyStart:0,keyStop:0,step:0},y1={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},m1={arity:2,flags:["readonly"],keyStart:1,keyStop:1,step:1},g1={arity:-3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},v1={arity:4,flags:["write","fast"],keyStart:1,keyStop:2,step:1},S1={arity:-2,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},b1={arity:-2,flags:["readonly","movablekeys"],keyStart:1,keyStop:1,step:1},E1={arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},_1={arity:3,flags:["pubsub","loading","stale","fast"],keyStart:1,keyStop:1,step:1},x1={arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},C1={arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},A1={arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},T1={arity:-2,flags:["pubsub","noscript","loading","stale"],keyStart:1,keyStop:-1,step:1},M1={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},R1={arity:-2,flags:["pubsub","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},N1={arity:4,flags:["readonly"],keyStart:1,keyStop:1,step:1},O1={arity:-2,flags:["readonly"],keyStart:1,keyStop:-1,step:1},j1={arity:-3,flags:["write","denyoom"],keyStart:1,keyStop:-1,step:1},B1={arity:-1,flags:["pubsub","noscript","loading","stale"],keyStart:1,keyStop:-1,step:1},z1={arity:3,flags:["write","fast"],keyStart:0,keyStop:0,step:0},D1={arity:1,flags:["admin","noscript","no_async_loading","no_multi"],keyStart:0,keyStop:0,step:0},w1={arity:1,flags:["loading","stale","fast"],keyStart:0,keyStop:0,step:0},U1={arity:-2,flags:["readonly","fast"],keyStart:1,keyStop:-1,step:1},k1={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},H1={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},q1={arity:-2,flags:["write","fast"],keyStart:1,keyStop:-1,step:1},Q1={arity:-1,flags:["pubsub","noscript","loading","stale"],keyStart:0,keyStop:0,step:0},L1={arity:1,flags:["noscript","loading","stale","fast","allow_busy"],keyStart:0,keyStop:0,step:0},Y1={arity:3,flags:["noscript"],keyStart:0,keyStop:0,step:0},G1={arity:-2,flags:["noscript","loading","stale","fast","allow_busy"],keyStart:1,keyStop:-1,step:1},V1={arity:-4,flags:["write","fast"],keyStart:1,keyStop:1,step:1},K1={arity:-5,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},F1={arity:-6,flags:["write","fast"],keyStart:1,keyStop:1,step:1},X1={arity:-6,flags:["write","fast"],keyStart:1,keyStop:1,step:1},Z1={arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},P1={arity:-5,flags:["write","fast"],keyStart:1,keyStop:1,step:1},I1={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},J1={arity:-2,flags:[],keyStart:0,keyStop:0,step:0},W1={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},$1={arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},tS={arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},eS={arity:-4,flags:["readonly","blocking","movablekeys"],keyStart:0,keyStop:0,step:0},nS={arity:-7,flags:["write","blocking","movablekeys"],keyStart:0,keyStop:0,step:0},iS={arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},aS={arity:-3,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},sS={arity:-4,flags:["write"],keyStart:1,keyStop:1,step:1},rS={arity:-4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},lS={arity:2,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},oS={arity:4,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},uS={arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},cS={arity:-4,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},fS={arity:4,flags:["write","denyoom","fast"],keyStart:1,keyStop:1,step:1},hS={arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},dS={arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},pS={arity:-4,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},yS={arity:4,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},mS={arity:-4,flags:["write","movablekeys"],keyStart:0,keyStop:0,step:0},gS={arity:-3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},vS={arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},SS={arity:-2,flags:["write","fast"],keyStart:1,keyStop:1,step:1},bS={arity:-2,flags:["readonly"],keyStart:1,keyStop:1,step:1},ES={arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},_S={arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},xS={arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},CS={arity:-5,flags:["write","denyoom"],keyStart:1,keyStop:2,step:1},AS={arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},TS={arity:-3,flags:["write","fast"],keyStart:1,keyStop:1,step:1},MS={arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},RS={arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},NS={arity:4,flags:["write"],keyStart:1,keyStop:1,step:1},OS={arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},jS={arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},BS={arity:-4,flags:["readonly"],keyStart:1,keyStop:1,step:1},zS={arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},DS={arity:-3,flags:["readonly"],keyStart:1,keyStop:1,step:1},wS={arity:3,flags:["readonly","fast"],keyStart:1,keyStop:1,step:1},US={arity:-3,flags:["readonly","movablekeys"],keyStart:0,keyStop:0,step:0},kS={arity:-4,flags:["write","denyoom","movablekeys"],keyStart:1,keyStop:1,step:1},HS={acl:pm,append:ym,asking:mm,auth:gm,bgrewriteaof:vm,bgsave:Sm,bitcount:bm,bitfield:Em,bitfield_ro:_m,bitop:xm,bitpos:Cm,blmove:Am,blmpop:Tm,blpop:Mm,brpop:Rm,brpoplpush:Nm,bzmpop:Om,bzpopmax:jm,bzpopmin:Bm,client:zm,cluster:Dm,command:wm,config:Um,copy:km,dbsize:Hm,debug:qm,decr:Qm,decrby:Lm,del:Ym,discard:Gm,dump:Vm,echo:Km,eval:{arity:-3,flags:["noscript","stale","skip_monitor","no_mandatory_keys","movablekeys"],keyStart:0,keyStop:0,step:0},eval_ro:Fm,evalsha:Xm,evalsha_ro:Zm,exec:Pm,exists:Im,expire:Jm,expireat:Wm,expiretime:$m,failover:tg,fcall:eg,fcall_ro:ng,flushall:ig,flushdb:ag,function:{arity:-2,flags:[],keyStart:0,keyStop:0,step:0},geoadd:sg,geodist:rg,geohash:lg,geopos:og,georadius:ug,georadius_ro:cg,georadiusbymember:fg,georadiusbymember_ro:hg,geosearch:dg,geosearchstore:pg,get:yg,getbit:mg,getdel:gg,getex:vg,getrange:Sg,getset:bg,hdel:Eg,hello:_g,hexists:xg,hexpire:Cg,hpexpire:Ag,hget:Tg,hgetall:Mg,hincrby:Rg,hincrbyfloat:Ng,hkeys:Og,hlen:jg,hmget:Bg,hmset:zg,hrandfield:Dg,hscan:wg,hset:Ug,hsetnx:kg,hstrlen:Hg,hvals:qg,incr:Qg,incrby:Lg,incrbyfloat:Yg,info:Gg,keys:Vg,lastsave:Kg,latency:Fg,lcs:Xg,lindex:Zg,linsert:Pg,llen:Ig,lmove:Jg,lmpop:Wg,lolwut:$g,lpop:tv,lpos:ev,lpush:nv,lpushx:iv,lrange:av,lrem:sv,lset:rv,ltrim:lv,memory:ov,mget:uv,migrate:cv,module:fv,monitor:hv,move:dv,mset:pv,msetnx:yv,multi:mv,object:gv,persist:vv,pexpire:Sv,pexpireat:bv,pexpiretime:Ev,pfadd:_v,pfcount:xv,pfdebug:Cv,pfmerge:Av,pfselftest:Tv,ping:Mv,psetex:Rv,psubscribe:Nv,psync:Ov,pttl:jv,publish:Bv,pubsub:zv,punsubscribe:Dv,quit:wv,randomkey:Uv,readonly:kv,readwrite:Hv,rename:qv,renamenx:Qv,replconf:Lv,replicaof:Yv,reset:Gv,restore:Vv,"restore-asking":{arity:-4,flags:["write","denyoom","asking"],keyStart:1,keyStop:1,step:1},role:Kv,rpop:Fv,rpoplpush:Xv,rpush:Zv,rpushx:Pv,sadd:Iv,save:Jv,scan:Wv,scard:$v,script:t1,sdiff:e1,sdiffstore:n1,select:i1,set:a1,setbit:s1,setex:r1,setnx:l1,setrange:o1,shutdown:u1,sinter:c1,sintercard:f1,sinterstore:h1,sismember:d1,slaveof:p1,slowlog:y1,smembers:m1,smismember:g1,smove:v1,sort:S1,sort_ro:b1,spop:E1,spublish:_1,srandmember:x1,srem:C1,sscan:A1,ssubscribe:T1,strlen:M1,subscribe:R1,substr:N1,sunion:O1,sunionstore:j1,sunsubscribe:B1,swapdb:z1,sync:D1,time:w1,touch:U1,ttl:k1,type:H1,unlink:q1,unsubscribe:Q1,unwatch:L1,wait:Y1,watch:G1,xack:V1,xadd:K1,xautoclaim:F1,xclaim:X1,xdel:Z1,xdelex:P1,xgroup:I1,xinfo:J1,xlen:W1,xpending:$1,xrange:tS,xread:eS,xreadgroup:nS,xrevrange:iS,xsetid:aS,xtrim:sS,zadd:rS,zcard:lS,zcount:oS,zdiff:uS,zdiffstore:cS,zincrby:fS,zinter:hS,zintercard:dS,zinterstore:pS,zlexcount:yS,zmpop:mS,zmscore:gS,zpopmax:vS,zpopmin:SS,zrandmember:bS,zrange:ES,zrangebylex:_S,zrangebyscore:xS,zrangestore:CS,zrank:AS,zrem:TS,zremrangebylex:MS,zremrangebyrank:RS,zremrangebyscore:NS,zrevrange:OS,zrevrangebylex:jS,zrevrangebyscore:BS,zrevrank:zS,zscan:DS,zscore:wS,zunion:US,zunionstore:kS};var Hf;function Ya(){return Hf||(Hf=1,(function(r){var a=Oa&&Oa.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(r,"__esModule",{value:!0}),r.getKeyIndexes=r.hasFlag=r.exists=r.list=void 0;const h=a(HS);r.list=Object.keys(h.default);const l={};r.list.forEach(p=>{l[p]=h.default[p].flags.reduce(function(y,m){return y[m]=!0,y},{})});function d(p){return!!h.default[p]}r.exists=d;function C(p,y){if(!l[p])throw new Error("Unknown command "+p);return!!l[p][y]}r.hasFlag=C;function _(p,y,m){const g=h.default[p];if(!g)throw new Error("Unknown command "+p);if(!Array.isArray(y))throw new Error("Expect args to be an array");const b=[],x=!!(m&&m.parseExternalKey),v=(N,A)=>{const j=[],R=Number(N[A]);for(let L=0;L<R;L++)j.push(L+A+1);return j},O=(N,A,j)=>{for(let R=A;R<N.length-1;R+=1)if(String(N[R]).toLowerCase()===j.toLowerCase())return R+1;return null};switch(p){case"zunionstore":case"zinterstore":case"zdiffstore":b.push(0,...v(y,1));break;case"eval":case"evalsha":case"eval_ro":case"evalsha_ro":case"fcall":case"fcall_ro":case"blmpop":case"bzmpop":b.push(...v(y,1));break;case"sintercard":case"lmpop":case"zunion":case"zinter":case"zmpop":case"zintercard":case"zdiff":{b.push(...v(y,0));break}case"georadius":{b.push(0);const N=O(y,5,"STORE");N&&b.push(N);const A=O(y,5,"STOREDIST");A&&b.push(A);break}case"georadiusbymember":{b.push(0);const N=O(y,4,"STORE");N&&b.push(N);const A=O(y,4,"STOREDIST");A&&b.push(A);break}case"sort":case"sort_ro":b.push(0);for(let N=1;N<y.length-1;N++){let A=y[N];if(typeof A!="string")continue;const j=A.toUpperCase();j==="GET"?(N+=1,A=y[N],A!=="#"&&(x?b.push([N,c(A)]):b.push(N))):j==="BY"?(N+=1,x?b.push([N,c(y[N])]):b.push(N)):j==="STORE"&&(N+=1,b.push(N))}break;case"migrate":if(y[2]==="")for(let N=5;N<y.length-1;N++){const A=y[N];if(typeof A=="string"&&A.toUpperCase()==="KEYS"){for(let j=N+1;j<y.length;j++)b.push(j);break}}else b.push(2);break;case"xreadgroup":case"xread":for(let N=p==="xread"?0:3;N<y.length-1;N++)if(String(y[N]).toUpperCase()==="STREAMS"){for(let A=N+1;A<=N+(y.length-1-N)/2;A++)b.push(A);break}break;default:if(g.step>0){const N=g.keyStart-1,A=g.keyStop>0?g.keyStop:y.length+g.keyStop+1;for(let j=N;j<A;j+=g.step)b.push(j)}break}return b}r.getKeyIndexes=_;function c(p){typeof p!="string"&&(p=String(p));const y=p.indexOf("->");return y===-1?p.length:y}})(Oa)),Oa}const qS={},QS=Object.freeze(Object.defineProperty({__proto__:null,default:qS},Symbol.toStringTag,{value:"Module"})),Pt=Sy(QS);var Bs={},ro={},qf;function LS(){return qf||(qf=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.tryCatch=r.errorObj=void 0,r.errorObj={e:{}};let a;function h(d,C){try{const _=a;return a=null,_.apply(this,arguments)}catch(_){return r.errorObj.e=_,r.errorObj}}function l(d){return a=d,h}r.tryCatch=l})(ro)),ro}var Qf;function Si(){if(Qf)return Bs;Qf=1,Object.defineProperty(Bs,"__esModule",{value:!0});const r=LS();function a(l){setTimeout(function(){throw l},0)}function h(l,d,C){return typeof d=="function"&&l.then(_=>{let c;C!==void 0&&Object(C).spread&&Array.isArray(_)?c=r.tryCatch(d).apply(void 0,[null].concat(_)):c=_===void 0?r.tryCatch(d)(null):r.tryCatch(d)(null,_),c===r.errorObj&&a(c.e)},_=>{if(!_){const p=new Error(_+"");Object.assign(p,{cause:_}),_=p}const c=r.tryCatch(d)(_);c===r.errorObj&&a(c.e)}),l}return Bs.default=h,Bs}var zs={},lo,Lf;function YS(){if(Lf)return lo;Lf=1;const r=Pt,a=Pt;function h(c){Object.defineProperty(this,"message",{value:c||"",configurable:!0,writable:!0}),Error.captureStackTrace(this,this.constructor)}a.inherits(h,Error),Object.defineProperty(h.prototype,"name",{value:"RedisError",configurable:!0,writable:!0});function l(c,p,y){r(p),r.strictEqual(typeof y,"number"),Object.defineProperty(this,"message",{value:c||"",configurable:!0,writable:!0});const m=Error.stackTraceLimit;Error.stackTraceLimit=2,Error.captureStackTrace(this,this.constructor),Error.stackTraceLimit=m,this.offset=y,this.buffer=p}a.inherits(l,h),Object.defineProperty(l.prototype,"name",{value:"ParserError",configurable:!0,writable:!0});function d(c){Object.defineProperty(this,"message",{value:c||"",configurable:!0,writable:!0});const p=Error.stackTraceLimit;Error.stackTraceLimit=2,Error.captureStackTrace(this,this.constructor),Error.stackTraceLimit=p}a.inherits(d,h),Object.defineProperty(d.prototype,"name",{value:"ReplyError",configurable:!0,writable:!0});function C(c){Object.defineProperty(this,"message",{value:c||"",configurable:!0,writable:!0}),Error.captureStackTrace(this,this.constructor)}a.inherits(C,h),Object.defineProperty(C.prototype,"name",{value:"AbortError",configurable:!0,writable:!0});function _(c){Object.defineProperty(this,"message",{value:c||"",configurable:!0,writable:!0}),Error.captureStackTrace(this,this.constructor)}return a.inherits(_,C),Object.defineProperty(_.prototype,"name",{value:"InterruptError",configurable:!0,writable:!0}),lo={RedisError:h,ParserError:l,ReplyError:d,AbortError:C,InterruptError:_},lo}var oo,Yf;function GS(){if(Yf)return oo;Yf=1;const r=Pt;class a extends Error{get name(){return this.constructor.name}}class h extends a{constructor(c,p,y){r(p),r.strictEqual(typeof y,"number");const m=Error.stackTraceLimit;Error.stackTraceLimit=2,super(c),Error.stackTraceLimit=m,this.offset=y,this.buffer=p}get name(){return this.constructor.name}}class l extends a{constructor(c){const p=Error.stackTraceLimit;Error.stackTraceLimit=2,super(c),Error.stackTraceLimit=p}get name(){return this.constructor.name}}class d extends a{get name(){return this.constructor.name}}class C extends d{get name(){return this.constructor.name}}return oo={RedisError:a,ParserError:h,ReplyError:l,AbortError:d,InterruptError:C},oo}var uo,Gf;function ea(){return Gf||(Gf=1,uo=process.version.charCodeAt(1)<55&&process.version.charCodeAt(2)===46?YS():GS()),uo}var Ds={},ws={exports:{}},Vf;function cr(){if(Vf)return ws.exports;Vf=1;var r=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920],a=function(d){for(var C,_=0,c=0,p=[],y=d.length;_<y;_++)C=d.charCodeAt(_),C<128?p[c++]=C:C<2048?(p[c++]=C>>6|192,p[c++]=C&63|128):(C&64512)===55296&&_+1<d.length&&(d.charCodeAt(_+1)&64512)===56320?(C=65536+((C&1023)<<10)+(d.charCodeAt(++_)&1023),p[c++]=C>>18|240,p[c++]=C>>12&63|128,p[c++]=C>>6&63|128,p[c++]=C&63|128):(p[c++]=C>>12|224,p[c++]=C>>6&63|128,p[c++]=C&63|128);return p},h=ws.exports=function(d){for(var C,_=0,c=-1,p=0,y=0,m=typeof d=="string"?a(d):d,g=m.length;_<g;){if(C=m[_++],c===-1)C===123&&(c=_);else if(C!==125)y=r[(C^y>>8)&255]^y<<8;else if(_-1!==c)return y&16383;p=r[(C^p>>8)&255]^p<<8}return p&16383};return ws.exports.generateMulti=function(d){for(var C=1,_=d.length,c=h(d[0]);C<_;)if(h(d[C++])!==c)return-1;return c},ws.exports}var co={},Cn={},fo,Kf;function VS(){if(Kf)return fo;Kf=1;var r=9007199254740991,a="[object Arguments]",h="[object Function]",l="[object GeneratorFunction]",d=/^(?:0|[1-9]\d*)$/;function C(w,W,nt){switch(nt.length){case 0:return w.call(W);case 1:return w.call(W,nt[0]);case 2:return w.call(W,nt[0],nt[1]);case 3:return w.call(W,nt[0],nt[1],nt[2])}return w.apply(W,nt)}function _(w,W){for(var nt=-1,ot=Array(w);++nt<w;)ot[nt]=W(nt);return ot}var c=Object.prototype,p=c.hasOwnProperty,y=c.toString,m=c.propertyIsEnumerable,g=Math.max;function b(w,W){var nt=Q(w)||B(w)?_(w.length,String):[],ot=nt.length,St=!!ot;for(var dt in w)St&&(dt=="length"||R(dt,ot))||nt.push(dt);return nt}function x(w,W,nt,ot){return w===void 0||T(w,c[nt])&&!p.call(ot,nt)?W:w}function v(w,W,nt){var ot=w[W];(!(p.call(w,W)&&T(ot,nt))||nt===void 0&&!(W in w))&&(w[W]=nt)}function O(w){if(!G(w))return et(w);var W=X(w),nt=[];for(var ot in w)ot=="constructor"&&(W||!p.call(w,ot))||nt.push(ot);return nt}function N(w,W){return W=g(W===void 0?w.length-1:W,0),function(){for(var nt=arguments,ot=-1,St=g(nt.length-W,0),dt=Array(St);++ot<St;)dt[ot]=nt[W+ot];ot=-1;for(var xt=Array(W+1);++ot<W;)xt[ot]=nt[ot];return xt[W]=dt,C(w,this,xt)}}function A(w,W,nt,ot){nt||(nt={});for(var St=-1,dt=W.length;++St<dt;){var xt=W[St],It=ot?ot(nt[xt],w[xt],xt,nt,w):void 0;v(nt,xt,It===void 0?w[xt]:It)}return nt}function j(w){return N(function(W,nt){var ot=-1,St=nt.length,dt=St>1?nt[St-1]:void 0,xt=St>2?nt[2]:void 0;for(dt=w.length>3&&typeof dt=="function"?(St--,dt):void 0,xt&&L(nt[0],nt[1],xt)&&(dt=St<3?void 0:dt,St=1),W=Object(W);++ot<St;){var It=nt[ot];It&&w(W,It,ot,dt)}return W})}function R(w,W){return W=W??r,!!W&&(typeof w=="number"||d.test(w))&&w>-1&&w%1==0&&w<W}function L(w,W,nt){if(!G(nt))return!1;var ot=typeof W;return(ot=="number"?U(nt)&&R(W,nt.length):ot=="string"&&W in nt)?T(nt[W],w):!1}function X(w){var W=w&&w.constructor,nt=typeof W=="function"&&W.prototype||c;return w===nt}function et(w){var W=[];if(w!=null)for(var nt in Object(w))W.push(nt);return W}function T(w,W){return w===W||w!==w&&W!==W}function B(w){return tt(w)&&p.call(w,"callee")&&(!m.call(w,"callee")||y.call(w)==a)}var Q=Array.isArray;function U(w){return w!=null&&D(w.length)&&!pt(w)}function tt(w){return at(w)&&U(w)}function pt(w){var W=G(w)?y.call(w):"";return W==h||W==l}function D(w){return typeof w=="number"&&w>-1&&w%1==0&&w<=r}function G(w){var W=typeof w;return!!w&&(W=="object"||W=="function")}function at(w){return!!w&&typeof w=="object"}var k=j(function(w,W,nt,ot){A(W,Z(W),w,ot)}),F=N(function(w){return w.push(void 0,x),C(k,void 0,w)});function Z(w){return U(w)?b(w):O(w)}return fo=F,fo}var ho,Ff;function KS(){if(Ff)return ho;Ff=1;var r=9007199254740991,a="[object Arguments]",h="[object Function]",l="[object GeneratorFunction]",d=Object.prototype,C=d.hasOwnProperty,_=d.toString,c=d.propertyIsEnumerable;function p(O){return m(O)&&C.call(O,"callee")&&(!c.call(O,"callee")||_.call(O)==a)}function y(O){return O!=null&&b(O.length)&&!g(O)}function m(O){return v(O)&&y(O)}function g(O){var N=x(O)?_.call(O):"";return N==h||N==l}function b(O){return typeof O=="number"&&O>-1&&O%1==0&&O<=r}function x(O){var N=typeof O;return!!O&&(N=="object"||N=="function")}function v(O){return!!O&&typeof O=="object"}return ho=p,ho}var Xf;function Do(){if(Xf)return Cn;Xf=1,Object.defineProperty(Cn,"__esModule",{value:!0}),Cn.isArguments=Cn.defaults=Cn.noop=void 0;const r=VS();Cn.defaults=r;const a=KS();Cn.isArguments=a;function h(){}return Cn.noop=h,Cn}var rn={},Us={exports:{}},po,Zf;function FS(){if(Zf)return po;Zf=1;var r=1e3,a=r*60,h=a*60,l=h*24,d=l*7,C=l*365.25;po=function(m,g){g=g||{};var b=typeof m;if(b==="string"&&m.length>0)return _(m);if(b==="number"&&isFinite(m))return g.long?p(m):c(m);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(m))};function _(m){if(m=String(m),!(m.length>100)){var g=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(m);if(g){var b=parseFloat(g[1]),x=(g[2]||"ms").toLowerCase();switch(x){case"years":case"year":case"yrs":case"yr":case"y":return b*C;case"weeks":case"week":case"w":return b*d;case"days":case"day":case"d":return b*l;case"hours":case"hour":case"hrs":case"hr":case"h":return b*h;case"minutes":case"minute":case"mins":case"min":case"m":return b*a;case"seconds":case"second":case"secs":case"sec":case"s":return b*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return b;default:return}}}}function c(m){var g=Math.abs(m);return g>=l?Math.round(m/l)+"d":g>=h?Math.round(m/h)+"h":g>=a?Math.round(m/a)+"m":g>=r?Math.round(m/r)+"s":m+"ms"}function p(m){var g=Math.abs(m);return g>=l?y(m,g,l,"day"):g>=h?y(m,g,h,"hour"):g>=a?y(m,g,a,"minute"):g>=r?y(m,g,r,"second"):m+" ms"}function y(m,g,b,x){var v=g>=b*1.5;return Math.round(m/b)+" "+x+(v?"s":"")}return po}var yo,Pf;function XS(){if(Pf)return yo;Pf=1;function r(a){l.debug=l,l.default=l,l.coerce=y,l.disable=c,l.enable=C,l.enabled=p,l.humanize=FS(),l.destroy=m,Object.keys(a).forEach(g=>{l[g]=a[g]}),l.names=[],l.skips=[],l.formatters={};function h(g){let b=0;for(let x=0;x<g.length;x++)b=(b<<5)-b+g.charCodeAt(x),b|=0;return l.colors[Math.abs(b)%l.colors.length]}l.selectColor=h;function l(g){let b,x=null,v,O;function N(...A){if(!N.enabled)return;const j=N,R=Number(new Date),L=R-(b||R);j.diff=L,j.prev=b,j.curr=R,b=R,A[0]=l.coerce(A[0]),typeof A[0]!="string"&&A.unshift("%O");let X=0;A[0]=A[0].replace(/%([a-zA-Z%])/g,(T,B)=>{if(T==="%%")return"%";X++;const Q=l.formatters[B];if(typeof Q=="function"){const U=A[X];T=Q.call(j,U),A.splice(X,1),X--}return T}),l.formatArgs.call(j,A),(j.log||l.log).apply(j,A)}return N.namespace=g,N.useColors=l.useColors(),N.color=l.selectColor(g),N.extend=d,N.destroy=l.destroy,Object.defineProperty(N,"enabled",{enumerable:!0,configurable:!1,get:()=>x!==null?x:(v!==l.namespaces&&(v=l.namespaces,O=l.enabled(g)),O),set:A=>{x=A}}),typeof l.init=="function"&&l.init(N),N}function d(g,b){const x=l(this.namespace+(typeof b>"u"?":":b)+g);return x.log=this.log,x}function C(g){l.save(g),l.namespaces=g,l.names=[],l.skips=[];const b=(typeof g=="string"?g:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const x of b)x[0]==="-"?l.skips.push(x.slice(1)):l.names.push(x)}function _(g,b){let x=0,v=0,O=-1,N=0;for(;x<g.length;)if(v<b.length&&(b[v]===g[x]||b[v]==="*"))b[v]==="*"?(O=v,N=x,v++):(x++,v++);else if(O!==-1)v=O+1,N++,x=N;else return!1;for(;v<b.length&&b[v]==="*";)v++;return v===b.length}function c(){const g=[...l.names,...l.skips.map(b=>"-"+b)].join(",");return l.enable(""),g}function p(g){for(const b of l.skips)if(_(g,b))return!1;for(const b of l.names)if(_(g,b))return!0;return!1}function y(g){return g instanceof Error?g.stack||g.message:g}function m(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return l.enable(l.load()),l}return yo=r,yo}var If;function ZS(){return If||(If=1,(function(r,a){var h={};a.formatArgs=d,a.save=C,a.load=_,a.useColors=l,a.storage=c(),a.destroy=(()=>{let y=!1;return()=>{y||(y=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),a.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function l(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let y;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(y=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(y[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function d(y){if(y[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+y[0]+(this.useColors?"%c ":" ")+"+"+r.exports.humanize(this.diff),!this.useColors)return;const m="color: "+this.color;y.splice(1,0,m,"color: inherit");let g=0,b=0;y[0].replace(/%[a-zA-Z%]/g,x=>{x!=="%%"&&(g++,x==="%c"&&(b=g))}),y.splice(b,0,m)}a.log=console.debug||console.log||(()=>{});function C(y){try{y?a.storage.setItem("debug",y):a.storage.removeItem("debug")}catch{}}function _(){let y;try{y=a.storage.getItem("debug")||a.storage.getItem("DEBUG")}catch{}return!y&&typeof process<"u"&&"env"in process&&(y=h.DEBUG),y}function c(){try{return localStorage}catch{}}r.exports=XS()(a);const{formatters:p}=r.exports;p.j=function(y){try{return JSON.stringify(y)}catch(m){return"[UnexpectedJSONParseError]: "+m.message}}})(Us,Us.exports)),Us.exports}var Jf;function PS(){if(Jf)return rn;Jf=1,Object.defineProperty(rn,"__esModule",{value:!0}),rn.genRedactedString=rn.getStringValue=rn.MAX_ARGUMENT_LENGTH=void 0;const r=ZS(),a=200;rn.MAX_ARGUMENT_LENGTH=a;const h="ioredis";function l(_){if(_!==null)switch(typeof _){case"boolean":return;case"number":return;case"object":if(Buffer.isBuffer(_))return _.toString("hex");if(Array.isArray(_))return _.join(",");try{return JSON.stringify(_)}catch{return}case"string":return _}}rn.getStringValue=l;function d(_,c){const{length:p}=_;return p<=c?_:_.slice(0,c)+' ... <REDACTED full-length="'+p+'">'}rn.genRedactedString=d;function C(_){const c=(0,r.default)(`${h}:${_}`);function p(...y){if(c.enabled){for(let m=1;m<y.length;m++){const g=l(y[m]);typeof g=="string"&&g.length>a&&(y[m]=d(g,a))}return c.apply(null,y)}}return Object.defineProperties(p,{namespace:{get(){return c.namespace}},enabled:{get(){return c.enabled}},destroy:{get(){return c.destroy}},log:{get(){return c.log},set(y){c.log=y}}}),p}return rn.default=C,rn}var ks={},Wf;function IS(){if(Wf)return ks;Wf=1,Object.defineProperty(ks,"__esModule",{value:!0});const r=`-----BEGIN CERTIFICATE-----
MIIDTzCCAjegAwIBAgIJAKSVpiDswLcwMA0GCSqGSIb3DQEBBQUAMD4xFjAUBgNV
BAoMDUdhcmFudGlhIERhdGExJDAiBgNVBAMMG1NTTCBDZXJ0aWZpY2F0aW9uIEF1
dGhvcml0eTAeFw0xMzEwMDExMjE0NTVaFw0yMzA5MjkxMjE0NTVaMD4xFjAUBgNV
BAoMDUdhcmFudGlhIERhdGExJDAiBgNVBAMMG1NTTCBDZXJ0aWZpY2F0aW9uIEF1
dGhvcml0eTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALZqkh/DczWP
JnxnHLQ7QL0T4B4CDKWBKCcisriGbA6ZePWVNo4hfKQC6JrzfR+081NeD6VcWUiz
rmd+jtPhIY4c+WVQYm5PKaN6DT1imYdxQw7aqO5j2KUCEh/cznpLxeSHoTxlR34E
QwF28Wl3eg2vc5ct8LjU3eozWVk3gb7alx9mSA2SgmuX5lEQawl++rSjsBStemY2
BDwOpAMXIrdEyP/cVn8mkvi/BDs5M5G+09j0gfhyCzRWMQ7Hn71u1eolRxwVxgi3
TMn+/vTaFSqxKjgck6zuAYjBRPaHe7qLxHNr1So/Mc9nPy+3wHebFwbIcnUojwbp
4nctkWbjb2cCAwEAAaNQME4wHQYDVR0OBBYEFP1whtcrydmW3ZJeuSoKZIKjze3w
MB8GA1UdIwQYMBaAFP1whtcrydmW3ZJeuSoKZIKjze3wMAwGA1UdEwQFMAMBAf8w
DQYJKoZIhvcNAQEFBQADggEBAG2erXhwRAa7+ZOBs0B6X57Hwyd1R4kfmXcs0rta
lbPpvgULSiB+TCbf3EbhJnHGyvdCY1tvlffLjdA7HJ0PCOn+YYLBA0pTU/dyvrN6
Su8NuS5yubnt9mb13nDGYo1rnt0YRfxN+8DM3fXIVr038A30UlPX2Ou1ExFJT0MZ
uFKY6ZvLdI6/1cbgmguMlAhM+DhKyV6Sr5699LM3zqeI816pZmlREETYkGr91q7k
BpXJu/dtHaGxg1ZGu6w/PCsYGUcECWENYD4VQPd8N32JjOfu6vEgoEAwfPP+3oGp
Z4m3ewACcWOAenqflb+cQYC4PsF7qbXDmRaWrbKntOlZ3n0=
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
MIIGMTCCBBmgAwIBAgICEAAwDQYJKoZIhvcNAQELBQAwajELMAkGA1UEBhMCVVMx
CzAJBgNVBAgMAkNBMQswCQYDVQQHDAJDQTESMBAGA1UECgwJUmVkaXNMYWJzMS0w
KwYDVQQDDCRSZWRpc0xhYnMgUm9vdCBDZXJ0aWZpY2F0ZSBBdXRob3JpdHkwHhcN
MTgwMjI1MTUzNzM3WhcNMjgwMjIzMTUzNzM3WjBfMQswCQYDVQQGEwJVUzELMAkG
A1UECAwCQ0ExEjAQBgNVBAoMCVJlZGlzTGFiczEvMC0GA1UEAwwmUkNQIEludGVy
bWVkaWF0ZSBDZXJ0aWZpY2F0ZSBBdXRob3JpdHkwggIiMA0GCSqGSIb3DQEBAQUA
A4ICDwAwggIKAoICAQDf9dqbxc8Bq7Ctq9rWcxrGNKKHivqLAFpPq02yLPx6fsOv
Tq7GsDChAYBBc4v7Y2Ap9RD5Vs3dIhEANcnolf27QwrG9RMnnvzk8pCvp1o6zSU4
VuOE1W66/O1/7e2rVxyrnTcP7UgK43zNIXu7+tiAqWsO92uSnuMoGPGpeaUm1jym
hjWKtkAwDFSqvHY+XL5qDVBEjeUe+WHkYUg40cAXjusAqgm2hZt29c2wnVrxW25W
P0meNlzHGFdA2AC5z54iRiqj57dTfBTkHoBczQxcyw6hhzxZQ4e5I5zOKjXXEhZN
r0tA3YC14CTabKRus/JmZieyZzRgEy2oti64tmLYTqSlAD78pRL40VNoaSYetXLw
hhNsXCHgWaY6d5bLOc/aIQMAV5oLvZQKvuXAF1IDmhPA+bZbpWipp0zagf1P1H3s
UzsMdn2KM0ejzgotbtNlj5TcrVwpmvE3ktvUAuA+hi3FkVx1US+2Gsp5x4YOzJ7u
P1WPk6ShF0JgnJH2ILdj6kttTWwFzH17keSFICWDfH/+kM+k7Y1v3EXMQXE7y0T9
MjvJskz6d/nv+sQhY04xt64xFMGTnZjlJMzfQNi7zWFLTZnDD0lPowq7l3YiPoTT
t5Xky83lu0KZsZBo0WlWaDG00gLVdtRgVbcuSWxpi5BdLb1kRab66JptWjxwXQID
AQABo4HrMIHoMDoGA1UdHwQzMDEwL6AtoCuGKWh0dHBzOi8vcmwtY2Etc2VydmVy
LnJlZGlzbGFicy5jb20vdjEvY3JsMEYGCCsGAQUFBwEBBDowODA2BggrBgEFBQcw
AYYqaHR0cHM6Ly9ybC1jYS1zZXJ2ZXIucmVkaXNsYWJzLmNvbS92MS9vY3NwMB0G
A1UdDgQWBBQHar5OKvQUpP2qWt6mckzToeCOHDAfBgNVHSMEGDAWgBQi42wH6hM4
L2sujEvLM0/u8lRXTzASBgNVHRMBAf8ECDAGAQH/AgEAMA4GA1UdDwEB/wQEAwIB
hjANBgkqhkiG9w0BAQsFAAOCAgEAirEn/iTsAKyhd+pu2W3Z5NjCko4NPU0EYUbr
AP7+POK2rzjIrJO3nFYQ/LLuC7KCXG+2qwan2SAOGmqWst13Y+WHp44Kae0kaChW
vcYLXXSoGQGC8QuFSNUdaeg3RbMDYFT04dOkqufeWVccoHVxyTSg9eD8LZuHn5jw
7QDLiEECBmIJHk5Eeo2TAZrx4Yx6ufSUX5HeVjlAzqwtAqdt99uCJ/EL8bgpWbe+
XoSpvUv0SEC1I1dCAhCKAvRlIOA6VBcmzg5Am12KzkqTul12/VEFIgzqu0Zy2Jbc
AUPrYVu/+tOGXQaijy7YgwH8P8n3s7ZeUa1VABJHcxrxYduDDJBLZi+MjheUDaZ1
jQRHYevI2tlqeSBqdPKG4zBY5lS0GiAlmuze5oENt0P3XboHoZPHiqcK3VECgTVh
/BkJcuudETSJcZDmQ8YfoKfBzRQNg2sv/hwvUv73Ss51Sco8GEt2lD8uEdib1Q6z
zDT5lXJowSzOD5ZA9OGDjnSRL+2riNtKWKEqvtEG3VBJoBzu9GoxbAc7wIZLxmli
iF5a/Zf5X+UXD3s4TMmy6C4QZJpAA2egsSQCnraWO2ULhh7iXMysSkF/nzVfZn43
iqpaB8++9a37hWq14ZmOv0TJIDz//b2+KC4VFXWQ5W5QC6whsjT+OlG4p5ZYG0jo
616pxqo=
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
MIIFujCCA6KgAwIBAgIJAJ1aTT1lu2ScMA0GCSqGSIb3DQEBCwUAMGoxCzAJBgNV
BAYTAlVTMQswCQYDVQQIDAJDQTELMAkGA1UEBwwCQ0ExEjAQBgNVBAoMCVJlZGlz
TGFiczEtMCsGA1UEAwwkUmVkaXNMYWJzIFJvb3QgQ2VydGlmaWNhdGUgQXV0aG9y
aXR5MB4XDTE4MDIyNTE1MjA0MloXDTM4MDIyMDE1MjA0MlowajELMAkGA1UEBhMC
VVMxCzAJBgNVBAgMAkNBMQswCQYDVQQHDAJDQTESMBAGA1UECgwJUmVkaXNMYWJz
MS0wKwYDVQQDDCRSZWRpc0xhYnMgUm9vdCBDZXJ0aWZpY2F0ZSBBdXRob3JpdHkw
ggIiMA0GCSqGSIb3DQEBAQUAA4ICDwAwggIKAoICAQDLEjXy7YrbN5Waau5cd6g1
G5C2tMmeTpZ0duFAPxNU4oE3RHS5gGiok346fUXuUxbZ6QkuzeN2/2Z+RmRcJhQY
Dm0ZgdG4x59An1TJfnzKKoWj8ISmoHS/TGNBdFzXV7FYNLBuqZouqePI6ReC6Qhl
pp45huV32Q3a6IDrrvx7Wo5ZczEQeFNbCeCOQYNDdTmCyEkHqc2AGo8eoIlSTutT
ULOC7R5gzJVTS0e1hesQ7jmqHjbO+VQS1NAL4/5K6cuTEqUl+XhVhPdLWBXJQ5ag
54qhX4v+ojLzeU1R/Vc6NjMvVtptWY6JihpgplprN0Yh2556ewcXMeturcKgXfGJ
xeYzsjzXerEjrVocX5V8BNrg64NlifzTMKNOOv4fVZszq1SIHR8F9ROrqiOdh8iC
JpUbLpXH9hWCSEO6VRMB2xJoKu3cgl63kF30s77x7wLFMEHiwsQRKxooE1UhgS9K
2sO4TlQ1eWUvFvHSTVDQDlGQ6zu4qjbOpb3Q8bQwoK+ai2alkXVR4Ltxe9QlgYK3
StsnPhruzZGA0wbXdpw0bnM+YdlEm5ffSTpNIfgHeaa7Dtb801FtA71ZlH7A6TaI
SIQuUST9EKmv7xrJyx0W1pGoPOLw5T029aTjnICSLdtV9bLwysrLhIYG5bnPq78B
cS+jZHFGzD7PUVGQD01nOQIDAQABo2MwYTAdBgNVHQ4EFgQUIuNsB+oTOC9rLoxL
yzNP7vJUV08wHwYDVR0jBBgwFoAUIuNsB+oTOC9rLoxLyzNP7vJUV08wDwYDVR0T
AQH/BAUwAwEB/zAOBgNVHQ8BAf8EBAMCAYYwDQYJKoZIhvcNAQELBQADggIBAHfg
z5pMNUAKdMzK1aS1EDdK9yKz4qicILz5czSLj1mC7HKDRy8cVADUxEICis++CsCu
rYOvyCVergHQLREcxPq4rc5Nq1uj6J6649NEeh4WazOOjL4ZfQ1jVznMbGy+fJm3
3Hoelv6jWRG9iqeJZja7/1s6YC6bWymI/OY1e4wUKeNHAo+Vger7MlHV+RuabaX+
hSJ8bJAM59NCM7AgMTQpJCncrcdLeceYniGy5Q/qt2b5mJkQVkIdy4TPGGB+AXDJ
D0q3I/JDRkDUFNFdeW0js7fHdsvCR7O3tJy5zIgEV/o/BCkmJVtuwPYOrw/yOlKj
TY/U7ATAx9VFF6/vYEOMYSmrZlFX+98L6nJtwDqfLB5VTltqZ4H/KBxGE3IRSt9l
FXy40U+LnXzhhW+7VBAvyYX8GEXhHkKU8Gqk1xitrqfBXY74xKgyUSTolFSfFVgj
mcM/X4K45bka+qpkj7Kfv/8D4j6aZekwhN2ly6hhC1SmQ8qjMjpG/mrWOSSHZFmf
ybu9iD2AYHeIOkshIl6xYIa++Q/00/vs46IzAbQyriOi0XxlSMMVtPx0Q3isp+ji
n8Mq9eOuxYOEQ4of8twUkUDd528iwGtEdwf0Q01UyT84S62N8AySl1ZBKXJz6W4F
UhWfa/HQYOAPDdEjNgnVwLI23b8t0TozyCWw7q8h
-----END CERTIFICATE-----

-----BEGIN CERTIFICATE-----
MIIEjzCCA3egAwIBAgIQe55B/ALCKJDZtdNT8kD6hTANBgkqhkiG9w0BAQsFADBM
MSAwHgYDVQQLExdHbG9iYWxTaWduIFJvb3QgQ0EgLSBSMzETMBEGA1UEChMKR2xv
YmFsU2lnbjETMBEGA1UEAxMKR2xvYmFsU2lnbjAeFw0yMjAxMjYxMjAwMDBaFw0y
NTAxMjYwMDAwMDBaMFgxCzAJBgNVBAYTAkJFMRkwFwYDVQQKExBHbG9iYWxTaWdu
IG52LXNhMS4wLAYDVQQDEyVHbG9iYWxTaWduIEF0bGFzIFIzIE9WIFRMUyBDQSAy
MDIyIFEyMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAmGmg1LW9b7Lf
8zDD83yBDTEkt+FOxKJZqF4veWc5KZsQj9HfnUS2e5nj/E+JImlGPsQuoiosLuXD
BVBNAMcUFa11buFMGMeEMwiTmCXoXRrXQmH0qjpOfKgYc5gHG3BsRGaRrf7VR4eg
ofNMG9wUBw4/g/TT7+bQJdA4NfE7Y4d5gEryZiBGB/swaX6Jp/8MF4TgUmOWmalK
dZCKyb4sPGQFRTtElk67F7vU+wdGcrcOx1tDcIB0ncjLPMnaFicagl+daWGsKqTh
counQb6QJtYHa91KvCfKWocMxQ7OIbB5UARLPmC4CJ1/f8YFm35ebfzAeULYdGXu
jE9CLor0OwIDAQABo4IBXzCCAVswDgYDVR0PAQH/BAQDAgGGMB0GA1UdJQQWMBQG
CCsGAQUFBwMBBggrBgEFBQcDAjASBgNVHRMBAf8ECDAGAQH/AgEAMB0GA1UdDgQW
BBSH5Zq7a7B/t95GfJWkDBpA8HHqdjAfBgNVHSMEGDAWgBSP8Et/qC5FJK5NUPpj
move4t0bvDB7BggrBgEFBQcBAQRvMG0wLgYIKwYBBQUHMAGGImh0dHA6Ly9vY3Nw
Mi5nbG9iYWxzaWduLmNvbS9yb290cjMwOwYIKwYBBQUHMAKGL2h0dHA6Ly9zZWN1
cmUuZ2xvYmFsc2lnbi5jb20vY2FjZXJ0L3Jvb3QtcjMuY3J0MDYGA1UdHwQvMC0w
K6ApoCeGJWh0dHA6Ly9jcmwuZ2xvYmFsc2lnbi5jb20vcm9vdC1yMy5jcmwwIQYD
VR0gBBowGDAIBgZngQwBAgIwDAYKKwYBBAGgMgoBAjANBgkqhkiG9w0BAQsFAAOC
AQEAKRic9/f+nmhQU/wz04APZLjgG5OgsuUOyUEZjKVhNGDwxGTvKhyXGGAMW2B/
3bRi+aElpXwoxu3pL6fkElbX3B0BeS5LoDtxkyiVEBMZ8m+sXbocwlPyxrPbX6mY
0rVIvnuUeBH8X0L5IwfpNVvKnBIilTbcebfHyXkPezGwz7E1yhUULjJFm2bt0SdX
y+4X/WeiiYIv+fTVgZZgl+/2MKIsu/qdBJc3f3TvJ8nz+Eax1zgZmww+RSQWeOj3
15Iw6Z5FX+NwzY/Ab+9PosR5UosSeq+9HhtaxZttXG1nVh+avYPGYddWmiMT90J5
ZgKnO/Fx2hBgTxhOTMYaD312kg==
-----END CERTIFICATE-----

-----BEGIN CERTIFICATE-----
MIIDXzCCAkegAwIBAgILBAAAAAABIVhTCKIwDQYJKoZIhvcNAQELBQAwTDEgMB4G
A1UECxMXR2xvYmFsU2lnbiBSb290IENBIC0gUjMxEzARBgNVBAoTCkdsb2JhbFNp
Z24xEzARBgNVBAMTCkdsb2JhbFNpZ24wHhcNMDkwMzE4MTAwMDAwWhcNMjkwMzE4
MTAwMDAwWjBMMSAwHgYDVQQLExdHbG9iYWxTaWduIFJvb3QgQ0EgLSBSMzETMBEG
A1UEChMKR2xvYmFsU2lnbjETMBEGA1UEAxMKR2xvYmFsU2lnbjCCASIwDQYJKoZI
hvcNAQEBBQADggEPADCCAQoCggEBAMwldpB5BngiFvXAg7aEyiie/QV2EcWtiHL8
RgJDx7KKnQRfJMsuS+FggkbhUqsMgUdwbN1k0ev1LKMPgj0MK66X17YUhhB5uzsT
gHeMCOFJ0mpiLx9e+pZo34knlTifBtc+ycsmWQ1z3rDI6SYOgxXG71uL0gRgykmm
KPZpO/bLyCiR5Z2KYVc3rHQU3HTgOu5yLy6c+9C7v/U9AOEGM+iCK65TpjoWc4zd
QQ4gOsC0p6Hpsk+QLjJg6VfLuQSSaGjlOCZgdbKfd/+RFO+uIEn8rUAVSNECMWEZ
XriX7613t2Saer9fwRPvm2L7DWzgVGkWqQPabumDk3F2xmmFghcCAwEAAaNCMEAw
DgYDVR0PAQH/BAQDAgEGMA8GA1UdEwEB/wQFMAMBAf8wHQYDVR0OBBYEFI/wS3+o
LkUkrk1Q+mOai97i3Ru8MA0GCSqGSIb3DQEBCwUAA4IBAQBLQNvAUKr+yAzv95ZU
RUm7lgAJQayzE4aGKAczymvmdLm6AC2upArT9fHxD4q/c2dKg8dEe3jgr25sbwMp
jjM5RcOO5LlXbKr8EpbsU8Yt5CRsuZRj+9xTaGdWPoO4zzUhw8lo/s7awlOqzJCK
6fBdRoyV3XpYKBovHd7NADdBj+1EbddTKJd+82cEHhXXipa0095MJ6RMG3NzdvQX
mcIfeg7jLQitChws/zyrVQ4PkX4268NXSb7hLi18YIvDQVETI53O9zJrlAGomecs
Mx86OyXShkDOOyyGeMlhLxS67ttVb9+E7gUJTb0o2HLO02JQZR7rkpeDMdmztcpH
WD9f
-----END CERTIFICATE-----`,a={RedisCloudFixed:{ca:r},RedisCloudFlexible:{ca:r}};return ks.default=a,ks}var $f;function ue(){return $f||($f=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.noop=r.defaults=r.Debug=r.getPackageMeta=r.zipMap=r.CONNECTION_CLOSED_ERROR_MSG=r.shuffle=r.sample=r.resolveTLSProfile=r.parseURL=r.optimizeErrorStack=r.toArg=r.convertMapToArray=r.convertObjectToArray=r.timeout=r.packObject=r.isInt=r.wrapMultiResult=r.convertBufferToString=void 0;const a=Pt,h=Pt,l=Pt,d=Do();Object.defineProperty(r,"defaults",{enumerable:!0,get:function(){return d.defaults}}),Object.defineProperty(r,"noop",{enumerable:!0,get:function(){return d.noop}});const C=PS();r.Debug=C.default;const _=IS();function c(T,B){if(T instanceof Buffer)return T.toString(B);if(Array.isArray(T)){const Q=T.length,U=Array(Q);for(let tt=0;tt<Q;++tt)U[tt]=T[tt]instanceof Buffer&&B==="utf8"?T[tt].toString():c(T[tt],B);return U}return T}r.convertBufferToString=c;function p(T){if(!T)return null;const B=[],Q=T.length;for(let U=0;U<Q;++U){const tt=T[U];tt instanceof Error?B.push([tt]):B.push([null,tt])}return B}r.wrapMultiResult=p;function y(T){const B=parseFloat(T);return!isNaN(T)&&(B|0)===B}r.isInt=y;function m(T){const B={},Q=T.length;for(let U=1;U<Q;U+=2)B[T[U-1]]=T[U];return B}r.packObject=m;function g(T,B){let Q=null;const U=function(){Q&&(clearTimeout(Q),Q=null,T.apply(this,arguments))};return Q=setTimeout(U,B,new Error("timeout")),U}r.timeout=g;function b(T){const B=[],Q=Object.keys(T);for(let U=0,tt=Q.length;U<tt;U++)B.push(Q[U],T[Q[U]]);return B}r.convertObjectToArray=b;function x(T){const B=[];let Q=0;return T.forEach(function(U,tt){B[Q]=tt,B[Q+1]=U,Q+=2}),B}r.convertMapToArray=x;function v(T){return T===null||typeof T>"u"?"":String(T)}r.toArg=v;function O(T,B,Q){const U=B.split(`
`);let tt="",pt;for(pt=1;pt<U.length&&U[pt].indexOf(Q)!==-1;++pt);for(let D=pt;D<U.length;++D)tt+=`
`+U[D];if(T.stack){const D=T.stack.indexOf(`
`);T.stack=T.stack.slice(0,D)+tt}return T}r.optimizeErrorStack=O;function N(T){if(y(T))return{port:T};let B=(0,l.parse)(T,!0,!0);!B.slashes&&T[0]!=="/"&&(T="//"+T,B=(0,l.parse)(T,!0,!0));const Q=B.query||{},U={};if(B.auth){const tt=B.auth.indexOf(":");U.username=tt===-1?B.auth:B.auth.slice(0,tt),U.password=tt===-1?"":B.auth.slice(tt+1)}if(B.pathname&&(B.protocol==="redis:"||B.protocol==="rediss:"?B.pathname.length>1&&(U.db=B.pathname.slice(1)):U.path=B.pathname),B.host&&(U.host=B.hostname),B.port&&(U.port=B.port),typeof Q.family=="string"){const tt=Number.parseInt(Q.family,10);Number.isNaN(tt)||(U.family=tt)}return(0,d.defaults)(U,Q),U}r.parseURL=N;function A(T){let B=T?.tls;typeof B=="string"&&(B={profile:B});const Q=_.default[B?.profile];return Q&&(B=Object.assign({},Q,B),delete B.profile,T=Object.assign({},T,{tls:B})),T}r.resolveTLSProfile=A;function j(T,B=0){const Q=T.length;return B>=Q?null:T[B+Math.floor(Math.random()*(Q-B))]}r.sample=j;function R(T){let B=T.length;for(;B>0;){const Q=Math.floor(Math.random()*B);B--,[T[B],T[Q]]=[T[Q],T[B]]}return T}r.shuffle=R,r.CONNECTION_CLOSED_ERROR_MSG="Connection is closed.";function L(T,B){const Q=new Map;return T.forEach((U,tt)=>{Q.set(U,B[tt])}),Q}r.zipMap=L;let X=null;async function et(){if(X)return X;try{const T=(0,h.resolve)(__dirname,"..","..","package.json"),B=await a.promises.readFile(T,"utf8");return X={version:JSON.parse(B).version},X}catch{return X={version:"error-fetching-version"},X}}r.getPackageMeta=et})(co)),co}var th;function Xn(){if(th)return Ds;th=1,Object.defineProperty(Ds,"__esModule",{value:!0});const r=Ya(),a=cr(),h=Si(),l=ue();let d=class ka{constructor(y,m=[],g={},b){if(this.name=y,this.inTransaction=!1,this.isResolved=!1,this.transformed=!1,this.replyEncoding=g.replyEncoding,this.errorStack=g.errorStack,this.args=m.flat(),this.callback=b,this.initPromise(),g.keyPrefix){const x=g.keyPrefix instanceof Buffer;let v=x?g.keyPrefix:null;this._iterateKeys(O=>O instanceof Buffer?(v===null&&(v=Buffer.from(g.keyPrefix)),Buffer.concat([v,O])):x?Buffer.concat([g.keyPrefix,Buffer.from(String(O))]):g.keyPrefix+O)}g.readOnly&&(this.isReadOnly=!0)}static checkFlag(y,m){return!!this.getFlagMap()[y][m]}static setArgumentTransformer(y,m){this._transformer.argument[y]=m}static setReplyTransformer(y,m){this._transformer.reply[y]=m}static getFlagMap(){return this.flagMap||(this.flagMap=Object.keys(ka.FLAGS).reduce((y,m)=>(y[m]={},ka.FLAGS[m].forEach(g=>{y[m][g]=!0}),y),{})),this.flagMap}getSlot(){if(typeof this.slot>"u"){const y=this.getKeys()[0];this.slot=y==null?null:a(y)}return this.slot}getKeys(){return this._iterateKeys()}toWritable(y){let m;const g="*"+(this.args.length+1)+`\r
$`+Buffer.byteLength(this.name)+`\r
`+this.name+`\r
`;if(this.bufferMode){const b=new c;b.push(g);for(let x=0;x<this.args.length;++x){const v=this.args[x];v instanceof Buffer?v.length===0?b.push(`$0\r
\r
`):(b.push("$"+v.length+`\r
`),b.push(v),b.push(`\r
`)):b.push("$"+Buffer.byteLength(v)+`\r
`+v+`\r
`)}m=b.toBuffer()}else{m=g;for(let b=0;b<this.args.length;++b){const x=this.args[b];m+="$"+Buffer.byteLength(x)+`\r
`+x+`\r
`}}return m}stringifyArguments(){for(let y=0;y<this.args.length;++y){const m=this.args[y];typeof m=="string"||(m instanceof Buffer?this.bufferMode=!0:this.args[y]=(0,l.toArg)(m))}}transformReply(y){this.replyEncoding&&(y=(0,l.convertBufferToString)(y,this.replyEncoding));const m=ka._transformer.reply[this.name];return m&&(y=m(y)),y}setTimeout(y){this._commandTimeoutTimer||(this._commandTimeoutTimer=setTimeout(()=>{this.isResolved||this.reject(new Error("Command timed out"))},y))}initPromise(){const y=new Promise((m,g)=>{if(!this.transformed){this.transformed=!0;const b=ka._transformer.argument[this.name];b&&(this.args=b(this.args)),this.stringifyArguments()}this.resolve=this._convertValue(m),this.errorStack?this.reject=b=>{g((0,l.optimizeErrorStack)(b,this.errorStack.stack,__dirname))}:this.reject=g});this.promise=(0,h.default)(y,this.callback)}_iterateKeys(y=m=>m){if(typeof this.keys>"u"&&(this.keys=[],(0,r.exists)(this.name))){const m=(0,r.getKeyIndexes)(this.name,this.args);for(const g of m)this.args[g]=y(this.args[g]),this.keys.push(this.args[g])}return this.keys}_convertValue(y){return m=>{try{const g=this._commandTimeoutTimer;g&&(clearTimeout(g),delete this._commandTimeoutTimer),y(this.transformReply(m)),this.isResolved=!0}catch(g){this.reject(g)}return this.promise}}};Ds.default=d,d.FLAGS={VALID_IN_SUBSCRIBER_MODE:["subscribe","psubscribe","unsubscribe","punsubscribe","ssubscribe","sunsubscribe","ping","quit"],VALID_IN_MONITOR_MODE:["monitor","auth"],ENTER_SUBSCRIBER_MODE:["subscribe","psubscribe","ssubscribe"],EXIT_SUBSCRIBER_MODE:["unsubscribe","punsubscribe","sunsubscribe"],WILL_DISCONNECT:["quit"],HANDSHAKE_COMMANDS:["auth","select","client","readonly","info"],IGNORE_RECONNECT_ON_ERROR:["client"]},d._transformer={argument:{},reply:{}};const C=function(p){if(p.length===1){if(p[0]instanceof Map)return(0,l.convertMapToArray)(p[0]);if(typeof p[0]=="object"&&p[0]!==null)return(0,l.convertObjectToArray)(p[0])}return p},_=function(p){if(p.length===2){if(p[1]instanceof Map)return[p[0]].concat((0,l.convertMapToArray)(p[1]));if(typeof p[1]=="object"&&p[1]!==null)return[p[0]].concat((0,l.convertObjectToArray)(p[1]))}return p};d.setArgumentTransformer("mset",C),d.setArgumentTransformer("msetnx",C),d.setArgumentTransformer("hset",_),d.setArgumentTransformer("hmset",_),d.setReplyTransformer("hgetall",function(p){if(Array.isArray(p)){const y={};for(let m=0;m<p.length;m+=2){const g=p[m],b=p[m+1];g in y?Object.defineProperty(y,g,{value:b,configurable:!0,enumerable:!0,writable:!0}):y[g]=b}return y}return p});class c{constructor(){this.length=0,this.items=[]}push(y){this.length+=Buffer.byteLength(y),this.items.push(y)}toBuffer(){const y=Buffer.allocUnsafe(this.length);let m=0;for(const g of this.items){const b=Buffer.byteLength(g);Buffer.isBuffer(g)?g.copy(y,m):y.write(g,m,b),m+=b}return y}}return Ds}var Hs={},eh;function JS(){if(eh)return Hs;eh=1,Object.defineProperty(Hs,"__esModule",{value:!0});const r=ea();let a=class extends r.RedisError{constructor(l,d){super(l),this.lastNodeError=d,Error.captureStackTrace(this,this.constructor)}get name(){return this.constructor.name}};return Hs.default=a,a.defaultMessage="Failed to refresh slots cache.",Hs}var qs={},nh;function wo(){if(nh)return qs;nh=1,Object.defineProperty(qs,"__esModule",{value:!0});const r=Pt;let a=class extends r.Readable{constructor(l){super(l),this.opt=l,this._redisCursor="0",this._redisDrained=!1}_read(){if(this._redisDrained){this.push(null);return}const l=[this._redisCursor];this.opt.key&&l.unshift(this.opt.key),this.opt.match&&l.push("MATCH",this.opt.match),this.opt.type&&l.push("TYPE",this.opt.type),this.opt.count&&l.push("COUNT",String(this.opt.count)),this.opt.noValues&&l.push("NOVALUES"),this.opt.redis[this.opt.command](l,(d,C)=>{if(d){this.emit("error",d);return}this._redisCursor=C[0]instanceof Buffer?C[0].toString():C[0],this._redisCursor==="0"&&(this._redisDrained=!0),this.push(C[1])})}close(){this._redisDrained=!0}};return qs.default=a,qs}var ja={},Qs={},Ls={},mo={},ih;function WS(){return ih||(ih=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.executeWithAutoPipelining=r.getFirstValueInFlattenedArray=r.shouldUseAutoPipelining=r.notAllowedAutoPipelineCommands=r.kCallbacks=r.kExec=void 0;const a=Do(),h=cr(),l=Si();r.kExec=Symbol("exec"),r.kCallbacks=Symbol("callbacks"),r.notAllowedAutoPipelineCommands=["auth","info","script","quit","cluster","pipeline","multi","subscribe","psubscribe","unsubscribe","unpsubscribe","select","client"];function d(p,y){if(p._runningAutoPipelines.has(y)||!p._autoPipelines.has(y))return;p._runningAutoPipelines.add(y);const m=p._autoPipelines.get(y);p._autoPipelines.delete(y);const g=m[r.kCallbacks];m[r.kCallbacks]=null,m.exec(function(b,x){if(p._runningAutoPipelines.delete(y),b)for(let v=0;v<g.length;v++)process.nextTick(g[v],b);else for(let v=0;v<g.length;v++)process.nextTick(g[v],...x[v]);p._autoPipelines.has(y)&&d(p,y)})}function C(p,y,m){return y&&p.options.enableAutoPipelining&&!p.isPipeline&&!r.notAllowedAutoPipelineCommands.includes(m)&&!p.options.autoPipeliningIgnoredCommands.includes(m)}r.shouldUseAutoPipelining=C;function _(p){for(let y=0;y<p.length;y++){const m=p[y];if(typeof m=="string")return m;if(Array.isArray(m)||(0,a.isArguments)(m)){if(m.length===0)continue;return m[0]}const g=[m].flat();if(g.length>0)return g[0]}}r.getFirstValueInFlattenedArray=_;function c(p,y,m,g,b){if(p.isCluster&&!p.slots.length)return p.status==="wait"&&p.connect().catch(a.noop),(0,l.default)(new Promise(function(A,j){p.delayUntilReady(R=>{if(R){j(R);return}c(p,y,m,g,null).then(A,j)})}),b);const x=p.options.keyPrefix||"",v=p.isCluster?p.slots[h(`${x}${_(g)}`)].join(","):"main";if(!p._autoPipelines.has(v)){const A=p.pipeline();A[r.kExec]=!1,A[r.kCallbacks]=[],p._autoPipelines.set(v,A)}const O=p._autoPipelines.get(v);O[r.kExec]||(O[r.kExec]=!0,setImmediate(d,p,v));const N=new Promise(function(A,j){O[r.kCallbacks].push(function(R,L){if(R){j(R);return}A(L)}),y==="call"&&g.unshift(m),O[y](...g)});return(0,l.default)(N,b)}r.executeWithAutoPipelining=c})(mo)),mo}var Ys={},ah;function $S(){if(ah)return Ys;ah=1,Object.defineProperty(Ys,"__esModule",{value:!0});const r=Pt,a=Xn(),h=Si();let l=class{constructor(C,_=null,c="",p=!1){this.lua=C,this.numberOfKeys=_,this.keyPrefix=c,this.readOnly=p,this.sha=(0,r.createHash)("sha1").update(C).digest("hex");const y=this.sha,m=new WeakSet;this.Command=class extends a.default{toWritable(b){const x=this.reject;return this.reject=v=>{v.message.indexOf("NOSCRIPT")!==-1&&m.delete(b),x.call(this,v)},m.has(b)?this.name==="eval"&&(this.name="evalsha",this.args[0]=y):(m.add(b),this.name="eval",this.args[0]=C),super.toWritable(b)}}}execute(C,_,c,p){typeof this.numberOfKeys=="number"&&_.unshift(this.numberOfKeys),this.keyPrefix&&(c.keyPrefix=this.keyPrefix),this.readOnly&&(c.readOnly=!0);const y=new this.Command("evalsha",[this.sha,..._],c);return y.promise=y.promise.catch(m=>{if(m.message.indexOf("NOSCRIPT")===-1)throw m;const g=new this.Command("evalsha",[this.sha,..._],c);return(C.isPipeline?C.redis:C).sendCommand(g)}),(0,h.default)(y.promise,p),C.sendCommand(y)}};return Ys.default=l,Ys}var sh;function Uo(){if(sh)return Ls;sh=1,Object.defineProperty(Ls,"__esModule",{value:!0});const r=Ya(),a=WS(),h=Xn(),l=$S();let d=class{constructor(){this.options={},this.scriptsSet={},this.addedBuiltinSet=new Set}getBuiltinCommands(){return C.slice(0)}createBuiltinCommand(y){return{string:_(null,y,"utf8"),buffer:_(null,y,null)}}addBuiltinCommand(y){this.addedBuiltinSet.add(y),this[y]=_(y,y,"utf8"),this[y+"Buffer"]=_(y+"Buffer",y,null)}defineCommand(y,m){const g=new l.default(m.lua,m.numberOfKeys,this.options.keyPrefix,m.readOnly);this.scriptsSet[y]=g,this[y]=c(y,y,g,"utf8"),this[y+"Buffer"]=c(y+"Buffer",y,g,null)}sendCommand(y,m,g){throw new Error('"sendCommand" is not implemented')}};const C=r.list.filter(p=>p!=="monitor");C.push("sentinel"),C.forEach(function(p){d.prototype[p]=_(p,p,"utf8"),d.prototype[p+"Buffer"]=_(p+"Buffer",p,null)}),d.prototype.call=_("call","utf8"),d.prototype.callBuffer=_("callBuffer",null),d.prototype.send_command=d.prototype.call;function _(p,y,m){return typeof m>"u"&&(m=y,y=null),function(...g){const b=y||g.shift();let x=g[g.length-1];typeof x=="function"?g.pop():x=void 0;const v={errorStack:this.options.showFriendlyErrorStack?new Error:void 0,keyPrefix:this.options.keyPrefix,replyEncoding:m};return(0,a.shouldUseAutoPipelining)(this,p,b)?(0,a.executeWithAutoPipelining)(this,p,b,g,x):this.sendCommand(new h.default(b,g,v,x))}}function c(p,y,m,g){return function(...b){const x=typeof b[b.length-1]=="function"?b.pop():void 0,v={replyEncoding:g};return this.options.showFriendlyErrorStack&&(v.errorStack=new Error),(0,a.shouldUseAutoPipelining)(this,p,y)?(0,a.executeWithAutoPipelining)(this,p,y,b,x):m.execute(this,b,v,x)}}return Ls.default=d,Ls}var rh;function ud(){if(rh)return Qs;rh=1,Object.defineProperty(Qs,"__esModule",{value:!0});const r=cr(),a=Ya(),h=Si(),l=Pt,d=Xn(),C=ue(),_=Uo();function c(g,b){const x=r(b[0]),v=g._groupsBySlot[x];for(let O=1;O<b.length;O++)if(g._groupsBySlot[r(b[O])]!==v)return-1;return x}let p=class extends _.default{constructor(b){super(),this.redis=b,this.isPipeline=!0,this.replyPending=0,this._queue=[],this._result=[],this._transactions=0,this._shaToScript={},this.isCluster=this.redis.constructor.name==="Cluster"||this.redis.isCluster,this.options=b.options,Object.keys(b.scriptsSet).forEach(v=>{const O=b.scriptsSet[v];this._shaToScript[O.sha]=O,this[v]=b[v],this[v+"Buffer"]=b[v+"Buffer"]}),b.addedBuiltinSet.forEach(v=>{this[v]=b[v],this[v+"Buffer"]=b[v+"Buffer"]}),this.promise=new Promise((v,O)=>{this.resolve=v,this.reject=O});const x=this;Object.defineProperty(this,"length",{get:function(){return x._queue.length}})}fillResult(b,x){if(this._queue[x].name==="exec"&&Array.isArray(b[1])){const O=b[1].length;for(let N=0;N<O;N++){if(b[1][N]instanceof Error)continue;const A=this._queue[x-(O-N)];try{b[1][N]=A.transformReply(b[1][N])}catch(j){b[1][N]=j}}}if(this._result[x]=b,--this.replyPending)return;if(this.isCluster){let O=!0,N;for(let A=0;A<this._result.length;++A){const j=this._result[A][0],R=this._queue[A];if(j){if(R.name==="exec"&&j.message==="EXECABORT Transaction discarded because of previous errors.")continue;if(!N)N={name:j.name,message:j.message};else if(N.name!==j.name||N.message!==j.message){O=!1;break}}else if(!R.inTransaction&&!((0,a.exists)(R.name)&&(0,a.hasFlag)(R.name,"readonly"))){O=!1;break}}if(N&&O){const A=this,j=N.message.split(" "),R=this._queue;let L=!1;this._queue=[];for(let B=0;B<R.length;++B){if(j[0]==="ASK"&&!L&&R[B].name!=="asking"&&(!R[B-1]||R[B-1].name!=="asking")){const Q=new d.default("asking");Q.ignore=!0,this.sendCommand(Q)}R[B].initPromise(),this.sendCommand(R[B]),L=R[B].inTransaction}let X=!0;typeof this.leftRedirections>"u"&&(this.leftRedirections={});const et=function(){A.exec()},T=this.redis;if(T.handleError(N,this.leftRedirections,{moved:function(B,Q){A.preferKey=Q,T.slots[j[1]]=[Q],T._groupsBySlot[j[1]]=T._groupsIds[T.slots[j[1]].join(";")],T.refreshSlotsCache(),A.exec()},ask:function(B,Q){A.preferKey=Q,A.exec()},tryagain:et,clusterDown:et,connectionClosed:et,maxRedirections:()=>{X=!1},defaults:()=>{X=!1}}),X)return}}let v=0;for(let O=0;O<this._queue.length-v;++O)this._queue[O+v].ignore&&(v+=1),this._result[O]=this._result[O+v];this.resolve(this._result.slice(0,this._result.length-v))}sendCommand(b){this._transactions>0&&(b.inTransaction=!0);const x=this._queue.length;return b.pipelineIndex=x,b.promise.then(v=>{this.fillResult([null,v],x)}).catch(v=>{this.fillResult([v],x)}),this._queue.push(b),this}addBatch(b){let x,v,O;for(let N=0;N<b.length;++N)x=b[N],v=x[0],O=x.slice(1),this[v].apply(this,O);return this}};Qs.default=p;const y=p.prototype.multi;p.prototype.multi=function(){return this._transactions+=1,y.apply(this,arguments)};const m=p.prototype.execBuffer;return p.prototype.execBuffer=(0,l.deprecate)(function(){return this._transactions>0&&(this._transactions-=1),m.apply(this,arguments)},"Pipeline#execBuffer: Use Pipeline#exec instead"),p.prototype.exec=function(g){if(this.isCluster&&!this.redis.slots.length)return this.redis.status==="wait"&&this.redis.connect().catch(C.noop),g&&!this.nodeifiedPromise&&(this.nodeifiedPromise=!0,(0,h.default)(this.promise,g)),this.redis.delayUntilReady(O=>{if(O){this.reject(O);return}this.exec(g)}),this.promise;if(this._transactions>0)return this._transactions-=1,m.apply(this,arguments);this.nodeifiedPromise||(this.nodeifiedPromise=!0,(0,h.default)(this.promise,g)),this._queue.length||this.resolve([]);let b;if(this.isCluster){const O=[];for(let N=0;N<this._queue.length;N++){const A=this._queue[N].getKeys();if(A.length&&O.push(A[0]),A.length&&r.generateMulti(A)<0)return this.reject(new Error("All the keys in a pipeline command should belong to the same slot")),this.promise}if(O.length){if(b=c(this.redis,O),b<0)return this.reject(new Error("All keys in the pipeline should belong to the same slots allocation group")),this.promise}else b=Math.random()*16384|0}const x=this;return v(),this.promise;function v(){let O=x.replyPending=x._queue.length,N;x.isCluster&&(N={slot:b,redis:x.redis.connectionPool.nodes.all[x.preferKey]});let A="",j;const R={isPipeline:!0,destination:x.isCluster?N:{redis:x.redis},write(L){typeof L!="string"?(j||(j=[]),A&&(j.push(Buffer.from(A,"utf8")),A=""),j.push(L)):A+=L,--O||(j?(A&&j.push(Buffer.from(A,"utf8")),R.destination.redis.stream.write(Buffer.concat(j))):R.destination.redis.stream.write(A),O=x._queue.length,A="",j=void 0)}};for(let L=0;L<x._queue.length;++L)x.redis.sendCommand(x._queue[L],R,N);return x.promise}},Qs}var lh;function cd(){if(lh)return ja;lh=1,Object.defineProperty(ja,"__esModule",{value:!0}),ja.addTransactionSupport=void 0;const r=ue(),a=Si(),h=ud();function l(d){d.pipeline=function(c){const p=new h.default(this);return Array.isArray(c)&&p.addBatch(c),p};const{multi:C}=d;d.multi=function(c,p){if(typeof p>"u"&&!Array.isArray(c)&&(p=c,c=null),p&&p.pipeline===!1)return C.call(this);const y=new h.default(this);y.multi(),Array.isArray(c)&&y.addBatch(c);const m=y.exec;y.exec=function(b){if(this.isCluster&&!this.redis.slots.length)return this.redis.status==="wait"&&this.redis.connect().catch(r.noop),(0,a.default)(new Promise((v,O)=>{this.redis.delayUntilReady(N=>{if(N){O(N);return}this.exec(y).then(v,O)})}),b);if(this._transactions>0&&m.call(y),this.nodeifiedPromise)return m.call(y);const x=m.call(y);return(0,a.default)(x.then(function(v){const O=v[v.length-1];if(typeof O>"u")throw new Error("Pipeline cannot be used to send any commands when the `exec()` has been called on it.");if(O[0]){O[0].previousErrors=[];for(let N=0;N<v.length-1;++N)v[N][0]&&O[0].previousErrors.push(v[N][0]);throw O[0]}return(0,r.wrapMultiResult)(O[1])}),b)};const{execBuffer:g}=y;return y.execBuffer=function(b){return this._transactions>0&&g.call(y),y.exec(b)},y};const{exec:_}=d;d.exec=function(c){return(0,a.default)(_.call(this).then(function(p){return Array.isArray(p)&&(p=(0,r.wrapMultiResult)(p)),p}),c)}}return ja.addTransactionSupport=l,ja}var Gs={},oh;function fd(){if(oh)return Gs;oh=1,Object.defineProperty(Gs,"__esModule",{value:!0});function r(a,h){Object.getOwnPropertyNames(h.prototype).forEach(l=>{Object.defineProperty(a.prototype,l,Object.getOwnPropertyDescriptor(h.prototype,l))})}return Gs.default=r,Gs}var Ba={},uh;function tb(){if(uh)return Ba;uh=1,Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.DEFAULT_CLUSTER_OPTIONS=void 0;const r=Pt;return Ba.DEFAULT_CLUSTER_OPTIONS={clusterRetryStrategy:a=>Math.min(100+a*2,2e3),enableOfflineQueue:!0,enableReadyCheck:!0,scaleReads:"master",maxRedirections:16,retryDelayOnMoved:0,retryDelayOnFailover:100,retryDelayOnClusterDown:100,retryDelayOnTryAgain:100,slotsRefreshTimeout:1e3,useSRVRecords:!1,resolveSrv:r.resolveSrv,dnsLookup:r.lookup,enableAutoPipelining:!1,autoPipeliningIgnoredCommands:[],shardedSubscribers:!1},Ba}var Vs={},ne={},ch;function fr(){if(ch)return ne;ch=1,Object.defineProperty(ne,"__esModule",{value:!0}),ne.getConnectionName=ne.weightSrvRecords=ne.groupSrvRecords=ne.getUniqueHostnamesFromOptions=ne.normalizeNodeOptions=ne.nodeKeyToRedisOptions=ne.getNodeKey=void 0;const r=ue(),a=Pt;function h(y){return y.port=y.port||6379,y.host=y.host||"127.0.0.1",y.host+":"+y.port}ne.getNodeKey=h;function l(y){const m=y.lastIndexOf(":");if(m===-1)throw new Error(`Invalid node key ${y}`);return{host:y.slice(0,m),port:Number(y.slice(m+1))}}ne.nodeKeyToRedisOptions=l;function d(y){return y.map(m=>{const g={};if(typeof m=="object")Object.assign(g,m);else if(typeof m=="string")Object.assign(g,(0,r.parseURL)(m));else if(typeof m=="number")g.port=m;else throw new Error("Invalid argument "+m);return typeof g.port=="string"&&(g.port=parseInt(g.port,10)),delete g.db,g.port||(g.port=6379),g.host||(g.host="127.0.0.1"),(0,r.resolveTLSProfile)(g)})}ne.normalizeNodeOptions=d;function C(y){const m={};return y.forEach(g=>{m[g.host]=!0}),Object.keys(m).filter(g=>!(0,a.isIP)(g))}ne.getUniqueHostnamesFromOptions=C;function _(y){const m={};for(const g of y)m.hasOwnProperty(g.priority)?(m[g.priority].totalWeight+=g.weight,m[g.priority].records.push(g)):m[g.priority]={totalWeight:g.weight,records:[g]};return m}ne.groupSrvRecords=_;function c(y){if(y.records.length===1)return y.totalWeight=0,y.records.shift();const m=Math.floor(Math.random()*(y.totalWeight+y.records.length));let g=0;for(const[b,x]of y.records.entries())if(g+=1+x.weight,g>m)return y.totalWeight-=x.weight,y.records.splice(b,1),x}ne.weightSrvRecords=c;function p(y,m){const g=`ioredis-cluster(${y})`;return m?`${g}:${m}`:g}return ne.getConnectionName=p,ne}var fh;function hd(){if(fh)return Vs;fh=1,Object.defineProperty(Vs,"__esModule",{value:!0});const r=fr(),a=ue(),h=gi(),l=(0,a.Debug)("cluster:subscriber");let d=class{constructor(_,c,p=!1){this.connectionPool=_,this.emitter=c,this.isSharded=p,this.started=!1,this.subscriber=null,this.slotRange=[],this.onSubscriberEnd=()=>{if(!this.started){l("subscriber has disconnected, but ClusterSubscriber is not started, so not reconnecting.");return}l("subscriber has disconnected, selecting a new one..."),this.selectSubscriber()},this.connectionPool.on("-node",(y,m)=>{!this.started||!this.subscriber||(0,r.getNodeKey)(this.subscriber.options)===m&&(l("subscriber has left, selecting a new one..."),this.selectSubscriber())}),this.connectionPool.on("+node",()=>{!this.started||this.subscriber||(l("a new node is discovered and there is no subscriber, selecting a new one..."),this.selectSubscriber())})}getInstance(){return this.subscriber}associateSlotRange(_){return this.isSharded&&(this.slotRange=_),this.slotRange}start(){this.started=!0,this.selectSubscriber(),l("started")}stop(){this.started=!1,this.subscriber&&(this.subscriber.disconnect(),this.subscriber=null)}isStarted(){return this.started}selectSubscriber(){const _=this.lastActiveSubscriber;_&&(_.off("end",this.onSubscriberEnd),_.disconnect()),this.subscriber&&(this.subscriber.off("end",this.onSubscriberEnd),this.subscriber.disconnect());const c=(0,a.sample)(this.connectionPool.getNodes());if(!c){l("selecting subscriber failed since there is no node discovered in the cluster yet"),this.subscriber=null;return}const{options:p}=c;l("selected a subscriber %s:%s",p.host,p.port);let y="subscriber";this.isSharded&&(y="ssubscriber"),this.subscriber=new h.default({port:p.port,host:p.host,username:p.username,password:p.password,enableReadyCheck:!0,connectionName:(0,r.getConnectionName)(y,p.connectionName),lazyConnect:!0,tls:p.tls,retryStrategy:null}),this.subscriber.on("error",a.noop),this.subscriber.on("moved",()=>{this.emitter.emit("forceRefresh")}),this.subscriber.once("end",this.onSubscriberEnd);const m={subscribe:[],psubscribe:[],ssubscribe:[]};if(_){const g=_.condition||_.prevCondition;g&&g.subscriber&&(m.subscribe=g.subscriber.channels("subscribe"),m.psubscribe=g.subscriber.channels("psubscribe"),m.ssubscribe=g.subscriber.channels("ssubscribe"))}if(m.subscribe.length||m.psubscribe.length||m.ssubscribe.length){let g=0;for(const b of["subscribe","psubscribe","ssubscribe"]){const x=m[b];if(x.length!=0)if(l("%s %d channels",b,x.length),b==="ssubscribe")for(const v of x)g+=1,this.subscriber[b](v).then(()=>{--g||(this.lastActiveSubscriber=this.subscriber)}).catch(()=>{l("failed to ssubscribe to channel: %s",v)});else g+=1,this.subscriber[b](x).then(()=>{--g||(this.lastActiveSubscriber=this.subscriber)}).catch(()=>{l("failed to %s %d channels",b,x.length)})}}else this.lastActiveSubscriber=this.subscriber;for(const g of["message","messageBuffer"])this.subscriber.on(g,(b,x)=>{this.emitter.emit(g,b,x)});for(const g of["pmessage","pmessageBuffer"])this.subscriber.on(g,(b,x,v)=>{this.emitter.emit(g,b,x,v)});if(this.isSharded==!0)for(const g of["smessage","smessageBuffer"])this.subscriber.on(g,(b,x)=>{this.emitter.emit(g,b,x)})}};return Vs.default=d,Vs}var Ks={},hh;function dd(){if(hh)return Ks;hh=1,Object.defineProperty(Ks,"__esModule",{value:!0});const r=Pt,a=ue(),h=fr(),l=gi(),d=(0,a.Debug)("cluster:connectionPool");let C=class extends r.EventEmitter{constructor(c){super(),this.redisOptions=c,this.nodes={all:{},master:{},slave:{}},this.specifiedOptions={}}getNodes(c="all"){const p=this.nodes[c];return Object.keys(p).map(y=>p[y])}getInstanceByKey(c){return this.nodes.all[c]}getSampleInstance(c){const p=Object.keys(this.nodes[c]),y=(0,a.sample)(p);return this.nodes[c][y]}addMasterNode(c){const p=(0,h.getNodeKey)(c.options),y=this.createRedisFromOptions(c,c.options.readOnly);return c.options.readOnly?!1:(this.nodes.all[p]=y,this.nodes.master[p]=y,!0)}createRedisFromOptions(c,p){return new l.default((0,a.defaults)({retryStrategy:null,enableOfflineQueue:!0,readOnly:p},c,this.redisOptions,{lazyConnect:!0}))}findOrCreate(c,p=!1){const y=(0,h.getNodeKey)(c);p=!!p,this.specifiedOptions[y]?Object.assign(c,this.specifiedOptions[y]):this.specifiedOptions[y]=c;let m;return this.nodes.all[y]?(m=this.nodes.all[y],m.options.readOnly!==p&&(m.options.readOnly=p,d("Change role of %s to %s",y,p?"slave":"master"),m[p?"readonly":"readwrite"]().catch(a.noop),p?(delete this.nodes.master[y],this.nodes.slave[y]=m):(delete this.nodes.slave[y],this.nodes.master[y]=m))):(d("Connecting to %s as %s",y,p?"slave":"master"),m=this.createRedisFromOptions(c,p),this.nodes.all[y]=m,this.nodes[p?"slave":"master"][y]=m,m.once("end",()=>{this.removeNode(y),this.emit("-node",m,y),Object.keys(this.nodes.all).length||this.emit("drain")}),this.emit("+node",m,y),m.on("error",function(g){this.emit("nodeError",g,y)})),m}reset(c){d("Reset with %O",c);const p={};c.forEach(y=>{const m=(0,h.getNodeKey)(y);y.readOnly&&p[m]||(p[m]=y)}),Object.keys(this.nodes.all).forEach(y=>{p[y]||(d("Disconnect %s because the node does not hold any slot",y),this.nodes.all[y].disconnect(),this.removeNode(y))}),Object.keys(p).forEach(y=>{const m=p[y];this.findOrCreate(m,m.readOnly)})}removeNode(c){const{nodes:p}=this;p.all[c]&&(d("Remove %s from the pool",c),delete p.all[c]),delete p.master[c],delete p.slave[c]}};return Ks.default=C,Ks}var Fs={},go,dh;function ko(){if(dh)return go;dh=1;function r(a,l){var l=l||{};this._capacity=l.capacity,this._head=0,this._tail=0,Array.isArray(a)?this._fromArray(a):(this._capacityMask=3,this._list=new Array(4))}return r.prototype.peekAt=function(h){var l=h;if(l===(l|0)){var d=this.size();if(!(l>=d||l<-d))return l<0&&(l+=d),l=this._head+l&this._capacityMask,this._list[l]}},r.prototype.get=function(h){return this.peekAt(h)},r.prototype.peek=function(){if(this._head!==this._tail)return this._list[this._head]},r.prototype.peekFront=function(){return this.peek()},r.prototype.peekBack=function(){return this.peekAt(-1)},Object.defineProperty(r.prototype,"length",{get:function(){return this.size()}}),r.prototype.size=function(){return this._head===this._tail?0:this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)},r.prototype.unshift=function(h){if(arguments.length===0)return this.size();var l=this._list.length;return this._head=this._head-1+l&this._capacityMask,this._list[this._head]=h,this._tail===this._head&&this._growArray(),this._capacity&&this.size()>this._capacity&&this.pop(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)},r.prototype.shift=function(){var h=this._head;if(h!==this._tail){var l=this._list[h];return this._list[h]=void 0,this._head=h+1&this._capacityMask,h<2&&this._tail>1e4&&this._tail<=this._list.length>>>2&&this._shrinkArray(),l}},r.prototype.push=function(h){if(arguments.length===0)return this.size();var l=this._tail;return this._list[l]=h,this._tail=l+1&this._capacityMask,this._tail===this._head&&this._growArray(),this._capacity&&this.size()>this._capacity&&this.shift(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)},r.prototype.pop=function(){var h=this._tail;if(h!==this._head){var l=this._list.length;this._tail=h-1+l&this._capacityMask;var d=this._list[this._tail];return this._list[this._tail]=void 0,this._head<2&&h>1e4&&h<=l>>>2&&this._shrinkArray(),d}},r.prototype.removeOne=function(h){var l=h;if(l===(l|0)&&this._head!==this._tail){var d=this.size(),C=this._list.length;if(!(l>=d||l<-d)){l<0&&(l+=d),l=this._head+l&this._capacityMask;var _=this._list[l],c;if(h<d/2){for(c=h;c>0;c--)this._list[l]=this._list[l=l-1+C&this._capacityMask];this._list[l]=void 0,this._head=this._head+1+C&this._capacityMask}else{for(c=d-1-h;c>0;c--)this._list[l]=this._list[l=l+1+C&this._capacityMask];this._list[l]=void 0,this._tail=this._tail-1+C&this._capacityMask}return _}}},r.prototype.remove=function(h,l){var d=h,C,_=l;if(d===(d|0)&&this._head!==this._tail){var c=this.size(),p=this._list.length;if(!(d>=c||d<-c||l<1)){if(d<0&&(d+=c),l===1||!l)return C=new Array(1),C[0]=this.removeOne(d),C;if(d===0&&d+l>=c)return C=this.toArray(),this.clear(),C;d+l>c&&(l=c-d);var y;for(C=new Array(l),y=0;y<l;y++)C[y]=this._list[this._head+d+y&this._capacityMask];if(d=this._head+d&this._capacityMask,h+l===c){for(this._tail=this._tail-l+p&this._capacityMask,y=l;y>0;y--)this._list[d=d+1+p&this._capacityMask]=void 0;return C}if(h===0){for(this._head=this._head+l+p&this._capacityMask,y=l-1;y>0;y--)this._list[d=d+1+p&this._capacityMask]=void 0;return C}if(d<c/2){for(this._head=this._head+h+l+p&this._capacityMask,y=h;y>0;y--)this.unshift(this._list[d=d-1+p&this._capacityMask]);for(d=this._head-1+p&this._capacityMask;_>0;)this._list[d=d-1+p&this._capacityMask]=void 0,_--;h<0&&(this._tail=d)}else{for(this._tail=d,d=d+l+p&this._capacityMask,y=c-(l+h);y>0;y--)this.push(this._list[d++]);for(d=this._tail;_>0;)this._list[d=d+1+p&this._capacityMask]=void 0,_--}return this._head<2&&this._tail>1e4&&this._tail<=p>>>2&&this._shrinkArray(),C}}},r.prototype.splice=function(h,l){var d=h;if(d===(d|0)){var C=this.size();if(d<0&&(d+=C),!(d>C))if(arguments.length>2){var _,c,p,y=arguments.length,m=this._list.length,g=2;if(!C||d<C/2){for(c=new Array(d),_=0;_<d;_++)c[_]=this._list[this._head+_&this._capacityMask];for(l===0?(p=[],d>0&&(this._head=this._head+d+m&this._capacityMask)):(p=this.remove(d,l),this._head=this._head+d+m&this._capacityMask);y>g;)this.unshift(arguments[--y]);for(_=d;_>0;_--)this.unshift(c[_-1])}else{c=new Array(C-(d+l));var b=c.length;for(_=0;_<b;_++)c[_]=this._list[this._head+d+l+_&this._capacityMask];for(l===0?(p=[],d!=C&&(this._tail=this._head+d+m&this._capacityMask)):(p=this.remove(d,l),this._tail=this._tail-b+m&this._capacityMask);g<y;)this.push(arguments[g++]);for(_=0;_<b;_++)this.push(c[_])}return p}else return this.remove(d,l)}},r.prototype.clear=function(){this._list=new Array(this._list.length),this._head=0,this._tail=0},r.prototype.isEmpty=function(){return this._head===this._tail},r.prototype.toArray=function(){return this._copyArray(!1)},r.prototype._fromArray=function(h){var l=h.length,d=this._nextPowerOf2(l);this._list=new Array(d),this._capacityMask=d-1,this._tail=l;for(var C=0;C<l;C++)this._list[C]=h[C]},r.prototype._copyArray=function(h,l){var d=this._list,C=d.length,_=this.length;if(l=l|_,l==_&&this._head<this._tail)return this._list.slice(this._head,this._tail);var c=new Array(l),p=0,y;if(h||this._head>this._tail){for(y=this._head;y<C;y++)c[p++]=d[y];for(y=0;y<this._tail;y++)c[p++]=d[y]}else for(y=this._head;y<this._tail;y++)c[p++]=d[y];return c},r.prototype._growArray=function(){if(this._head!=0){var h=this._copyArray(!0,this._list.length<<1);this._tail=this._list.length,this._head=0,this._list=h}else this._tail=this._list.length,this._list.length<<=1;this._capacityMask=this._capacityMask<<1|1},r.prototype._shrinkArray=function(){this._list.length>>>=1,this._capacityMask>>>=1},r.prototype._nextPowerOf2=function(h){var l=Math.log(h)/Math.log(2),d=1<<l+1;return Math.max(d,4)},go=r,go}var ph;function eb(){if(ph)return Fs;ph=1,Object.defineProperty(Fs,"__esModule",{value:!0});const r=ue(),a=ko(),h=(0,r.Debug)("delayqueue");let l=class{constructor(){this.queues={},this.timeouts={}}push(C,_,c){const p=c.callback||process.nextTick;this.queues[C]||(this.queues[C]=new a),this.queues[C].push(_),this.timeouts[C]||(this.timeouts[C]=setTimeout(()=>{p(()=>{this.timeouts[C]=null,this.execute(C)})},c.timeout))}execute(C){const _=this.queues[C];if(!_)return;const{length:c}=_;if(c)for(h("send %d commands in %s queue",c,C),this.queues[C]=null;_.length>0;)_.shift()()}};return Fs.default=l,Fs}var Xs={},yh;function nb(){if(yh)return Xs;yh=1,Object.defineProperty(Xs,"__esModule",{value:!0});const r=ue(),a=hd(),h=dd(),l=fr(),d=cr(),C=(0,r.Debug)("cluster:subscriberGroup");let _=class{constructor(p,y){this.cluster=p,this.shardedSubscribers=new Map,this.clusterSlots=[],this.subscriberToSlotsIndex=new Map,this.channels=new Map,p.on("+node",m=>{this._addSubscriber(m)}),p.on("-node",m=>{this._removeSubscriber(m)}),p.on("refresh",()=>{this._refreshSlots(p)}),p.on("forceRefresh",()=>{y()})}getResponsibleSubscriber(p){const y=this.clusterSlots[p][0];return this.shardedSubscribers.get(y)}addChannels(p){const y=d(p[0]);p.forEach(g=>{if(d(g)!=y)return-1});const m=this.channels.get(y);return m?this.channels.set(y,m.concat(p)):this.channels.set(y,p),[...this.channels.values()].flatMap(g=>g).length}removeChannels(p){const y=d(p[0]);p.forEach(g=>{if(d(g)!=y)return-1});const m=this.channels.get(y);if(m){const g=m.filter(b=>!p.includes(b));this.channels.set(y,g)}return[...this.channels.values()].flatMap(g=>g).length}stop(){for(const p of this.shardedSubscribers.values())p.stop()}start(){for(const p of this.shardedSubscribers.values())p.isStarted()||p.start()}_addSubscriber(p){const y=new h.default(p.options);if(y.addMasterNode(p)){const m=new a.default(y,this.cluster,!0),g=(0,l.getNodeKey)(p.options);return this.shardedSubscribers.set(g,m),m.start(),this._resubscribe(),this.cluster.emit("+subscriber"),m}return null}_removeSubscriber(p){const y=(0,l.getNodeKey)(p.options),m=this.shardedSubscribers.get(y);return m&&(m.stop(),this.shardedSubscribers.delete(y),this._resubscribe(),this.cluster.emit("-subscriber")),this.shardedSubscribers}_refreshSlots(p){if(this._slotsAreEqual(p.slots))C("Nothing to refresh because the new cluster map is equal to the previous one.");else{C("Refreshing the slots of the subscriber group."),this.subscriberToSlotsIndex=new Map;for(let y=0;y<p.slots.length;y++){const m=p.slots[y][0];this.subscriberToSlotsIndex.has(m)||this.subscriberToSlotsIndex.set(m,[]),this.subscriberToSlotsIndex.get(m).push(Number(y))}return this._resubscribe(),this.clusterSlots=JSON.parse(JSON.stringify(p.slots)),this.cluster.emit("subscribersReady"),!0}return!1}_resubscribe(){this.shardedSubscribers&&this.shardedSubscribers.forEach((p,y)=>{const m=this.subscriberToSlotsIndex.get(y);m&&(p.associateSlotRange(m),m.forEach(g=>{const b=p.getInstance(),x=this.channels.get(g);x&&x.length>0&&b&&(b.ssubscribe(x),b.on("ready",()=>{b.ssubscribe(x)}))}))})}_slotsAreEqual(p){return this.clusterSlots===void 0?!1:JSON.stringify(this.clusterSlots)===JSON.stringify(p)}};return Xs.default=_,Xs}var mh;function pd(){if(mh)return zs;mh=1,Object.defineProperty(zs,"__esModule",{value:!0});const r=Ya(),a=Pt,h=ea(),l=Si(),d=Xn(),C=JS(),_=gi(),c=wo(),p=cd(),y=ue(),m=fd(),g=Uo(),b=tb(),x=hd(),v=dd(),O=eb(),N=fr(),A=ko(),j=nb(),R=(0,y.Debug)("cluster"),L=new WeakSet;class X extends g.default{constructor(T,B={}){if(super(),this.slots=[],this._groupsIds={},this._groupsBySlot=Array(16384),this.isCluster=!0,this.retryAttempts=0,this.delayQueue=new O.default,this.offlineQueue=new A,this.isRefreshing=!1,this._refreshSlotsCacheCallbacks=[],this._autoPipelines=new Map,this._runningAutoPipelines=new Set,this._readyDelayedCallbacks=[],this.connectionEpoch=0,a.EventEmitter.call(this),this.startupNodes=T,this.options=(0,y.defaults)({},B,b.DEFAULT_CLUSTER_OPTIONS,this.options),this.options.shardedSubscribers==!0&&(this.shardedSubscribers=new j.default(this,this.refreshSlotsCache.bind(this))),this.options.redisOptions&&this.options.redisOptions.keyPrefix&&!this.options.keyPrefix&&(this.options.keyPrefix=this.options.redisOptions.keyPrefix),typeof this.options.scaleReads!="function"&&["all","master","slave"].indexOf(this.options.scaleReads)===-1)throw new Error('Invalid option scaleReads "'+this.options.scaleReads+'". Expected "all", "master", "slave" or a custom function');this.connectionPool=new v.default(this.options.redisOptions),this.connectionPool.on("-node",(Q,U)=>{this.emit("-node",Q)}),this.connectionPool.on("+node",Q=>{this.emit("+node",Q)}),this.connectionPool.on("drain",()=>{this.setStatus("close")}),this.connectionPool.on("nodeError",(Q,U)=>{this.emit("node error",Q,U)}),this.subscriber=new x.default(this.connectionPool,this),this.options.scripts&&Object.entries(this.options.scripts).forEach(([Q,U])=>{this.defineCommand(Q,U)}),this.options.lazyConnect?this.setStatus("wait"):this.connect().catch(Q=>{R("connecting failed: %s",Q)})}connect(){return new Promise((T,B)=>{if(this.status==="connecting"||this.status==="connect"||this.status==="ready"){B(new Error("Redis is already connecting/connected"));return}const Q=++this.connectionEpoch;this.setStatus("connecting"),this.resolveStartupNodeHostnames().then(U=>{if(this.connectionEpoch!==Q){R("discard connecting after resolving startup nodes because epoch not match: %d != %d",Q,this.connectionEpoch),B(new h.RedisError("Connection is discarded because a new connection is made"));return}if(this.status!=="connecting"){R("discard connecting after resolving startup nodes because the status changed to %s",this.status),B(new h.RedisError("Connection is aborted"));return}this.connectionPool.reset(U);const tt=()=>{this.setStatus("ready"),this.retryAttempts=0,this.executeOfflineCommands(),this.resetNodesRefreshInterval(),T()};let pt;const D=()=>{this.invokeReadyDelayedCallbacks(void 0),this.removeListener("close",pt),this.manuallyClosing=!1,this.setStatus("connect"),this.options.enableReadyCheck?this.readyCheck((G,at)=>{G||at?(R("Ready check failed (%s). Reconnecting...",G||at),this.status==="connect"&&this.disconnect(!0)):tt()}):tt()};pt=()=>{const G=new Error("None of startup nodes is available");this.removeListener("refresh",D),this.invokeReadyDelayedCallbacks(G),B(G)},this.once("refresh",D),this.once("close",pt),this.once("close",this.handleCloseEvent.bind(this)),this.refreshSlotsCache(G=>{G&&G.message===C.default.defaultMessage&&(_.default.prototype.silentEmit.call(this,"error",G),this.connectionPool.reset([]))}),this.subscriber.start(),this.options.shardedSubscribers&&this.shardedSubscribers.start()}).catch(U=>{this.setStatus("close"),this.handleCloseEvent(U),this.invokeReadyDelayedCallbacks(U),B(U)})})}disconnect(T=!1){const B=this.status;this.setStatus("disconnecting"),T||(this.manuallyClosing=!0),this.reconnectTimeout&&!T&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null,R("Canceled reconnecting attempts")),this.clearNodesRefreshInterval(),this.subscriber.stop(),this.options.shardedSubscribers&&this.shardedSubscribers.stop(),B==="wait"?(this.setStatus("close"),this.handleCloseEvent()):this.connectionPool.reset([])}quit(T){const B=this.status;if(this.setStatus("disconnecting"),this.manuallyClosing=!0,this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null),this.clearNodesRefreshInterval(),this.subscriber.stop(),this.options.shardedSubscribers&&this.shardedSubscribers.stop(),B==="wait"){const Q=(0,l.default)(Promise.resolve("OK"),T);return setImmediate((function(){this.setStatus("close"),this.handleCloseEvent()}).bind(this)),Q}return(0,l.default)(Promise.all(this.nodes().map(Q=>Q.quit().catch(U=>{if(U.message===y.CONNECTION_CLOSED_ERROR_MSG)return"OK";throw U}))).then(()=>"OK"),T)}duplicate(T=[],B={}){const Q=T.length>0?T:this.startupNodes.slice(0),U=Object.assign({},this.options,B);return new X(Q,U)}nodes(T="all"){if(T!=="all"&&T!=="master"&&T!=="slave")throw new Error('Invalid role "'+T+'". Expected "all", "master" or "slave"');return this.connectionPool.getNodes(T)}delayUntilReady(T){this._readyDelayedCallbacks.push(T)}get autoPipelineQueueSize(){let T=0;for(const B of this._autoPipelines.values())T+=B.length;return T}refreshSlotsCache(T){if(T&&this._refreshSlotsCacheCallbacks.push(T),this.isRefreshing)return;this.isRefreshing=!0;const B=this,Q=D=>{this.isRefreshing=!1;for(const G of this._refreshSlotsCacheCallbacks)G(D);this._refreshSlotsCacheCallbacks=[]},U=(0,y.shuffle)(this.connectionPool.getNodes());let tt=null;function pt(D){if(D===U.length){const k=new C.default(C.default.defaultMessage,tt);return Q(k)}const G=U[D],at=`${G.options.host}:${G.options.port}`;R("getting slot cache from %s",at),B.getInfoFromNode(G,function(k){switch(B.status){case"close":case"end":return Q(new Error("Cluster is disconnected."));case"disconnecting":return Q(new Error("Cluster is disconnecting."))}k?(B.emit("node error",k,at),tt=k,pt(D+1)):(B.emit("refresh"),Q())})}pt(0)}sendCommand(T,B,Q){if(this.status==="wait"&&this.connect().catch(y.noop),this.status==="end")return T.reject(new Error(y.CONNECTION_CLOSED_ERROR_MSG)),T.promise;let U=this.options.scaleReads;U!=="master"&&(T.isReadOnly||(0,r.exists)(T.name)&&(0,r.hasFlag)(T.name,"readonly")||(U="master"));let tt=Q?Q.slot:T.getSlot();const pt={},D=this;if(!Q&&!L.has(T)){L.add(T);const at=T.reject;T.reject=function(k){const F=G.bind(null,!0);D.handleError(k,pt,{moved:function(Z,w){R("command %s is moved to %s",T.name,w),tt=Number(Z),D.slots[Z]?D.slots[Z][0]=w:D.slots[Z]=[w],D._groupsBySlot[Z]=D._groupsIds[D.slots[Z].join(";")],D.connectionPool.findOrCreate(D.natMapper(w)),G(),R("refreshing slot caches... (triggered by MOVED error)"),D.refreshSlotsCache()},ask:function(Z,w){R("command %s is required to ask %s:%s",T.name,w);const W=D.natMapper(w);D.connectionPool.findOrCreate(W),G(!1,`${W.host}:${W.port}`)},tryagain:F,clusterDown:F,connectionClosed:F,maxRedirections:function(Z){at.call(T,Z)},defaults:function(){at.call(T,k)}})}}G();function G(at,k){if(D.status==="end"){T.reject(new h.AbortError("Cluster is ended."));return}let F;if(D.status==="ready"||T.name==="cluster"){if(Q&&Q.redis)F=Q.redis;else if(d.default.checkFlag("ENTER_SUBSCRIBER_MODE",T.name)||d.default.checkFlag("EXIT_SUBSCRIBER_MODE",T.name)){if(D.options.shardedSubscribers==!0&&(T.name=="ssubscribe"||T.name=="sunsubscribe")){const Z=D.shardedSubscribers.getResponsibleSubscriber(tt);let w=-1;T.name=="ssubscribe"&&(w=D.shardedSubscribers.addChannels(T.getKeys())),T.name=="sunsubscribe"&&(w=D.shardedSubscribers.removeChannels(T.getKeys())),w!==-1?F=Z.getInstance():T.reject(new h.AbortError("Can't add or remove the given channels. Are they in the same slot?"))}else F=D.subscriber.getInstance();if(!F){T.reject(new h.AbortError("No subscriber for the cluster"));return}}else{if(!at){if(typeof tt=="number"&&D.slots[tt]){const Z=D.slots[tt];if(typeof U=="function"){const w=Z.map(function(W){return D.connectionPool.getInstanceByKey(W)});F=U(w,T),Array.isArray(F)&&(F=(0,y.sample)(F)),F||(F=w[0])}else{let w;U==="all"?w=(0,y.sample)(Z):U==="slave"&&Z.length>1?w=(0,y.sample)(Z,1):w=Z[0],F=D.connectionPool.getInstanceByKey(w)}}k&&(F=D.connectionPool.getInstanceByKey(k),F.asking())}F||(F=(typeof U=="function"?null:D.connectionPool.getSampleInstance(U))||D.connectionPool.getSampleInstance("all"))}Q&&!Q.redis&&(Q.redis=F)}F?F.sendCommand(T,B):D.options.enableOfflineQueue?D.offlineQueue.push({command:T,stream:B,node:Q}):T.reject(new Error("Cluster isn't ready and enableOfflineQueue options is false"))}return T.promise}sscanStream(T,B){return this.createScanStream("sscan",{key:T,options:B})}sscanBufferStream(T,B){return this.createScanStream("sscanBuffer",{key:T,options:B})}hscanStream(T,B){return this.createScanStream("hscan",{key:T,options:B})}hscanBufferStream(T,B){return this.createScanStream("hscanBuffer",{key:T,options:B})}zscanStream(T,B){return this.createScanStream("zscan",{key:T,options:B})}zscanBufferStream(T,B){return this.createScanStream("zscanBuffer",{key:T,options:B})}handleError(T,B,Q){if(typeof B.value>"u"?B.value=this.options.maxRedirections:B.value-=1,B.value<=0){Q.maxRedirections(new Error("Too many Cluster redirections. Last error: "+T));return}const U=T.message.split(" ");if(U[0]==="MOVED"){const tt=this.options.retryDelayOnMoved;tt&&typeof tt=="number"?this.delayQueue.push("moved",Q.moved.bind(null,U[1],U[2]),{timeout:tt}):Q.moved(U[1],U[2])}else U[0]==="ASK"?Q.ask(U[1],U[2]):U[0]==="TRYAGAIN"?this.delayQueue.push("tryagain",Q.tryagain,{timeout:this.options.retryDelayOnTryAgain}):U[0]==="CLUSTERDOWN"&&this.options.retryDelayOnClusterDown>0?this.delayQueue.push("clusterdown",Q.connectionClosed,{timeout:this.options.retryDelayOnClusterDown,callback:this.refreshSlotsCache.bind(this)}):T.message===y.CONNECTION_CLOSED_ERROR_MSG&&this.options.retryDelayOnFailover>0&&this.status==="ready"?this.delayQueue.push("failover",Q.connectionClosed,{timeout:this.options.retryDelayOnFailover,callback:this.refreshSlotsCache.bind(this)}):Q.defaults()}resetOfflineQueue(){this.offlineQueue=new A}clearNodesRefreshInterval(){this.slotsTimer&&(clearTimeout(this.slotsTimer),this.slotsTimer=null)}resetNodesRefreshInterval(){if(this.slotsTimer||!this.options.slotsRefreshInterval)return;const T=()=>{this.slotsTimer=setTimeout(()=>{R('refreshing slot caches... (triggered by "slotsRefreshInterval" option)'),this.refreshSlotsCache(()=>{T()})},this.options.slotsRefreshInterval)};T()}setStatus(T){R("status: %s -> %s",this.status||"[empty]",T),this.status=T,process.nextTick(()=>{this.emit(T)})}handleCloseEvent(T){T&&R("closed because %s",T);let B;!this.manuallyClosing&&typeof this.options.clusterRetryStrategy=="function"&&(B=this.options.clusterRetryStrategy.call(this,++this.retryAttempts,T)),typeof B=="number"?(this.setStatus("reconnecting"),this.reconnectTimeout=setTimeout(()=>{this.reconnectTimeout=null,R("Cluster is disconnected. Retrying after %dms",B),this.connect().catch(function(Q){R("Got error %s when reconnecting. Ignoring...",Q)})},B)):(this.setStatus("end"),this.flushQueue(new Error("None of startup nodes is available")))}flushQueue(T){let B;for(;B=this.offlineQueue.shift();)B.command.reject(T)}executeOfflineCommands(){if(this.offlineQueue.length){R("send %d commands in offline queue",this.offlineQueue.length);const T=this.offlineQueue;this.resetOfflineQueue();let B;for(;B=T.shift();)this.sendCommand(B.command,B.stream,B.node)}}natMapper(T){const B=typeof T=="string"?T:`${T.host}:${T.port}`;let Q=null;return this.options.natMap&&typeof this.options.natMap=="function"?Q=this.options.natMap(B):this.options.natMap&&typeof this.options.natMap=="object"&&(Q=this.options.natMap[B]),Q?(R("NAT mapping %s -> %O",B,Q),Object.assign({},Q)):typeof T=="string"?(0,N.nodeKeyToRedisOptions)(T):T}getInfoFromNode(T,B){if(!T)return B(new Error("Node is disconnected"));const Q=T.duplicate({enableOfflineQueue:!0,enableReadyCheck:!1,retryStrategy:null,connectionName:(0,N.getConnectionName)("refresher",this.options.redisOptions&&this.options.redisOptions.connectionName)});Q.on("error",y.noop),Q.cluster("SLOTS",(0,y.timeout)((U,tt)=>{if(Q.disconnect(),U)return R("error encountered running CLUSTER.SLOTS: %s",U),B(U);if(this.status==="disconnecting"||this.status==="close"||this.status==="end"){R("ignore CLUSTER.SLOTS results (count: %d) since cluster status is %s",tt.length,this.status),B();return}const pt=[];R("cluster slots result count: %d",tt.length);for(let G=0;G<tt.length;++G){const at=tt[G],k=at[0],F=at[1],Z=[];for(let w=2;w<at.length;w++){if(!at[w][0])continue;const W=this.natMapper({host:at[w][0],port:at[w][1]});W.readOnly=w!==2,pt.push(W),Z.push(W.host+":"+W.port)}R("cluster slots result [%d]: slots %d~%d served by %s",G,k,F,Z);for(let w=k;w<=F;w++)this.slots[w]=Z}this._groupsIds=Object.create(null);let D=0;for(let G=0;G<16384;G++){const at=(this.slots[G]||[]).join(";");if(!at.length){this._groupsBySlot[G]=void 0;continue}this._groupsIds[at]||(this._groupsIds[at]=++D),this._groupsBySlot[G]=this._groupsIds[at]}this.connectionPool.reset(pt),B()},this.options.slotsRefreshTimeout))}invokeReadyDelayedCallbacks(T){for(const B of this._readyDelayedCallbacks)process.nextTick(B,T);this._readyDelayedCallbacks=[]}readyCheck(T){this.cluster("INFO",(B,Q)=>{if(B)return T(B);if(typeof Q!="string")return T();let U;const tt=Q.split(`\r
`);for(let pt=0;pt<tt.length;++pt){const D=tt[pt].split(":");if(D[0]==="cluster_state"){U=D[1];break}}U==="fail"?(R("cluster state not ok (%s)",U),T(null,U)):T()})}resolveSrv(T){return new Promise((B,Q)=>{this.options.resolveSrv(T,(U,tt)=>{if(U)return Q(U);const pt=this,D=(0,N.groupSrvRecords)(tt),G=Object.keys(D).sort((k,F)=>parseInt(k)-parseInt(F));function at(k){if(!G.length)return Q(k);const F=G[0],Z=D[F],w=(0,N.weightSrvRecords)(Z);Z.records.length||G.shift(),pt.dnsLookup(w.name).then(W=>B({host:W,port:w.port}),at)}at()})})}dnsLookup(T){return new Promise((B,Q)=>{this.options.dnsLookup(T,(U,tt)=>{U?(R("failed to resolve hostname %s to IP: %s",T,U.message),Q(U)):(R("resolved hostname %s to IP %s",T,tt),B(tt))})})}async resolveStartupNodeHostnames(){if(!Array.isArray(this.startupNodes)||this.startupNodes.length===0)throw new Error("`startupNodes` should contain at least one node.");const T=(0,N.normalizeNodeOptions)(this.startupNodes),B=(0,N.getUniqueHostnamesFromOptions)(T);if(B.length===0)return T;const Q=await Promise.all(B.map((this.options.useSRVRecords?this.resolveSrv:this.dnsLookup).bind(this))),U=(0,y.zipMap)(B,Q);return T.map(tt=>{const pt=U.get(tt.host);return pt?this.options.useSRVRecords?Object.assign({},tt,pt):Object.assign({},tt,{host:pt}):tt})}createScanStream(T,{key:B,options:Q={}}){return new c.default({objectMode:!0,key:B,redis:this,command:T,...Q})}}return(0,m.default)(X,a.EventEmitter),(0,p.addTransactionSupport)(X.prototype),zs.default=X,zs}var mi={},Zs={},Ps={},gh;function Ho(){if(gh)return Ps;gh=1,Object.defineProperty(Ps,"__esModule",{value:!0});const a=(0,ue().Debug)("AbstractConnector");let h=class{constructor(d){this.connecting=!1,this.disconnectTimeout=d}check(d){return!0}disconnect(){if(this.connecting=!1,this.stream){const d=this.stream,C=setTimeout(()=>{a("stream %s:%s still open, destroying it",d.remoteAddress,d.remotePort),d.destroy()},this.disconnectTimeout);d.on("close",()=>clearTimeout(C)),d.end()}}};return Ps.default=h,Ps}var vh;function ib(){if(vh)return Zs;vh=1,Object.defineProperty(Zs,"__esModule",{value:!0});const r=Pt,a=Pt,h=ue(),l=Ho();let d=class extends l.default{constructor(_){super(_.disconnectTimeout),this.options=_}connect(_){const{options:c}=this;this.connecting=!0;let p;return"path"in c&&c.path?p={path:c.path}:(p={},"port"in c&&c.port!=null&&(p.port=c.port),"host"in c&&c.host!=null&&(p.host=c.host),"family"in c&&c.family!=null&&(p.family=c.family)),c.tls&&Object.assign(p,c.tls),new Promise((y,m)=>{process.nextTick(()=>{if(!this.connecting){m(new Error(h.CONNECTION_CLOSED_ERROR_MSG));return}try{c.tls?this.stream=(0,a.connect)(p):this.stream=(0,r.createConnection)(p)}catch(g){m(g);return}this.stream.once("error",g=>{this.firstError=g}),y(this.stream)})})}};return Zs.default=d,Zs}var Ii={},Is={},Sh;function ab(){if(Sh)return Is;Sh=1,Object.defineProperty(Is,"__esModule",{value:!0});function r(h,l){return(h.host||"127.0.0.1")===(l.host||"127.0.0.1")&&(h.port||26379)===(l.port||26379)}let a=class{constructor(l){this.cursor=0,this.sentinels=l.slice(0)}next(){const l=this.cursor>=this.sentinels.length;return{done:l,value:l?void 0:this.sentinels[this.cursor++]}}reset(l){l&&this.sentinels.length>1&&this.cursor!==1&&this.sentinels.unshift(...this.sentinels.splice(this.cursor-1)),this.cursor=0}add(l){for(let d=0;d<this.sentinels.length;d++)if(r(l,this.sentinels[d]))return!1;return this.sentinels.push(l),!0}toString(){return`${JSON.stringify(this.sentinels)} @${this.cursor}`}};return Is.default=a,Is}var za={},bh;function sb(){if(bh)return za;bh=1,Object.defineProperty(za,"__esModule",{value:!0}),za.FailoverDetector=void 0;const a=(0,ue().Debug)("FailoverDetector"),h="+switch-master";let l=class{constructor(C,_){this.isDisconnected=!1,this.connector=C,this.sentinels=_}cleanup(){this.isDisconnected=!0;for(const C of this.sentinels)C.client.disconnect()}async subscribe(){a("Starting FailoverDetector");const C=[];for(const _ of this.sentinels){const c=_.client.subscribe(h).catch(p=>{a("Failed to subscribe to failover messages on sentinel %s:%s (%s)",_.address.host||"127.0.0.1",_.address.port||26739,p.message)});C.push(c),_.client.on("message",p=>{!this.isDisconnected&&p===h&&this.disconnect()})}await Promise.all(C)}disconnect(){this.isDisconnected=!0,a("Failover detected, disconnecting"),this.connector.disconnect()}};return za.FailoverDetector=l,za}var Eh;function qo(){if(Eh)return Ii;Eh=1,Object.defineProperty(Ii,"__esModule",{value:!0}),Ii.SentinelIterator=void 0;const r=Pt,a=ue(),h=Pt,l=ab();Ii.SentinelIterator=l.default;const d=Ho(),C=gi(),_=sb(),c=(0,a.Debug)("SentinelConnector");let p=class extends d.default{constructor(x){if(super(x.disconnectTimeout),this.options=x,this.emitter=null,this.failoverDetector=null,!this.options.sentinels.length)throw new Error("Requires at least one sentinel to connect to.");if(!this.options.name)throw new Error("Requires the name of master.");this.sentinelIterator=new l.default(this.options.sentinels)}check(x){const v=!x.role||this.options.role===x.role;return v||(c("role invalid, expected %s, but got %s",this.options.role,x.role),this.sentinelIterator.next(),this.sentinelIterator.next(),this.sentinelIterator.reset(!0)),v}disconnect(){super.disconnect(),this.failoverDetector&&this.failoverDetector.cleanup()}connect(x){this.connecting=!0,this.retryAttempts=0;let v;const O=async()=>{const N=this.sentinelIterator.next();if(N.done){this.sentinelIterator.reset(!1);const L=typeof this.options.sentinelRetryStrategy=="function"?this.options.sentinelRetryStrategy(++this.retryAttempts):null;let X=typeof L!="number"?"All sentinels are unreachable and retry is disabled.":`All sentinels are unreachable. Retrying from scratch after ${L}ms.`;v&&(X+=` Last error: ${v.message}`),c(X);const et=new Error(X);if(typeof L=="number")return x("error",et),await new Promise(T=>setTimeout(T,L)),O();throw et}let A=null,j=null;try{A=await this.resolve(N.value)}catch(L){j=L}if(!this.connecting)throw new Error(a.CONNECTION_CLOSED_ERROR_MSG);const R=N.value.host+":"+N.value.port;if(A)return c("resolved: %s:%s from sentinel %s",A.host,A.port,R),this.options.enableTLSForSentinelMode&&this.options.tls?(Object.assign(A,this.options.tls),this.stream=(0,h.connect)(A),this.stream.once("secureConnect",this.initFailoverDetector.bind(this))):(this.stream=(0,r.createConnection)(A),this.stream.once("connect",this.initFailoverDetector.bind(this))),this.stream.once("error",L=>{this.firstError=L}),this.stream;{const L=j?"failed to connect to sentinel "+R+" because "+j.message:"connected to sentinel "+R+" successfully, but got an invalid reply: "+A;return c(L),x("sentinelError",new Error(L)),j&&(v=j),O()}};return O()}async updateSentinels(x){if(!this.options.updateSentinels)return;const v=await x.sentinel("sentinels",this.options.name);Array.isArray(v)&&(v.map(a.packObject).forEach(O=>{if((O.flags?O.flags.split(","):[]).indexOf("disconnected")===-1&&O.ip&&O.port){const A=this.sentinelNatResolve(m(O));this.sentinelIterator.add(A)&&c("adding sentinel %s:%s",A.host,A.port)}}),c("Updated internal sentinels: %s",this.sentinelIterator))}async resolveMaster(x){const v=await x.sentinel("get-master-addr-by-name",this.options.name);return await this.updateSentinels(x),this.sentinelNatResolve(Array.isArray(v)?{host:v[0],port:Number(v[1])}:null)}async resolveSlave(x){const v=await x.sentinel("slaves",this.options.name);if(!Array.isArray(v))return null;const O=v.map(a.packObject).filter(N=>N.flags&&!N.flags.match(/(disconnected|s_down|o_down)/));return this.sentinelNatResolve(y(O,this.options.preferredSlaves))}sentinelNatResolve(x){if(!x||!this.options.natMap)return x;const v=`${x.host}:${x.port}`;let O=x;return typeof this.options.natMap=="function"?O=this.options.natMap(v)||x:typeof this.options.natMap=="object"&&(O=this.options.natMap[v]||x),O}connectToSentinel(x,v){return new C.default({port:x.port||26379,host:x.host,username:this.options.sentinelUsername||null,password:this.options.sentinelPassword||null,family:x.family||("path"in this.options&&this.options.path?void 0:this.options.family),tls:this.options.sentinelTLS,retryStrategy:null,enableReadyCheck:!1,connectTimeout:this.options.connectTimeout,commandTimeout:this.options.sentinelCommandTimeout,...v})}async resolve(x){const v=this.connectToSentinel(x);v.on("error",g);try{return this.options.role==="slave"?await this.resolveSlave(v):await this.resolveMaster(v)}finally{v.disconnect()}}async initFailoverDetector(){var x;if(!this.options.failoverDetector)return;this.sentinelIterator.reset(!0);const v=[];for(;v.length<this.options.sentinelMaxConnections;){const{done:O,value:N}=this.sentinelIterator.next();if(O)break;const A=this.connectToSentinel(N,{lazyConnect:!0,retryStrategy:this.options.sentinelReconnectStrategy});A.on("reconnecting",()=>{var j;(j=this.emitter)===null||j===void 0||j.emit("sentinelReconnecting")}),v.push({address:N,client:A})}this.sentinelIterator.reset(!1),this.failoverDetector&&this.failoverDetector.cleanup(),this.failoverDetector=new _.FailoverDetector(this,v),await this.failoverDetector.subscribe(),(x=this.emitter)===null||x===void 0||x.emit("failoverSubscribed")}};Ii.default=p;function y(b,x){if(b.length===0)return null;let v;if(typeof x=="function")v=x(b);else if(x!==null&&typeof x=="object"){const O=Array.isArray(x)?x:[x];O.sort((N,A)=>(N.prio||(N.prio=1),A.prio||(A.prio=1),N.prio<A.prio?-1:N.prio>A.prio?1:0));for(let N=0;N<O.length;N++){for(let A=0;A<b.length;A++){const j=b[A];if(j.ip===O[N].ip&&j.port===O[N].port){v=j;break}}if(v)break}}return v||(v=(0,a.sample)(b)),m(v)}function m(b){return{host:b.ip,port:Number(b.port)}}function g(){}return Ii}var _h;function rb(){if(_h)return mi;_h=1,Object.defineProperty(mi,"__esModule",{value:!0}),mi.SentinelConnector=mi.StandaloneConnector=void 0;const r=ib();mi.StandaloneConnector=r.default;const a=qo();return mi.SentinelConnector=a.default,mi}var vo={},Da={},Js={},xh;function lb(){if(xh)return Js;xh=1,Object.defineProperty(Js,"__esModule",{value:!0});const r=ea();let a=class extends r.AbortError{constructor(l){const d=`Reached the max retries per request limit (which is ${l}). Refer to "maxRetriesPerRequest" option for details.`;super(d),Error.captureStackTrace(this,this.constructor)}get name(){return this.constructor.name}};return Js.default=a,Js}var Ch;function ob(){if(Ch)return Da;Ch=1,Object.defineProperty(Da,"__esModule",{value:!0}),Da.MaxRetriesPerRequestError=void 0;const r=lb();return Da.MaxRetriesPerRequestError=r.default,Da}var Ws={},So={},wa={},Ah;function ub(){if(Ah)return wa;Ah=1,wa.byteLength=c,wa.toByteArray=y,wa.fromByteArray=b;for(var r=[],a=[],h=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,C=l.length;d<C;++d)r[d]=l[d],a[l.charCodeAt(d)]=d;a[45]=62,a[95]=63;function _(x){var v=x.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var O=x.indexOf("=");O===-1&&(O=v);var N=O===v?0:4-O%4;return[O,N]}function c(x){var v=_(x),O=v[0],N=v[1];return(O+N)*3/4-N}function p(x,v,O){return(v+O)*3/4-O}function y(x){var v,O=_(x),N=O[0],A=O[1],j=new h(p(x,N,A)),R=0,L=A>0?N-4:N,X;for(X=0;X<L;X+=4)v=a[x.charCodeAt(X)]<<18|a[x.charCodeAt(X+1)]<<12|a[x.charCodeAt(X+2)]<<6|a[x.charCodeAt(X+3)],j[R++]=v>>16&255,j[R++]=v>>8&255,j[R++]=v&255;return A===2&&(v=a[x.charCodeAt(X)]<<2|a[x.charCodeAt(X+1)]>>4,j[R++]=v&255),A===1&&(v=a[x.charCodeAt(X)]<<10|a[x.charCodeAt(X+1)]<<4|a[x.charCodeAt(X+2)]>>2,j[R++]=v>>8&255,j[R++]=v&255),j}function m(x){return r[x>>18&63]+r[x>>12&63]+r[x>>6&63]+r[x&63]}function g(x,v,O){for(var N,A=[],j=v;j<O;j+=3)N=(x[j]<<16&16711680)+(x[j+1]<<8&65280)+(x[j+2]&255),A.push(m(N));return A.join("")}function b(x){for(var v,O=x.length,N=O%3,A=[],j=16383,R=0,L=O-N;R<L;R+=j)A.push(g(x,R,R+j>L?L:R+j));return N===1?(v=x[O-1],A.push(r[v>>2]+r[v<<4&63]+"==")):N===2&&(v=(x[O-2]<<8)+x[O-1],A.push(r[v>>10]+r[v>>4&63]+r[v<<2&63]+"=")),A.join("")}return wa}var $s={};var Th;function cb(){return Th||(Th=1,$s.read=function(r,a,h,l,d){var C,_,c=d*8-l-1,p=(1<<c)-1,y=p>>1,m=-7,g=h?d-1:0,b=h?-1:1,x=r[a+g];for(g+=b,C=x&(1<<-m)-1,x>>=-m,m+=c;m>0;C=C*256+r[a+g],g+=b,m-=8);for(_=C&(1<<-m)-1,C>>=-m,m+=l;m>0;_=_*256+r[a+g],g+=b,m-=8);if(C===0)C=1-y;else{if(C===p)return _?NaN:(x?-1:1)*(1/0);_=_+Math.pow(2,l),C=C-y}return(x?-1:1)*_*Math.pow(2,C-l)},$s.write=function(r,a,h,l,d,C){var _,c,p,y=C*8-d-1,m=(1<<y)-1,g=m>>1,b=d===23?Math.pow(2,-24)-Math.pow(2,-77):0,x=l?0:C-1,v=l?1:-1,O=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(c=isNaN(a)?1:0,_=m):(_=Math.floor(Math.log(a)/Math.LN2),a*(p=Math.pow(2,-_))<1&&(_--,p*=2),_+g>=1?a+=b/p:a+=b*Math.pow(2,1-g),a*p>=2&&(_++,p/=2),_+g>=m?(c=0,_=m):_+g>=1?(c=(a*p-1)*Math.pow(2,d),_=_+g):(c=a*Math.pow(2,g-1)*Math.pow(2,d),_=0));d>=8;r[h+x]=c&255,x+=v,c/=256,d-=8);for(_=_<<d|c,y+=d;y>0;r[h+x]=_&255,x+=v,_/=256,y-=8);r[h+x-v]|=O*128}),$s}var Mh;function fb(){return Mh||(Mh=1,(function(r){const a=ub(),h=cb(),l=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=c,r.SlowBuffer=j,r.INSPECT_MAX_BYTES=50;const d=2147483647;r.kMaxLength=d,c.TYPED_ARRAY_SUPPORT=C(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function C(){try{const S=new Uint8Array(1),o={foo:function(){return 42}};return Object.setPrototypeOf(o,Uint8Array.prototype),Object.setPrototypeOf(S,o),S.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function _(S){if(S>d)throw new RangeError('The value "'+S+'" is invalid for option "size"');const o=new Uint8Array(S);return Object.setPrototypeOf(o,c.prototype),o}function c(S,o,f){if(typeof S=="number"){if(typeof o=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(S)}return p(S,o,f)}c.poolSize=8192;function p(S,o,f){if(typeof S=="string")return b(S,o);if(ArrayBuffer.isView(S))return v(S);if(S==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S);if(de(S,ArrayBuffer)||S&&de(S.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(de(S,SharedArrayBuffer)||S&&de(S.buffer,SharedArrayBuffer)))return O(S,o,f);if(typeof S=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const M=S.valueOf&&S.valueOf();if(M!=null&&M!==S)return c.from(M,o,f);const q=N(S);if(q)return q;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof S[Symbol.toPrimitive]=="function")return c.from(S[Symbol.toPrimitive]("string"),o,f);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S)}c.from=function(S,o,f){return p(S,o,f)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function y(S){if(typeof S!="number")throw new TypeError('"size" argument must be of type number');if(S<0)throw new RangeError('The value "'+S+'" is invalid for option "size"')}function m(S,o,f){return y(S),S<=0?_(S):o!==void 0?typeof f=="string"?_(S).fill(o,f):_(S).fill(o):_(S)}c.alloc=function(S,o,f){return m(S,o,f)};function g(S){return y(S),_(S<0?0:A(S)|0)}c.allocUnsafe=function(S){return g(S)},c.allocUnsafeSlow=function(S){return g(S)};function b(S,o){if((typeof o!="string"||o==="")&&(o="utf8"),!c.isEncoding(o))throw new TypeError("Unknown encoding: "+o);const f=R(S,o)|0;let M=_(f);const q=M.write(S,o);return q!==f&&(M=M.slice(0,q)),M}function x(S){const o=S.length<0?0:A(S.length)|0,f=_(o);for(let M=0;M<o;M+=1)f[M]=S[M]&255;return f}function v(S){if(de(S,Uint8Array)){const o=new Uint8Array(S);return O(o.buffer,o.byteOffset,o.byteLength)}return x(S)}function O(S,o,f){if(o<0||S.byteLength<o)throw new RangeError('"offset" is outside of buffer bounds');if(S.byteLength<o+(f||0))throw new RangeError('"length" is outside of buffer bounds');let M;return o===void 0&&f===void 0?M=new Uint8Array(S):f===void 0?M=new Uint8Array(S,o):M=new Uint8Array(S,o,f),Object.setPrototypeOf(M,c.prototype),M}function N(S){if(c.isBuffer(S)){const o=A(S.length)|0,f=_(o);return f.length===0||S.copy(f,0,0,o),f}if(S.length!==void 0)return typeof S.length!="number"||We(S.length)?_(0):x(S);if(S.type==="Buffer"&&Array.isArray(S.data))return x(S.data)}function A(S){if(S>=d)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+d.toString(16)+" bytes");return S|0}function j(S){return+S!=S&&(S=0),c.alloc(+S)}c.isBuffer=function(o){return o!=null&&o._isBuffer===!0&&o!==c.prototype},c.compare=function(o,f){if(de(o,Uint8Array)&&(o=c.from(o,o.offset,o.byteLength)),de(f,Uint8Array)&&(f=c.from(f,f.offset,f.byteLength)),!c.isBuffer(o)||!c.isBuffer(f))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(o===f)return 0;let M=o.length,q=f.length;for(let I=0,$=Math.min(M,q);I<$;++I)if(o[I]!==f[I]){M=o[I],q=f[I];break}return M<q?-1:q<M?1:0},c.isEncoding=function(o){switch(String(o).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(o,f){if(!Array.isArray(o))throw new TypeError('"list" argument must be an Array of Buffers');if(o.length===0)return c.alloc(0);let M;if(f===void 0)for(f=0,M=0;M<o.length;++M)f+=o[M].length;const q=c.allocUnsafe(f);let I=0;for(M=0;M<o.length;++M){let $=o[M];if(de($,Uint8Array))I+$.length>q.length?(c.isBuffer($)||($=c.from($)),$.copy(q,I)):Uint8Array.prototype.set.call(q,$,I);else if(c.isBuffer($))$.copy(q,I);else throw new TypeError('"list" argument must be an Array of Buffers');I+=$.length}return q};function R(S,o){if(c.isBuffer(S))return S.length;if(ArrayBuffer.isView(S)||de(S,ArrayBuffer))return S.byteLength;if(typeof S!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof S);const f=S.length,M=arguments.length>2&&arguments[2]===!0;if(!M&&f===0)return 0;let q=!1;for(;;)switch(o){case"ascii":case"latin1":case"binary":return f;case"utf8":case"utf-8":return fe(S).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f*2;case"hex":return f>>>1;case"base64":return he(S).length;default:if(q)return M?-1:fe(S).length;o=(""+o).toLowerCase(),q=!0}}c.byteLength=R;function L(S,o,f){let M=!1;if((o===void 0||o<0)&&(o=0),o>this.length||((f===void 0||f>this.length)&&(f=this.length),f<=0)||(f>>>=0,o>>>=0,f<=o))return"";for(S||(S="utf8");;)switch(S){case"hex":return w(this,o,f);case"utf8":case"utf-8":return G(this,o,f);case"ascii":return F(this,o,f);case"latin1":case"binary":return Z(this,o,f);case"base64":return D(this,o,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,o,f);default:if(M)throw new TypeError("Unknown encoding: "+S);S=(S+"").toLowerCase(),M=!0}}c.prototype._isBuffer=!0;function X(S,o,f){const M=S[o];S[o]=S[f],S[f]=M}c.prototype.swap16=function(){const o=this.length;if(o%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let f=0;f<o;f+=2)X(this,f,f+1);return this},c.prototype.swap32=function(){const o=this.length;if(o%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let f=0;f<o;f+=4)X(this,f,f+3),X(this,f+1,f+2);return this},c.prototype.swap64=function(){const o=this.length;if(o%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let f=0;f<o;f+=8)X(this,f,f+7),X(this,f+1,f+6),X(this,f+2,f+5),X(this,f+3,f+4);return this},c.prototype.toString=function(){const o=this.length;return o===0?"":arguments.length===0?G(this,0,o):L.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(o){if(!c.isBuffer(o))throw new TypeError("Argument must be a Buffer");return this===o?!0:c.compare(this,o)===0},c.prototype.inspect=function(){let o="";const f=r.INSPECT_MAX_BYTES;return o=this.toString("hex",0,f).replace(/(.{2})/g,"$1 ").trim(),this.length>f&&(o+=" ... "),"<Buffer "+o+">"},l&&(c.prototype[l]=c.prototype.inspect),c.prototype.compare=function(o,f,M,q,I){if(de(o,Uint8Array)&&(o=c.from(o,o.offset,o.byteLength)),!c.isBuffer(o))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof o);if(f===void 0&&(f=0),M===void 0&&(M=o?o.length:0),q===void 0&&(q=0),I===void 0&&(I=this.length),f<0||M>o.length||q<0||I>this.length)throw new RangeError("out of range index");if(q>=I&&f>=M)return 0;if(q>=I)return-1;if(f>=M)return 1;if(f>>>=0,M>>>=0,q>>>=0,I>>>=0,this===o)return 0;let $=I-q,gt=M-f;const Rt=Math.min($,gt),H=this.slice(q,I),st=o.slice(f,M);for(let ut=0;ut<Rt;++ut)if(H[ut]!==st[ut]){$=H[ut],gt=st[ut];break}return $<gt?-1:gt<$?1:0};function et(S,o,f,M,q){if(S.length===0)return-1;if(typeof f=="string"?(M=f,f=0):f>2147483647?f=2147483647:f<-2147483648&&(f=-2147483648),f=+f,We(f)&&(f=q?0:S.length-1),f<0&&(f=S.length+f),f>=S.length){if(q)return-1;f=S.length-1}else if(f<0)if(q)f=0;else return-1;if(typeof o=="string"&&(o=c.from(o,M)),c.isBuffer(o))return o.length===0?-1:T(S,o,f,M,q);if(typeof o=="number")return o=o&255,typeof Uint8Array.prototype.indexOf=="function"?q?Uint8Array.prototype.indexOf.call(S,o,f):Uint8Array.prototype.lastIndexOf.call(S,o,f):T(S,[o],f,M,q);throw new TypeError("val must be string, number or Buffer")}function T(S,o,f,M,q){let I=1,$=S.length,gt=o.length;if(M!==void 0&&(M=String(M).toLowerCase(),M==="ucs2"||M==="ucs-2"||M==="utf16le"||M==="utf-16le")){if(S.length<2||o.length<2)return-1;I=2,$/=2,gt/=2,f/=2}function Rt(st,ut){return I===1?st[ut]:st.readUInt16BE(ut*I)}let H;if(q){let st=-1;for(H=f;H<$;H++)if(Rt(S,H)===Rt(o,st===-1?0:H-st)){if(st===-1&&(st=H),H-st+1===gt)return st*I}else st!==-1&&(H-=H-st),st=-1}else for(f+gt>$&&(f=$-gt),H=f;H>=0;H--){let st=!0;for(let ut=0;ut<gt;ut++)if(Rt(S,H+ut)!==Rt(o,ut)){st=!1;break}if(st)return H}return-1}c.prototype.includes=function(o,f,M){return this.indexOf(o,f,M)!==-1},c.prototype.indexOf=function(o,f,M){return et(this,o,f,M,!0)},c.prototype.lastIndexOf=function(o,f,M){return et(this,o,f,M,!1)};function B(S,o,f,M){f=Number(f)||0;const q=S.length-f;M?(M=Number(M),M>q&&(M=q)):M=q;const I=o.length;M>I/2&&(M=I/2);let $;for($=0;$<M;++$){const gt=parseInt(o.substr($*2,2),16);if(We(gt))return $;S[f+$]=gt}return $}function Q(S,o,f,M){return xe(fe(o,S.length-f),S,f,M)}function U(S,o,f,M){return xe(In(o),S,f,M)}function tt(S,o,f,M){return xe(he(o),S,f,M)}function pt(S,o,f,M){return xe(un(o,S.length-f),S,f,M)}c.prototype.write=function(o,f,M,q){if(f===void 0)q="utf8",M=this.length,f=0;else if(M===void 0&&typeof f=="string")q=f,M=this.length,f=0;else if(isFinite(f))f=f>>>0,isFinite(M)?(M=M>>>0,q===void 0&&(q="utf8")):(q=M,M=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const I=this.length-f;if((M===void 0||M>I)&&(M=I),o.length>0&&(M<0||f<0)||f>this.length)throw new RangeError("Attempt to write outside buffer bounds");q||(q="utf8");let $=!1;for(;;)switch(q){case"hex":return B(this,o,f,M);case"utf8":case"utf-8":return Q(this,o,f,M);case"ascii":case"latin1":case"binary":return U(this,o,f,M);case"base64":return tt(this,o,f,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pt(this,o,f,M);default:if($)throw new TypeError("Unknown encoding: "+q);q=(""+q).toLowerCase(),$=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function D(S,o,f){return o===0&&f===S.length?a.fromByteArray(S):a.fromByteArray(S.slice(o,f))}function G(S,o,f){f=Math.min(S.length,f);const M=[];let q=o;for(;q<f;){const I=S[q];let $=null,gt=I>239?4:I>223?3:I>191?2:1;if(q+gt<=f){let Rt,H,st,ut;switch(gt){case 1:I<128&&($=I);break;case 2:Rt=S[q+1],(Rt&192)===128&&(ut=(I&31)<<6|Rt&63,ut>127&&($=ut));break;case 3:Rt=S[q+1],H=S[q+2],(Rt&192)===128&&(H&192)===128&&(ut=(I&15)<<12|(Rt&63)<<6|H&63,ut>2047&&(ut<55296||ut>57343)&&($=ut));break;case 4:Rt=S[q+1],H=S[q+2],st=S[q+3],(Rt&192)===128&&(H&192)===128&&(st&192)===128&&(ut=(I&15)<<18|(Rt&63)<<12|(H&63)<<6|st&63,ut>65535&&ut<1114112&&($=ut))}}$===null?($=65533,gt=1):$>65535&&($-=65536,M.push($>>>10&1023|55296),$=56320|$&1023),M.push($),q+=gt}return k(M)}const at=4096;function k(S){const o=S.length;if(o<=at)return String.fromCharCode.apply(String,S);let f="",M=0;for(;M<o;)f+=String.fromCharCode.apply(String,S.slice(M,M+=at));return f}function F(S,o,f){let M="";f=Math.min(S.length,f);for(let q=o;q<f;++q)M+=String.fromCharCode(S[q]&127);return M}function Z(S,o,f){let M="";f=Math.min(S.length,f);for(let q=o;q<f;++q)M+=String.fromCharCode(S[q]);return M}function w(S,o,f){const M=S.length;(!o||o<0)&&(o=0),(!f||f<0||f>M)&&(f=M);let q="";for(let I=o;I<f;++I)q+=$e[S[I]];return q}function W(S,o,f){const M=S.slice(o,f);let q="";for(let I=0;I<M.length-1;I+=2)q+=String.fromCharCode(M[I]+M[I+1]*256);return q}c.prototype.slice=function(o,f){const M=this.length;o=~~o,f=f===void 0?M:~~f,o<0?(o+=M,o<0&&(o=0)):o>M&&(o=M),f<0?(f+=M,f<0&&(f=0)):f>M&&(f=M),f<o&&(f=o);const q=this.subarray(o,f);return Object.setPrototypeOf(q,c.prototype),q};function nt(S,o,f){if(S%1!==0||S<0)throw new RangeError("offset is not uint");if(S+o>f)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(o,f,M){o=o>>>0,f=f>>>0,M||nt(o,f,this.length);let q=this[o],I=1,$=0;for(;++$<f&&(I*=256);)q+=this[o+$]*I;return q},c.prototype.readUintBE=c.prototype.readUIntBE=function(o,f,M){o=o>>>0,f=f>>>0,M||nt(o,f,this.length);let q=this[o+--f],I=1;for(;f>0&&(I*=256);)q+=this[o+--f]*I;return q},c.prototype.readUint8=c.prototype.readUInt8=function(o,f){return o=o>>>0,f||nt(o,1,this.length),this[o]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(o,f){return o=o>>>0,f||nt(o,2,this.length),this[o]|this[o+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(o,f){return o=o>>>0,f||nt(o,2,this.length),this[o]<<8|this[o+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(o,f){return o=o>>>0,f||nt(o,4,this.length),(this[o]|this[o+1]<<8|this[o+2]<<16)+this[o+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(o,f){return o=o>>>0,f||nt(o,4,this.length),this[o]*16777216+(this[o+1]<<16|this[o+2]<<8|this[o+3])},c.prototype.readBigUInt64LE=Ce(function(o){o=o>>>0,ce(o,"offset");const f=this[o],M=this[o+7];(f===void 0||M===void 0)&&_e(o,this.length-8);const q=f+this[++o]*2**8+this[++o]*2**16+this[++o]*2**24,I=this[++o]+this[++o]*2**8+this[++o]*2**16+M*2**24;return BigInt(q)+(BigInt(I)<<BigInt(32))}),c.prototype.readBigUInt64BE=Ce(function(o){o=o>>>0,ce(o,"offset");const f=this[o],M=this[o+7];(f===void 0||M===void 0)&&_e(o,this.length-8);const q=f*2**24+this[++o]*2**16+this[++o]*2**8+this[++o],I=this[++o]*2**24+this[++o]*2**16+this[++o]*2**8+M;return(BigInt(q)<<BigInt(32))+BigInt(I)}),c.prototype.readIntLE=function(o,f,M){o=o>>>0,f=f>>>0,M||nt(o,f,this.length);let q=this[o],I=1,$=0;for(;++$<f&&(I*=256);)q+=this[o+$]*I;return I*=128,q>=I&&(q-=Math.pow(2,8*f)),q},c.prototype.readIntBE=function(o,f,M){o=o>>>0,f=f>>>0,M||nt(o,f,this.length);let q=f,I=1,$=this[o+--q];for(;q>0&&(I*=256);)$+=this[o+--q]*I;return I*=128,$>=I&&($-=Math.pow(2,8*f)),$},c.prototype.readInt8=function(o,f){return o=o>>>0,f||nt(o,1,this.length),this[o]&128?(255-this[o]+1)*-1:this[o]},c.prototype.readInt16LE=function(o,f){o=o>>>0,f||nt(o,2,this.length);const M=this[o]|this[o+1]<<8;return M&32768?M|4294901760:M},c.prototype.readInt16BE=function(o,f){o=o>>>0,f||nt(o,2,this.length);const M=this[o+1]|this[o]<<8;return M&32768?M|4294901760:M},c.prototype.readInt32LE=function(o,f){return o=o>>>0,f||nt(o,4,this.length),this[o]|this[o+1]<<8|this[o+2]<<16|this[o+3]<<24},c.prototype.readInt32BE=function(o,f){return o=o>>>0,f||nt(o,4,this.length),this[o]<<24|this[o+1]<<16|this[o+2]<<8|this[o+3]},c.prototype.readBigInt64LE=Ce(function(o){o=o>>>0,ce(o,"offset");const f=this[o],M=this[o+7];(f===void 0||M===void 0)&&_e(o,this.length-8);const q=this[o+4]+this[o+5]*2**8+this[o+6]*2**16+(M<<24);return(BigInt(q)<<BigInt(32))+BigInt(f+this[++o]*2**8+this[++o]*2**16+this[++o]*2**24)}),c.prototype.readBigInt64BE=Ce(function(o){o=o>>>0,ce(o,"offset");const f=this[o],M=this[o+7];(f===void 0||M===void 0)&&_e(o,this.length-8);const q=(f<<24)+this[++o]*2**16+this[++o]*2**8+this[++o];return(BigInt(q)<<BigInt(32))+BigInt(this[++o]*2**24+this[++o]*2**16+this[++o]*2**8+M)}),c.prototype.readFloatLE=function(o,f){return o=o>>>0,f||nt(o,4,this.length),h.read(this,o,!0,23,4)},c.prototype.readFloatBE=function(o,f){return o=o>>>0,f||nt(o,4,this.length),h.read(this,o,!1,23,4)},c.prototype.readDoubleLE=function(o,f){return o=o>>>0,f||nt(o,8,this.length),h.read(this,o,!0,52,8)},c.prototype.readDoubleBE=function(o,f){return o=o>>>0,f||nt(o,8,this.length),h.read(this,o,!1,52,8)};function ot(S,o,f,M,q,I){if(!c.isBuffer(S))throw new TypeError('"buffer" argument must be a Buffer instance');if(o>q||o<I)throw new RangeError('"value" argument is out of bounds');if(f+M>S.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(o,f,M,q){if(o=+o,f=f>>>0,M=M>>>0,!q){const gt=Math.pow(2,8*M)-1;ot(this,o,f,M,gt,0)}let I=1,$=0;for(this[f]=o&255;++$<M&&(I*=256);)this[f+$]=o/I&255;return f+M},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(o,f,M,q){if(o=+o,f=f>>>0,M=M>>>0,!q){const gt=Math.pow(2,8*M)-1;ot(this,o,f,M,gt,0)}let I=M-1,$=1;for(this[f+I]=o&255;--I>=0&&($*=256);)this[f+I]=o/$&255;return f+M},c.prototype.writeUint8=c.prototype.writeUInt8=function(o,f,M){return o=+o,f=f>>>0,M||ot(this,o,f,1,255,0),this[f]=o&255,f+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(o,f,M){return o=+o,f=f>>>0,M||ot(this,o,f,2,65535,0),this[f]=o&255,this[f+1]=o>>>8,f+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(o,f,M){return o=+o,f=f>>>0,M||ot(this,o,f,2,65535,0),this[f]=o>>>8,this[f+1]=o&255,f+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(o,f,M){return o=+o,f=f>>>0,M||ot(this,o,f,4,4294967295,0),this[f+3]=o>>>24,this[f+2]=o>>>16,this[f+1]=o>>>8,this[f]=o&255,f+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(o,f,M){return o=+o,f=f>>>0,M||ot(this,o,f,4,4294967295,0),this[f]=o>>>24,this[f+1]=o>>>16,this[f+2]=o>>>8,this[f+3]=o&255,f+4};function St(S,o,f,M,q){Ke(o,M,q,S,f,7);let I=Number(o&BigInt(4294967295));S[f++]=I,I=I>>8,S[f++]=I,I=I>>8,S[f++]=I,I=I>>8,S[f++]=I;let $=Number(o>>BigInt(32)&BigInt(4294967295));return S[f++]=$,$=$>>8,S[f++]=$,$=$>>8,S[f++]=$,$=$>>8,S[f++]=$,f}function dt(S,o,f,M,q){Ke(o,M,q,S,f,7);let I=Number(o&BigInt(4294967295));S[f+7]=I,I=I>>8,S[f+6]=I,I=I>>8,S[f+5]=I,I=I>>8,S[f+4]=I;let $=Number(o>>BigInt(32)&BigInt(4294967295));return S[f+3]=$,$=$>>8,S[f+2]=$,$=$>>8,S[f+1]=$,$=$>>8,S[f]=$,f+8}c.prototype.writeBigUInt64LE=Ce(function(o,f=0){return St(this,o,f,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=Ce(function(o,f=0){return dt(this,o,f,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(o,f,M,q){if(o=+o,f=f>>>0,!q){const Rt=Math.pow(2,8*M-1);ot(this,o,f,M,Rt-1,-Rt)}let I=0,$=1,gt=0;for(this[f]=o&255;++I<M&&($*=256);)o<0&&gt===0&&this[f+I-1]!==0&&(gt=1),this[f+I]=(o/$>>0)-gt&255;return f+M},c.prototype.writeIntBE=function(o,f,M,q){if(o=+o,f=f>>>0,!q){const Rt=Math.pow(2,8*M-1);ot(this,o,f,M,Rt-1,-Rt)}let I=M-1,$=1,gt=0;for(this[f+I]=o&255;--I>=0&&($*=256);)o<0&&gt===0&&this[f+I+1]!==0&&(gt=1),this[f+I]=(o/$>>0)-gt&255;return f+M},c.prototype.writeInt8=function(o,f,M){return o=+o,f=f>>>0,M||ot(this,o,f,1,127,-128),o<0&&(o=255+o+1),this[f]=o&255,f+1},c.prototype.writeInt16LE=function(o,f,M){return o=+o,f=f>>>0,M||ot(this,o,f,2,32767,-32768),this[f]=o&255,this[f+1]=o>>>8,f+2},c.prototype.writeInt16BE=function(o,f,M){return o=+o,f=f>>>0,M||ot(this,o,f,2,32767,-32768),this[f]=o>>>8,this[f+1]=o&255,f+2},c.prototype.writeInt32LE=function(o,f,M){return o=+o,f=f>>>0,M||ot(this,o,f,4,2147483647,-2147483648),this[f]=o&255,this[f+1]=o>>>8,this[f+2]=o>>>16,this[f+3]=o>>>24,f+4},c.prototype.writeInt32BE=function(o,f,M){return o=+o,f=f>>>0,M||ot(this,o,f,4,2147483647,-2147483648),o<0&&(o=4294967295+o+1),this[f]=o>>>24,this[f+1]=o>>>16,this[f+2]=o>>>8,this[f+3]=o&255,f+4},c.prototype.writeBigInt64LE=Ce(function(o,f=0){return St(this,o,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=Ce(function(o,f=0){return dt(this,o,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function xt(S,o,f,M,q,I){if(f+M>S.length)throw new RangeError("Index out of range");if(f<0)throw new RangeError("Index out of range")}function It(S,o,f,M,q){return o=+o,f=f>>>0,q||xt(S,o,f,4),h.write(S,o,f,M,23,4),f+4}c.prototype.writeFloatLE=function(o,f,M){return It(this,o,f,!0,M)},c.prototype.writeFloatBE=function(o,f,M){return It(this,o,f,!1,M)};function ln(S,o,f,M,q){return o=+o,f=f>>>0,q||xt(S,o,f,8),h.write(S,o,f,M,52,8),f+8}c.prototype.writeDoubleLE=function(o,f,M){return ln(this,o,f,!0,M)},c.prototype.writeDoubleBE=function(o,f,M){return ln(this,o,f,!1,M)},c.prototype.copy=function(o,f,M,q){if(!c.isBuffer(o))throw new TypeError("argument should be a Buffer");if(M||(M=0),!q&&q!==0&&(q=this.length),f>=o.length&&(f=o.length),f||(f=0),q>0&&q<M&&(q=M),q===M||o.length===0||this.length===0)return 0;if(f<0)throw new RangeError("targetStart out of bounds");if(M<0||M>=this.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("sourceEnd out of bounds");q>this.length&&(q=this.length),o.length-f<q-M&&(q=o.length-f+M);const I=q-M;return this===o&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(f,M,q):Uint8Array.prototype.set.call(o,this.subarray(M,q),f),I},c.prototype.fill=function(o,f,M,q){if(typeof o=="string"){if(typeof f=="string"?(q=f,f=0,M=this.length):typeof M=="string"&&(q=M,M=this.length),q!==void 0&&typeof q!="string")throw new TypeError("encoding must be a string");if(typeof q=="string"&&!c.isEncoding(q))throw new TypeError("Unknown encoding: "+q);if(o.length===1){const $=o.charCodeAt(0);(q==="utf8"&&$<128||q==="latin1")&&(o=$)}}else typeof o=="number"?o=o&255:typeof o=="boolean"&&(o=Number(o));if(f<0||this.length<f||this.length<M)throw new RangeError("Out of range index");if(M<=f)return this;f=f>>>0,M=M===void 0?this.length:M>>>0,o||(o=0);let I;if(typeof o=="number")for(I=f;I<M;++I)this[I]=o;else{const $=c.isBuffer(o)?o:c.from(o,q),gt=$.length;if(gt===0)throw new TypeError('The value "'+o+'" is invalid for argument "value"');for(I=0;I<M-f;++I)this[I+f]=$[I%gt]}return this};const ie={};function An(S,o,f){ie[S]=class extends f{constructor(){super(),Object.defineProperty(this,"message",{value:o.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${S}]`,this.stack,delete this.name}get code(){return S}set code(q){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:q,writable:!0})}toString(){return`${this.name} [${S}]: ${this.message}`}}}An("ERR_BUFFER_OUT_OF_BOUNDS",function(S){return S?`${S} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),An("ERR_INVALID_ARG_TYPE",function(S,o){return`The "${S}" argument must be of type number. Received type ${typeof o}`},TypeError),An("ERR_OUT_OF_RANGE",function(S,o,f){let M=`The value of "${S}" is out of range.`,q=f;return Number.isInteger(f)&&Math.abs(f)>2**32?q=Zn(String(f)):typeof f=="bigint"&&(q=String(f),(f>BigInt(2)**BigInt(32)||f<-(BigInt(2)**BigInt(32)))&&(q=Zn(q)),q+="n"),M+=` It must be ${o}. Received ${q}`,M},RangeError);function Zn(S){let o="",f=S.length;const M=S[0]==="-"?1:0;for(;f>=M+4;f-=3)o=`_${S.slice(f-3,f)}${o}`;return`${S.slice(0,f)}${o}`}function on(S,o,f){ce(o,"offset"),(S[o]===void 0||S[o+f]===void 0)&&_e(o,S.length-(f+1))}function Ke(S,o,f,M,q,I){if(S>f||S<o){const $=typeof o=="bigint"?"n":"";let gt;throw o===0||o===BigInt(0)?gt=`>= 0${$} and < 2${$} ** ${(I+1)*8}${$}`:gt=`>= -(2${$} ** ${(I+1)*8-1}${$}) and < 2 ** ${(I+1)*8-1}${$}`,new ie.ERR_OUT_OF_RANGE("value",gt,S)}on(M,q,I)}function ce(S,o){if(typeof S!="number")throw new ie.ERR_INVALID_ARG_TYPE(o,"number",S)}function _e(S,o,f){throw Math.floor(S)!==S?(ce(S,f),new ie.ERR_OUT_OF_RANGE("offset","an integer",S)):o<0?new ie.ERR_BUFFER_OUT_OF_BOUNDS:new ie.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${o}`,S)}const Tn=/[^+/0-9A-Za-z-_]/g;function Pn(S){if(S=S.split("=")[0],S=S.trim().replace(Tn,""),S.length<2)return"";for(;S.length%4!==0;)S=S+"=";return S}function fe(S,o){o=o||1/0;let f;const M=S.length;let q=null;const I=[];for(let $=0;$<M;++$){if(f=S.charCodeAt($),f>55295&&f<57344){if(!q){if(f>56319){(o-=3)>-1&&I.push(239,191,189);continue}else if($+1===M){(o-=3)>-1&&I.push(239,191,189);continue}q=f;continue}if(f<56320){(o-=3)>-1&&I.push(239,191,189),q=f;continue}f=(q-55296<<10|f-56320)+65536}else q&&(o-=3)>-1&&I.push(239,191,189);if(q=null,f<128){if((o-=1)<0)break;I.push(f)}else if(f<2048){if((o-=2)<0)break;I.push(f>>6|192,f&63|128)}else if(f<65536){if((o-=3)<0)break;I.push(f>>12|224,f>>6&63|128,f&63|128)}else if(f<1114112){if((o-=4)<0)break;I.push(f>>18|240,f>>12&63|128,f>>6&63|128,f&63|128)}else throw new Error("Invalid code point")}return I}function In(S){const o=[];for(let f=0;f<S.length;++f)o.push(S.charCodeAt(f)&255);return o}function un(S,o){let f,M,q;const I=[];for(let $=0;$<S.length&&!((o-=2)<0);++$)f=S.charCodeAt($),M=f>>8,q=f%256,I.push(q),I.push(M);return I}function he(S){return a.toByteArray(Pn(S))}function xe(S,o,f,M){let q;for(q=0;q<M&&!(q+f>=o.length||q>=S.length);++q)o[q+f]=S[q];return q}function de(S,o){return S instanceof o||S!=null&&S.constructor!=null&&S.constructor.name!=null&&S.constructor.name===o.name}function We(S){return S!==S}const $e=(function(){const S="0123456789abcdef",o=new Array(256);for(let f=0;f<16;++f){const M=f*16;for(let q=0;q<16;++q)o[M+q]=S[f]+S[q]}return o})();function Ce(S){return typeof BigInt>"u"?na:S}function na(){throw new Error("BigInt not supported")}})(So)),So}var bo,Rh;function hb(){if(Rh)return bo;Rh=1;const r=fb().Buffer,a=Pt.StringDecoder,h=new a,l=ea(),d=l.ReplyError,C=l.ParserError;var _=r.allocUnsafe(32*1024),c=0,p=null,y=0,m=0;function g(D){const G=D.buffer.length-1;var at=D.offset,k=0,F=1;for(D.buffer[at]===45&&(F=-1,at++);at<G;){const Z=D.buffer[at++];if(Z===13)return D.offset=at+1,F*k;k=k*10+(Z-48)}}function b(D){const G=D.buffer.length-1;var at=D.offset,k=0,F="";for(D.buffer[at]===45&&(F+="-",at++);at<G;){var Z=D.buffer[at++];if(Z===13)return D.offset=at+1,k!==0&&(F+=k),F;k>429496728?(F+=k*10+(Z-48),k=0):Z===48&&k===0?F+=0:k=k*10+(Z-48)}}function x(D){const G=D.offset,at=D.buffer,k=at.length-1;for(var F=G;F<k;)if(at[F++]===13)return D.offset=F+1,D.optionReturnBuffers===!0?D.buffer.slice(G,F-1):D.buffer.toString("utf8",G,F-1)}function v(D){const G=D.buffer.length-1;for(var at=D.offset,k=0;at<G;){const F=D.buffer[at++];if(F===13)return D.offset=at+1,k;k=k*10+(F-48)}}function O(D){return D.optionStringNumbers===!0?b(D):g(D)}function N(D){const G=v(D);if(G===void 0)return;if(G<0)return null;const at=D.offset+G;if(at+2>D.buffer.length){D.bigStrSize=at+2,D.totalChunkSize=D.buffer.length,D.bufferCache.push(D.buffer);return}const k=D.offset;return D.offset=at+2,D.optionReturnBuffers===!0?D.buffer.slice(k,at):D.buffer.toString("utf8",k,at)}function A(D){var G=x(D);if(G!==void 0)return D.optionReturnBuffers===!0&&(G=G.toString()),new d(G)}function j(D,G){const at=new C("Protocol error, got "+JSON.stringify(String.fromCharCode(G))+" as reply type byte",JSON.stringify(D.buffer),D.offset);D.buffer=null,D.returnFatalError(at)}function R(D){const G=v(D);if(G===void 0)return;if(G<0)return null;const at=new Array(G);return et(D,at,0)}function L(D,G,at){D.arrayCache.push(G),D.arrayPos.push(at)}function X(D){const G=D.arrayCache.pop();var at=D.arrayPos.pop();if(D.arrayCache.length){const k=X(D);if(k===void 0){L(D,G,at);return}G[at++]=k}return et(D,G,at)}function et(D,G,at){const k=D.buffer.length;for(;at<G.length;){const F=D.offset;if(D.offset>=k){L(D,G,at);return}const Z=T(D,D.buffer[D.offset++]);if(Z===void 0){D.arrayCache.length||D.bufferCache.length||(D.offset=F),L(D,G,at);return}G[at]=Z,at++}return G}function T(D,G){switch(G){case 36:return N(D);case 43:return x(D);case 42:return R(D);case 58:return O(D);case 45:return A(D);default:return j(D,G)}}function B(){if(_.length>50*1024)if(y===1||m>y*2){const D=Math.floor(_.length/10),G=D<c?c:D;c=0,_=_.slice(G,_.length)}else m++,y--;else clearInterval(p),y=0,m=0,p=null}function Q(D){if(_.length<D+c){const G=D>78643200?2:3;c>1024*1024*111&&(c=1024*1024*50),_=r.allocUnsafe(D*G+c),c=0,y++,p===null&&(p=setInterval(B,50))}}function U(D){const G=D.bufferCache,at=D.offset;var k=G.length,F=D.bigStrSize-D.totalChunkSize;if(D.offset=F,F<=2){if(k===2)return G[0].toString("utf8",at,G[0].length+F-2);k--,F=G[G.length-2].length+F}for(var Z=h.write(G[0].slice(at)),w=1;w<k-1;w++)Z+=h.write(G[w]);return Z+=h.end(G[w].slice(0,F-2)),Z}function tt(D){const G=D.bufferCache,at=D.offset,k=D.bigStrSize-at-2;var F=G.length,Z=D.bigStrSize-D.totalChunkSize;if(D.offset=Z,Z<=2){if(F===2)return G[0].slice(at,G[0].length+Z-2);F--,Z=G[G.length-2].length+Z}Q(k);const w=c;G[0].copy(_,w,at,G[0].length),c+=G[0].length-at;for(var W=1;W<F-1;W++)G[W].copy(_,c),c+=G[W].length;return G[W].copy(_,c,0,Z-2),c+=Z-2,_.slice(w,c)}class pt{constructor(G){if(!G)throw new TypeError("Options are mandatory.");if(typeof G.returnError!="function"||typeof G.returnReply!="function")throw new TypeError("The returnReply and returnError options have to be functions.");this.setReturnBuffers(!!G.returnBuffers),this.setStringNumbers(!!G.stringNumbers),this.returnError=G.returnError,this.returnFatalError=G.returnFatalError||G.returnError,this.returnReply=G.returnReply,this.reset()}reset(){this.offset=0,this.buffer=null,this.bigStrSize=0,this.totalChunkSize=0,this.bufferCache=[],this.arrayCache=[],this.arrayPos=[]}setReturnBuffers(G){if(typeof G!="boolean")throw new TypeError("The returnBuffers argument has to be a boolean");this.optionReturnBuffers=G}setStringNumbers(G){if(typeof G!="boolean")throw new TypeError("The stringNumbers argument has to be a boolean");this.optionStringNumbers=G}execute(G){if(this.buffer===null)this.buffer=G,this.offset=0;else if(this.bigStrSize===0){const k=this.buffer.length,F=k-this.offset,Z=r.allocUnsafe(F+G.length);if(this.buffer.copy(Z,0,this.offset,k),G.copy(Z,F,0,G.length),this.buffer=Z,this.offset=0,this.arrayCache.length){const w=X(this);if(w===void 0)return;this.returnReply(w)}}else if(this.totalChunkSize+G.length>=this.bigStrSize){this.bufferCache.push(G);var at=this.optionReturnBuffers?tt(this):U(this);if(this.bigStrSize=0,this.bufferCache=[],this.buffer=G,this.arrayCache.length&&(this.arrayCache[0][this.arrayPos[0]++]=at,at=X(this),at===void 0))return;this.returnReply(at)}else{this.bufferCache.push(G),this.totalChunkSize+=G.length;return}for(;this.offset<this.buffer.length;){const k=this.offset,F=this.buffer[this.offset++],Z=T(this,F);if(Z===void 0){this.arrayCache.length||this.bufferCache.length||(this.offset=k);return}F===45?this.returnError(Z):this.returnReply(Z)}this.buffer=null}}return bo=pt,bo}var Eo,Nh;function db(){return Nh||(Nh=1,Eo=hb()),Eo}var tr={},Oh;function pb(){if(Oh)return tr;Oh=1,Object.defineProperty(tr,"__esModule",{value:!0});let r=class{constructor(){this.set={subscribe:{},psubscribe:{},ssubscribe:{}}}add(l,d){this.set[a(l)][d]=!0}del(l,d){delete this.set[a(l)][d]}channels(l){return Object.keys(this.set[a(l)])}isEmpty(){return this.channels("subscribe").length===0&&this.channels("psubscribe").length===0&&this.channels("ssubscribe").length===0}};tr.default=r;function a(h){return h==="unsubscribe"?"subscribe":h==="punsubscribe"?"psubscribe":h==="sunsubscribe"?"ssubscribe":h}return tr}var jh;function yb(){if(jh)return Ws;jh=1,Object.defineProperty(Ws,"__esModule",{value:!0});const r=Xn(),a=ue(),h=db(),l=pb(),d=(0,a.Debug)("dataHandler");let C=class{constructor(m,g){this.redis=m;const b=new h({stringNumbers:g.stringNumbers,returnBuffers:!0,returnError:x=>{this.returnError(x)},returnFatalError:x=>{this.returnFatalError(x)},returnReply:x=>{this.returnReply(x)}});m.stream.prependListener("data",x=>{b.execute(x)}),m.stream.resume()}returnFatalError(m){m.message+=". Please report this.",this.redis.recoverFromFatalError(m,m,{offlineQueue:!1})}returnError(m){const g=this.shiftCommand(m);if(g){if(m.command={name:g.command.name,args:g.command.args},g.command.name=="ssubscribe"&&m.message.includes("MOVED")){this.redis.emit("moved");return}this.redis.handleReconnection(m,g)}}returnReply(m){if(this.handleMonitorReply(m)||this.handleSubscriberReply(m))return;const g=this.shiftCommand(m);g&&(r.default.checkFlag("ENTER_SUBSCRIBER_MODE",g.command.name)?(this.redis.condition.subscriber=new l.default,this.redis.condition.subscriber.add(g.command.name,m[1].toString()),c(g.command,m[2])||this.redis.commandQueue.unshift(g)):r.default.checkFlag("EXIT_SUBSCRIBER_MODE",g.command.name)?p(g.command,m[2])||this.redis.commandQueue.unshift(g):g.command.resolve(m))}handleSubscriberReply(m){if(!this.redis.condition.subscriber)return!1;const g=Array.isArray(m)?m[0].toString():null;switch(d('receive reply "%s" in subscriber mode',g),g){case"message":this.redis.listeners("message").length>0&&this.redis.emit("message",m[1].toString(),m[2]?m[2].toString():""),this.redis.emit("messageBuffer",m[1],m[2]);break;case"pmessage":{const b=m[1].toString();this.redis.listeners("pmessage").length>0&&this.redis.emit("pmessage",b,m[2].toString(),m[3].toString()),this.redis.emit("pmessageBuffer",b,m[2],m[3]);break}case"smessage":{this.redis.listeners("smessage").length>0&&this.redis.emit("smessage",m[1].toString(),m[2]?m[2].toString():""),this.redis.emit("smessageBuffer",m[1],m[2]);break}case"ssubscribe":case"subscribe":case"psubscribe":{const b=m[1].toString();this.redis.condition.subscriber.add(g,b);const x=this.shiftCommand(m);if(!x)return;c(x.command,m[2])||this.redis.commandQueue.unshift(x);break}case"sunsubscribe":case"unsubscribe":case"punsubscribe":{const b=m[1]?m[1].toString():null;b&&this.redis.condition.subscriber.del(g,b);const x=m[2];Number(x)===0&&(this.redis.condition.subscriber=!1);const v=this.shiftCommand(m);if(!v)return;p(v.command,x)||this.redis.commandQueue.unshift(v);break}default:{const b=this.shiftCommand(m);if(!b)return;b.command.resolve(m)}}return!0}handleMonitorReply(m){if(this.redis.status!=="monitoring")return!1;const g=m.toString();if(g==="OK")return!1;const b=g.indexOf(" "),x=g.slice(0,b),v=g.indexOf('"'),O=g.slice(v+1,-1).split('" "').map(A=>A.replace(/\\"/g,'"')),N=g.slice(b+2,v-2).split(" ");return this.redis.emit("monitor",x,O,N[1],N[0]),!0}shiftCommand(m){const g=this.redis.commandQueue.shift();if(!g){const b="Command queue state error. If you can reproduce this, please report it.",x=new Error(b+(m instanceof Error?` Last error: ${m.message}`:` Last reply: ${m.toString()}`));return this.redis.emit("error",x),null}return g}};Ws.default=C;const _=new WeakMap;function c(y,m){let g=_.has(y)?_.get(y):y.args.length;return g-=1,g<=0?(y.resolve(m),_.delete(y),!0):(_.set(y,g),!1)}function p(y,m){let g=_.has(y)?_.get(y):y.args.length;return g===0?Number(m)===0?(_.delete(y),y.resolve(m),!0):!1:(g-=1,g<=0?(y.resolve(m),!0):(_.set(y,g),!1))}return Ws}var Bh;function mb(){return Bh||(Bh=1,(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.readyHandler=r.errorHandler=r.closeHandler=r.connectHandler=void 0;const a=ea(),h=Xn(),l=ob(),d=ue(),C=yb(),_=(0,d.Debug)("connection");function c(v){return function(){var O;v.setStatus("connect"),v.resetCommandQueue();let N=!1;const{connectionEpoch:A}=v;v.condition.auth&&v.auth(v.condition.auth,function(R){A===v.connectionEpoch&&R&&(R.message.indexOf("no password is set")!==-1?console.warn("[WARN] Redis server does not require a password, but a password was supplied."):R.message.indexOf("without any password configured for the default user")!==-1?console.warn("[WARN] This Redis server's `default` user does not require a password, but a password was supplied"):R.message.indexOf("wrong number of arguments for 'auth' command")!==-1?console.warn(`[ERROR] The server returned "wrong number of arguments for 'auth' command". You are probably passing both username and password to Redis version 5 or below. You should only pass the 'password' option for Redis version 5 and under.`):(N=!0,v.recoverFromFatalError(R,R)))}),v.condition.select&&v.select(v.condition.select).catch(R=>{v.silentEmit("error",R)}),new C.default(v,{stringNumbers:v.options.stringNumbers});const j=[];v.options.connectionName&&(_("set the connection name [%s]",v.options.connectionName),j.push(v.client("setname",v.options.connectionName).catch(d.noop))),v.options.disableClientInfo||(_("set the client info"),j.push((0,d.getPackageMeta)().then(R=>v.client("SETINFO","LIB-VER",R.version).catch(d.noop)).catch(d.noop)),j.push(v.client("SETINFO","LIB-NAME",!((O=v.options)===null||O===void 0)&&O.clientInfoTag?`ioredis(${v.options.clientInfoTag})`:"ioredis").catch(d.noop))),Promise.all(j).catch(d.noop).finally(()=>{v.options.enableReadyCheck||r.readyHandler(v)(),v.options.enableReadyCheck&&v._readyCheck(function(R,L){A===v.connectionEpoch&&(R?N||v.recoverFromFatalError(new Error("Ready check failed: "+R.message),R):v.connector.check(L)?r.readyHandler(v)():v.disconnect(!0))})})}}r.connectHandler=c;function p(v){const O=new a.AbortError("Command aborted due to connection close");return O.command={name:v.name,args:v.args},O}function y(v){var O;let N=0;for(let A=0;A<v.length;){const j=(O=v.peekAt(A))===null||O===void 0?void 0:O.command,R=j.pipelineIndex;if((R===void 0||R===0)&&(N=0),R!==void 0&&R!==N++){v.remove(A,1),j.reject(p(j));continue}A++}}function m(v){var O;for(let N=0;N<v.length;){const A=(O=v.peekAt(N))===null||O===void 0?void 0:O.command;if(A.name==="multi")break;if(A.name==="exec"){v.remove(N,1),A.reject(p(A));break}A.inTransaction?(v.remove(N,1),A.reject(p(A))):N++}}function g(v){return function(){const N=v.status;if(v.setStatus("close"),v.commandQueue.length&&y(v.commandQueue),v.offlineQueue.length&&m(v.offlineQueue),N==="ready"&&(v.prevCondition||(v.prevCondition=v.condition),v.commandQueue.length&&(v.prevCommandQueue=v.commandQueue)),v.manuallyClosing)return v.manuallyClosing=!1,_("skip reconnecting since the connection is manually closed."),O();if(typeof v.options.retryStrategy!="function")return _("skip reconnecting because `retryStrategy` is not a function"),O();const A=v.options.retryStrategy(++v.retryAttempts);if(typeof A!="number")return _("skip reconnecting because `retryStrategy` doesn't return a number"),O();_("reconnect in %sms",A),v.setStatus("reconnecting",A),v.reconnectTimeout=setTimeout(function(){v.reconnectTimeout=null,v.connect().catch(d.noop)},A);const{maxRetriesPerRequest:j}=v.options;typeof j=="number"&&(j<0?_("maxRetriesPerRequest is negative, ignoring..."):v.retryAttempts%(j+1)===0&&(_("reach maxRetriesPerRequest limitation, flushing command queue..."),v.flushQueue(new l.MaxRetriesPerRequestError(j))))};function O(){v.setStatus("end"),v.flushQueue(new Error(d.CONNECTION_CLOSED_ERROR_MSG))}}r.closeHandler=g;function b(v){return function(O){_("error: %s",O),v.silentEmit("error",O)}}r.errorHandler=b;function x(v){return function(){if(v.setStatus("ready"),v.retryAttempts=0,v.options.monitor){v.call("monitor").then(()=>v.setStatus("monitoring"),A=>v.emit("error",A));const{sendCommand:N}=v;v.sendCommand=function(A){return h.default.checkFlag("VALID_IN_MONITOR_MODE",A.name)?N.call(v,A):(A.reject(new Error("Connection is in monitoring mode, can't process commands.")),A.promise)},v.once("close",function(){delete v.sendCommand});return}const O=v.prevCondition?v.prevCondition.select:v.condition.select;if(v.options.readOnly&&(_("set the connection to readonly mode"),v.readonly().catch(d.noop)),v.prevCondition){const N=v.prevCondition;if(v.prevCondition=null,N.subscriber&&v.options.autoResubscribe){v.condition.select!==O&&(_("connect to db [%d]",O),v.select(O));const A=N.subscriber.channels("subscribe");A.length&&(_("subscribe %d channels",A.length),v.subscribe(A));const j=N.subscriber.channels("psubscribe");j.length&&(_("psubscribe %d channels",j.length),v.psubscribe(j));const R=N.subscriber.channels("ssubscribe");if(R.length){_("ssubscribe %s",R.length);for(const L of R)v.ssubscribe(L)}}}if(v.prevCommandQueue)if(v.options.autoResendUnfulfilledCommands)for(_("resend %d unfulfilled commands",v.prevCommandQueue.length);v.prevCommandQueue.length>0;){const N=v.prevCommandQueue.shift();N.select!==v.condition.select&&N.command.name!=="select"&&v.select(N.select),v.sendCommand(N.command,N.stream)}else v.prevCommandQueue=null;if(v.offlineQueue.length){_("send %d commands in offline queue",v.offlineQueue.length);const N=v.offlineQueue;for(v.resetOfflineQueue();N.length>0;){const A=N.shift();A.select!==v.condition.select&&A.command.name!=="select"&&v.select(A.select),v.sendCommand(A.command,A.stream)}}v.condition.select!==O&&(_("connect to db [%d]",O),v.select(O))}}r.readyHandler=x})(vo)),vo}var Ua={},zh;function gb(){return zh||(zh=1,Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.DEFAULT_REDIS_OPTIONS=void 0,Ua.DEFAULT_REDIS_OPTIONS={port:6379,host:"localhost",family:0,connectTimeout:1e4,disconnectTimeout:2e3,retryStrategy:function(r){return Math.min(r*50,2e3)},keepAlive:0,noDelay:!0,connectionName:null,disableClientInfo:!1,clientInfoTag:void 0,sentinels:null,name:null,role:"master",sentinelRetryStrategy:function(r){return Math.min(r*10,1e3)},sentinelReconnectStrategy:function(){return 6e4},natMap:null,enableTLSForSentinelMode:!1,updateSentinels:!0,failoverDetector:!1,username:null,password:null,db:0,enableOfflineQueue:!0,enableReadyCheck:!0,autoResubscribe:!0,autoResendUnfulfilledCommands:!0,lazyConnect:!1,keyPrefix:"",reconnectOnError:null,readOnly:!1,stringNumbers:!1,maxRetriesPerRequest:20,maxLoadingRetryTime:1e4,enableAutoPipelining:!1,autoPipeliningIgnoredCommands:[],sentinelMaxConnections:10}),Ua}var Dh;function gi(){if(Dh)return js;Dh=1,Object.defineProperty(js,"__esModule",{value:!0});const r=Ya(),a=Pt,h=Si(),l=pd(),d=Xn(),C=rb(),_=qo(),c=mb(),p=gb(),y=wo(),m=cd(),g=ue(),b=fd(),x=Uo(),v=Do(),O=ko(),N=(0,g.Debug)("redis");class A extends x.default{constructor(R,L,X){if(super(),this.status="wait",this.isCluster=!1,this.reconnectTimeout=null,this.connectionEpoch=0,this.retryAttempts=0,this.manuallyClosing=!1,this._autoPipelines=new Map,this._runningAutoPipelines=new Set,this.parseOptions(R,L,X),a.EventEmitter.call(this),this.resetCommandQueue(),this.resetOfflineQueue(),this.options.Connector)this.connector=new this.options.Connector(this.options);else if(this.options.sentinels){const et=new _.default(this.options);et.emitter=this,this.connector=et}else this.connector=new C.StandaloneConnector(this.options);this.options.scripts&&Object.entries(this.options.scripts).forEach(([et,T])=>{this.defineCommand(et,T)}),this.options.lazyConnect?this.setStatus("wait"):this.connect().catch(v.noop)}static createClient(...R){return new A(...R)}get autoPipelineQueueSize(){let R=0;for(const L of this._autoPipelines.values())R+=L.length;return R}connect(R){const L=new Promise((X,et)=>{if(this.status==="connecting"||this.status==="connect"||this.status==="ready"){et(new Error("Redis is already connecting/connected"));return}this.connectionEpoch+=1,this.setStatus("connecting");const{options:T}=this;this.condition={select:T.db,auth:T.username?[T.username,T.password]:T.password,subscriber:!1};const B=this;(0,h.default)(this.connector.connect(function(Q,U){B.silentEmit(Q,U)}),function(Q,U){if(Q){B.flushQueue(Q),B.silentEmit("error",Q),et(Q),B.setStatus("end");return}let tt=T.tls?"secureConnect":"connect";if("sentinels"in T&&T.sentinels&&!T.enableTLSForSentinelMode&&(tt="connect"),B.stream=U,T.noDelay&&U.setNoDelay(!0),typeof T.keepAlive=="number"&&(U.connecting?U.once(tt,()=>{U.setKeepAlive(!0,T.keepAlive)}):U.setKeepAlive(!0,T.keepAlive)),U.connecting){if(U.once(tt,c.connectHandler(B)),T.connectTimeout){let G=!1;U.setTimeout(T.connectTimeout,function(){if(G)return;U.setTimeout(0),U.destroy();const at=new Error("connect ETIMEDOUT");at.errorno="ETIMEDOUT",at.code="ETIMEDOUT",at.syscall="connect",c.errorHandler(B)(at)}),U.once(tt,function(){G=!0,U.setTimeout(0)})}}else if(U.destroyed){const G=B.connector.firstError;G&&process.nextTick(()=>{c.errorHandler(B)(G)}),process.nextTick(c.closeHandler(B))}else process.nextTick(c.connectHandler(B));U.destroyed||(U.once("error",c.errorHandler(B)),U.once("close",c.closeHandler(B)));const pt=function(){B.removeListener("close",D),X()};var D=function(){B.removeListener("ready",pt),et(new Error(g.CONNECTION_CLOSED_ERROR_MSG))};B.once("ready",pt),B.once("close",D)})});return(0,h.default)(L,R)}disconnect(R=!1){R||(this.manuallyClosing=!0),this.reconnectTimeout&&!R&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null),this.status==="wait"?c.closeHandler(this)():this.connector.disconnect()}end(){this.disconnect()}duplicate(R){return new A({...this.options,...R})}get mode(){var R;return this.options.monitor?"monitor":!((R=this.condition)===null||R===void 0)&&R.subscriber?"subscriber":"normal"}monitor(R){const L=this.duplicate({monitor:!0,lazyConnect:!1});return(0,h.default)(new Promise(function(X,et){L.once("error",et),L.once("monitoring",function(){X(L)})}),R)}sendCommand(R,L){var X,et;if(this.status==="wait"&&this.connect().catch(v.noop),this.status==="end")return R.reject(new Error(g.CONNECTION_CLOSED_ERROR_MSG)),R.promise;if(!((X=this.condition)===null||X===void 0)&&X.subscriber&&!d.default.checkFlag("VALID_IN_SUBSCRIBER_MODE",R.name))return R.reject(new Error("Connection in subscriber mode, only subscriber commands may be used")),R.promise;typeof this.options.commandTimeout=="number"&&R.setTimeout(this.options.commandTimeout);let T=this.status==="ready"||!L&&this.status==="connect"&&(0,r.exists)(R.name)&&((0,r.hasFlag)(R.name,"loading")||d.default.checkFlag("HANDSHAKE_COMMANDS",R.name));if(this.stream&&this.stream.writable?this.stream._writableState&&this.stream._writableState.ended&&(T=!1):T=!1,T)N.enabled&&N("write command[%s]: %d -> %s(%o)",this._getDescription(),(et=this.condition)===null||et===void 0?void 0:et.select,R.name,R.args),L?"isPipeline"in L&&L.isPipeline?L.write(R.toWritable(L.destination.redis.stream)):L.write(R.toWritable(L)):this.stream.write(R.toWritable(this.stream)),this.commandQueue.push({command:R,stream:L,select:this.condition.select}),d.default.checkFlag("WILL_DISCONNECT",R.name)&&(this.manuallyClosing=!0),this.options.socketTimeout!==void 0&&this.socketTimeoutTimer===void 0&&this.setSocketTimeout();else{if(!this.options.enableOfflineQueue)return R.reject(new Error("Stream isn't writeable and enableOfflineQueue options is false")),R.promise;if(R.name==="quit"&&this.offlineQueue.length===0)return this.disconnect(),R.resolve(Buffer.from("OK")),R.promise;N.enabled&&N("queue command[%s]: %d -> %s(%o)",this._getDescription(),this.condition.select,R.name,R.args),this.offlineQueue.push({command:R,stream:L,select:this.condition.select})}if(R.name==="select"&&(0,g.isInt)(R.args[0])){const B=parseInt(R.args[0],10);this.condition.select!==B&&(this.condition.select=B,this.emit("select",B),N("switch to db [%d]",this.condition.select))}return R.promise}setSocketTimeout(){this.socketTimeoutTimer=setTimeout(()=>{this.stream.destroy(new Error(`Socket timeout. Expecting data, but didn't receive any in ${this.options.socketTimeout}ms.`)),this.socketTimeoutTimer=void 0},this.options.socketTimeout),this.stream.once("data",()=>{clearTimeout(this.socketTimeoutTimer),this.socketTimeoutTimer=void 0,this.commandQueue.length!==0&&this.setSocketTimeout()})}scanStream(R){return this.createScanStream("scan",{options:R})}scanBufferStream(R){return this.createScanStream("scanBuffer",{options:R})}sscanStream(R,L){return this.createScanStream("sscan",{key:R,options:L})}sscanBufferStream(R,L){return this.createScanStream("sscanBuffer",{key:R,options:L})}hscanStream(R,L){return this.createScanStream("hscan",{key:R,options:L})}hscanBufferStream(R,L){return this.createScanStream("hscanBuffer",{key:R,options:L})}zscanStream(R,L){return this.createScanStream("zscan",{key:R,options:L})}zscanBufferStream(R,L){return this.createScanStream("zscanBuffer",{key:R,options:L})}silentEmit(R,L){let X;if(!(R==="error"&&(X=L,this.status==="end"||this.manuallyClosing&&X instanceof Error&&(X.message===g.CONNECTION_CLOSED_ERROR_MSG||X.syscall==="connect"||X.syscall==="read"))))return this.listeners(R).length>0?this.emit.apply(this,arguments):(X&&X instanceof Error&&console.error("[ioredis] Unhandled error event:",X.stack),!1)}recoverFromFatalError(R,L,X){this.flushQueue(L,X),this.silentEmit("error",L),this.disconnect(!0)}handleReconnection(R,L){var X;let et=!1;switch(this.options.reconnectOnError&&!d.default.checkFlag("IGNORE_RECONNECT_ON_ERROR",L.command.name)&&(et=this.options.reconnectOnError(R)),et){case 1:case!0:this.status!=="reconnecting"&&this.disconnect(!0),L.command.reject(R);break;case 2:this.status!=="reconnecting"&&this.disconnect(!0),((X=this.condition)===null||X===void 0?void 0:X.select)!==L.select&&L.command.name!=="select"&&this.select(L.select),this.sendCommand(L.command);break;default:L.command.reject(R)}}_getDescription(){let R;return"path"in this.options&&this.options.path?R=this.options.path:this.stream&&this.stream.remoteAddress&&this.stream.remotePort?R=this.stream.remoteAddress+":"+this.stream.remotePort:"host"in this.options&&this.options.host?R=this.options.host+":"+this.options.port:R="",this.options.connectionName&&(R+=` (${this.options.connectionName})`),R}resetCommandQueue(){this.commandQueue=new O}resetOfflineQueue(){this.offlineQueue=new O}parseOptions(...R){const L={};let X=!1;for(let et=0;et<R.length;++et){const T=R[et];if(!(T===null||typeof T>"u"))if(typeof T=="object")(0,v.defaults)(L,T);else if(typeof T=="string")(0,v.defaults)(L,(0,g.parseURL)(T)),T.startsWith("rediss://")&&(X=!0);else if(typeof T=="number")L.port=T;else throw new Error("Invalid argument "+T)}X&&(0,v.defaults)(L,{tls:!0}),(0,v.defaults)(L,A.defaultOptions),typeof L.port=="string"&&(L.port=parseInt(L.port,10)),typeof L.db=="string"&&(L.db=parseInt(L.db,10)),this.options=(0,g.resolveTLSProfile)(L)}setStatus(R,L){N.enabled&&N("status[%s]: %s -> %s",this._getDescription(),this.status||"[empty]",R),this.status=R,process.nextTick(this.emit.bind(this,R,L))}createScanStream(R,{key:L,options:X={}}){return new y.default({objectMode:!0,key:L,redis:this,command:R,...X})}flushQueue(R,L){L=(0,v.defaults)({},L,{offlineQueue:!0,commandQueue:!0});let X;if(L.offlineQueue)for(;X=this.offlineQueue.shift();)X.command.reject(R);if(L.commandQueue&&this.commandQueue.length>0)for(this.stream&&this.stream.removeAllListeners("data");X=this.commandQueue.shift();)X.command.reject(R)}_readyCheck(R){const L=this;this.info(function(X,et){if(X)return X.message&&X.message.includes("NOPERM")?(console.warn(`Skipping the ready check because INFO command fails: "${X.message}". You can disable ready check with "enableReadyCheck". More: https://github.com/luin/ioredis/wiki/Disable-ready-check.`),R(null,{})):R(X);if(typeof et!="string")return R(null,et);const T={},B=et.split(`\r
`);for(let Q=0;Q<B.length;++Q){const[U,...tt]=B[Q].split(":"),pt=tt.join(":");pt&&(T[U]=pt)}if(!T.loading||T.loading==="0")R(null,T);else{const Q=(T.loading_eta_seconds||1)*1e3,U=L.options.maxLoadingRetryTime&&L.options.maxLoadingRetryTime<Q?L.options.maxLoadingRetryTime:Q;N("Redis server still loading, trying again in "+U+"ms"),setTimeout(function(){L._readyCheck(R)},U)}}).catch(v.noop)}}return A.Cluster=l.default,A.Command=d.default,A.defaultOptions=p.DEFAULT_REDIS_OPTIONS,(0,b.default)(A,a.EventEmitter),(0,m.addTransactionSupport)(A.prototype),js.default=A,js}var wh;function vb(){return wh||(wh=1,(function(r,a){Object.defineProperty(a,"__esModule",{value:!0}),a.print=a.ReplyError=a.SentinelIterator=a.SentinelConnector=a.AbstractConnector=a.Pipeline=a.ScanStream=a.Command=a.Cluster=a.Redis=a.default=void 0,a=r.exports=gi().default;var h=gi();Object.defineProperty(a,"default",{enumerable:!0,get:function(){return h.default}});var l=gi();Object.defineProperty(a,"Redis",{enumerable:!0,get:function(){return l.default}});var d=pd();Object.defineProperty(a,"Cluster",{enumerable:!0,get:function(){return d.default}});var C=Xn();Object.defineProperty(a,"Command",{enumerable:!0,get:function(){return C.default}});var _=wo();Object.defineProperty(a,"ScanStream",{enumerable:!0,get:function(){return _.default}});var c=ud();Object.defineProperty(a,"Pipeline",{enumerable:!0,get:function(){return c.default}});var p=Ho();Object.defineProperty(a,"AbstractConnector",{enumerable:!0,get:function(){return p.default}});var y=qo();Object.defineProperty(a,"SentinelConnector",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(a,"SentinelIterator",{enumerable:!0,get:function(){return y.SentinelIterator}}),a.ReplyError=ea().ReplyError,Object.defineProperty(a,"Promise",{get(){return console.warn("ioredis v5 does not support plugging third-party Promise library anymore. Native Promise will be used."),Promise},set(g){console.warn("ioredis v5 does not support plugging third-party Promise library anymore. Native Promise will be used.")}});function m(g,b){console.log(g?"Error: "+g:"Reply: "+b)}a.print=m})(Os,Os.exports)),Os.exports}var Sb=vb();const bb=Qh(Sb);var Uh={};const Ji=Uh.REDIS_URL||Uh.UPSTASH_REDIS_URL;class _o{data=new Map;constructor(){console.log("âš ï¸ Using In-Memory Mock Redis")}on(a,h){return this}async rpush(a,h){this.data.has(a)||this.data.set(a,[]),this.data.get(a).push(h)}async ltrim(a,h,l){}async expire(a,h){}async lrange(a,h,l){return this.data.get(a)||[]}async zadd(a,...h){this.data.has(a)||this.data.set(a,new Map);const l=this.data.get(a);for(let d=0;d<h.length;d+=2)l.set(h[d+1],Number(h[d]))}async zincrby(a,h,l){this.data.has(a)||this.data.set(a,new Map);const d=this.data.get(a),C=d.get(l)||0;return d.set(l,C+h),C+h}async zrange(a,h,l){if(!this.data.has(a))return[];const d=this.data.get(a);return Array.from(d.entries()).sort((c,p)=>c[1]-p[1]).slice(h,l===-1?void 0:l+1).map(c=>c[0])}async zrevrange(a,h,l,d){if(!this.data.has(a))return[];const C=this.data.get(a),c=Array.from(C.entries()).sort((p,y)=>y[1]-p[1]).slice(h,l===-1?void 0:l+1);return d?c.flatMap(p=>p):c.map(p=>p[0])}async get(a){return this.data.get(a)}async set(a,h){this.data.set(a,h)}}let Wi;if(Ji==="mock"||Ji==="redis://mock:6379"||Ji&&Ji.includes("@mock:"))Wi=new _o;else if(!Ji)console.warn("âš ï¸ REDIS_URL not configured. Using In-Memory Mock Redis."),Wi=new _o;else try{Wi=new bb(Ji,{maxRetriesPerRequest:1,retryStrategy:r=>r>3?null:Math.min(r*50,2e3)}),Wi.on("connect",()=>console.log("âœ… Redis connected")),Wi.on("error",r=>console.warn("Redis Connection Warning:",r.message))}catch(r){console.warn("Failed to init Redis, falling back to mock",r),Wi=new _o}const kh=async()=>{try{const r=await fetch("/api/telemetry");if(!r.ok)throw new Error("Failed to fetch");return await r.json()}catch(r){return console.warn("Telemetry offline, using fallback",r),{active_nodes:0,threats_blocked:0,global_latency_ms:0,cache_efficiency:0}}};function Eb(){const[r,a]=ct.useState({active_nodes:0,threats_blocked:0,global_latency_ms:0,cache_efficiency:0});return ct.useEffect(()=>{kh().then(a);const h=setInterval(async()=>{const l=await kh();a(l)},3e3);return()=>clearInterval(h)},[]),Y.jsxs("div",{className:"absolute inset-0 pointer-events-none p-8 flex flex-col justify-between z-10",children:[Y.jsxs("div",{className:"flex justify-between items-start",children:[Y.jsxs("div",{children:[Y.jsx("div",{className:"text-xs font-mono text-blue-400 mb-1",children:"SYSTEM STATUS"}),Y.jsxs("div",{className:"text-2xl font-bold text-white tracking-widest",children:["SENTINEL ",Y.jsx("span",{className:"text-green-400",children:"ONLINE"})]})]}),Y.jsxs("div",{className:"text-right",children:[Y.jsx("div",{className:"text-xs font-mono text-blue-400 mb-1",children:"SECURE CONNECTION"}),Y.jsx("div",{className:"text-xl font-mono text-white",children:"TLS 1.3 / AES-256"})]})]}),Y.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-64 border border-blue-500/20 rounded-full flex items-center justify-center",children:Y.jsx("div",{className:"w-60 h-60 border border-dashed border-blue-500/10 rounded-full animate-spin-slow"})}),Y.jsxs("div",{className:"grid grid-cols-4 gap-4 bg-slate-900/80 backdrop-blur-md p-4 rounded-xl border border-blue-500/30",children:[Y.jsxs("div",{children:[Y.jsx("div",{className:"text-xs font-mono text-slate-400",children:"ACTIVE NODES"}),Y.jsx("div",{className:"text-2xl font-bold text-blue-400",children:r.active_nodes})]}),Y.jsxs("div",{children:[Y.jsx("div",{className:"text-xs font-mono text-slate-400",children:"THREATS BLOCKED"}),Y.jsx("div",{className:"text-2xl font-bold text-red-400",children:r.threats_blocked.toLocaleString()})]}),Y.jsxs("div",{children:[Y.jsx("div",{className:"text-xs font-mono text-slate-400",children:"GLOBAL LATENCY"}),Y.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[r.global_latency_ms,"ms"]})]}),Y.jsxs("div",{children:[Y.jsx("div",{className:"text-xs font-mono text-slate-400",children:"CACHE EFFICIENCY"}),Y.jsxs("div",{className:"text-2xl font-bold text-purple-400",children:[r.cache_efficiency,"%"]})]})]})]})}const Hh=document.getElementById("sentinel-root");Hh&&Lh.createRoot(Hh).render(Y.jsxs(qh.Fragment,{children:[Y.jsx(dm,{}),Y.jsx(Eb,{})]}));window.startWizard=function(){const r=document.getElementById("wizard-root");if(r){const a=Lh.createRoot(r);a.render(Y.jsx(Ly,{onClose:()=>a.unmount(),onComplete:h=>{console.log("Provisioning Complete:",h),a.unmount(),alert("Workspace Provisioned: "+h.agency.name)}}))}};
